<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="Hexo Theme Keep"><meta name="author" content="慕雪年华"><meta name="baidu-site-verification" content="codeva-E1K9nNha9u"><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"JwxEfuZ8fwQ1GPEq",ck:"JwxEfuZ8fwQ1GPEq"})</script><title>【C语言】童年经典游戏-扫雷 | 慕雪的寒舍</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/myPNG.jpg"><link rel="stylesheet" href="//unpkg.com/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css"><link rel="stylesheet" href="//unpkg.com/hexo-theme-keep@3.6.1/source/font/css/regular.min.css"><link rel="stylesheet" href="//unpkg.com/hexo-theme-keep@3.6.1/source/font/css/solid.min.css"><link rel="stylesheet" href="//unpkg.com/hexo-theme-keep@3.6.1/source/font/css/brands.min.css"><script id="hexo-configurations">let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"blog.outpost54.top","root":"/","language":"zh-CN","path":"search.json"}
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066cc","logo":"/images/myPNG.jpg","favicon":"/images/myPNG.jpg","avatar":"/images/myPNG.jpg","font_size":null,"font_family":null,"left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"header_transparent":false,"background_img":"/images/MainBG.jpg","background_post_img":"/images/mothra.png","description":"吾心如一，慕雪纷纷","font_color":null,"hitokoto":true},"scroll":{"progress_bar":true,"percent":true}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":true,"use":"waline","valine":{"appid":"meufCipLPHNWVE3gWEnozHzz-gzGzoHsz","appkey":"CFX9WelJjGHkaMnSunOlv3dX","server_urls":null,"placeholder":"欢迎留下你的声音😋"},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":"https://vrcl.outpost54.top/","reaction":false,"version":2}},"post":{"author_label":{"enable":false,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":false},"img_align":"center","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/images/myPNG.jpg"> </a><a class="logo-title" href="/">慕雪的寒舍</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item"><a href="/categories">分类</a></li><li class="menu-item"><a href="/tags">标签</a></li><li class="menu-item"><a href="/QA">留言板</a></li><li class="menu-item"><a href="/links">友链</a></li><li class="menu-item"><a href="/about">关于</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li><li class="drawer-menu-item flex-center"><a href="/categories">分类</a></li><li class="drawer-menu-item flex-center"><a href="/tags">标签</a></li><li class="drawer-menu-item flex-center"><a href="/QA">留言板</a></li><li class="drawer-menu-item flex-center"><a href="/links">友链</a></li><li class="drawer-menu-item flex-center"><a href="/about">关于</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="post-page-container"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">【C语言】童年经典游戏-扫雷</span></div><div class="article-header"><div class="avatar"><img src="/images/myPNG.jpg"></div><div class="info"><div class="author"><span class="name">慕雪年华</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-calendar-plus"></i>&nbsp; <span class="pc">2021-09-03 09:32:28</span> <span class="mobile">2021-09-03 09:32</span> </span><span class="article-update-date article-meta-item"><i class="fas fa-file-pen"></i>&nbsp; <span class="pc">2023-01-08 18:13:22</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/C%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/">C语言进阶</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/C%E8%AF%AD%E8%A8%80/">C语言</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>3k 字</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content keep-markdown-body"><p>想必屏幕前的你，肯定玩过windows XP系统自带的那个游戏，扫雷</p><span id="more"></span><p>回想当年，我根本没看懂这个游戏是怎么玩的</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/b1b280a5630eb0bfc4022f582e69ccf5.png" alt="image-20210903085601506"></p><p>比起扫雷，三维弹球对我更有吸引力</p><p>跑题了</p><p>本篇博客就让我们一起来试试，如何通过C语言代码，制作出一个“扫雷游戏se”</p><h1 id="1-游戏程序主函数"><a href="#1-游戏程序主函数" class="headerlink" title="1.游戏程序主函数"></a>1.游戏程序主函数</h1><p>在编写这类游戏代码时，我们要用到的主函数基本是一致的</p><p>扫雷游戏的主函数和猜数字游戏的主函数相差很小</p><p><a class="link" target="_blank" rel="noopener" href="https://blog.csdn.net/muxuen/article/details/119678519?spm=1001.2014.3001.5501">小白必学！简单的C语言应用&#x3D;&#x3D;＞猜数字游戏<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">menu</span><span class="params">()</span><span class="comment">//简易目录</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***************************\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;**** 1. play   0. exit*****\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;***************************\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		menu();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请选择:&gt;&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">		<span class="keyword">switch</span> (input)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			game();<span class="comment">//实现游戏的函数</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;退出游戏\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;输入错误\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">while</span> (input);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-游戏实现原理"><a href="#2-游戏实现原理" class="headerlink" title="2.游戏实现原理"></a>2.游戏实现原理</h1><p>想写好一串代码，首先我们要知道扫雷游戏需要通过什么方式来实现</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/eb06ebf7721c1576ace47d7cce10099d.png" alt="image-20210903090628677"></p><p>我们需要一个9x9的棋盘，用于生成我们的雷以及玩家的游玩</p><p>在c语言中当然无法直接产生这样的画面</p><p><strong>但我们可以同符号*或者#来代替网格，用1和0来表示有无雷</strong></p><p>如果我们只生成一个棋盘，那1和0会直接显示出来，达不到隐藏的效果</p><p>所以我们需要用二维数组生成<strong>两个棋盘</strong>，一个用于存放雷，一个用于玩家的游玩</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> mine[ROWS][COLS];<span class="comment">//雷区布置</span></span><br><span class="line"><span class="type">char</span> show[ROWS][COLS];<span class="comment">//玩家看到的界面</span></span><br></pre></td></tr></table></figure><p>扫雷游戏我们使用<strong>头文件+源文件</strong>的形式撰写代码</p><blockquote><p>这样写代码的优点在于后续我们可以直接通过更改.h文件中的数组，从而更改我们的格子大小</p><p>如: 改成12x12的游玩界面，改变雷区布雷个数等等</p></blockquote><p>所以我们需要在game.h中定义这些符号</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROW 9</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COL 9</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROWS ROW+2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COLS COL+2</span></span><br></pre></td></tr></table></figure><p>同时我们要在主函数的最上面引用这个自己写的头文件</p><p>只要把库函数头文件放入game.h文件，在其他源文件中<strong>只需引用game.h</strong></p><p><strong>不需要再次引用&lt;stdio.h&gt;、&lt;stdlib.h&gt;之类</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&#x27;game.h&#x27;</span></span></span><br></pre></td></tr></table></figure><h2 id="棋盘大小为什么需要11x11？"><a href="#棋盘大小为什么需要11x11？" class="headerlink" title="棋盘大小为什么需要11x11？"></a>棋盘大小为什么需要11x11？</h2><p>你可能注意到了，在生成数组的时候，我使用了ROWS，其值为ROW+2</p><p>我们最终展示的只是9x9的游戏界面，但生成的棋盘其实是11x11的</p><p>这是因为我们需要在mine数组中实现扫描雷区的操作</p><blockquote><p>玩过扫雷游戏的你肯定知道：在你点击一个格子的时候，如果这个格子不是雷</p><p>它会显示一个数字，告诉你它周围的8个格子中有几颗雷</p></blockquote><p>如图所示：</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/341c3ceb7d0cef629ec50d1f351839d3.png" alt="image-20210903092207199"></p><p>在C语言中，我们可以用函数统计周围8个格子中雷’1’的个数</p><p>但是如果你来到边缘，那就出现问题了</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/79efbd1ae602e592bdda739f6a99a651.png" alt="image-20210903092412521"></p><p>如果我们想统计边缘的格子周边有几颗雷，就会遇到这种<strong>溢出数组</strong>的情况</p><p>此时代码会报错</p><p>为了避免这个问题，我们可以在原来9x9的基础上在周围加一圈空白的格子</p><p>也就是代码所示的ROW(行)COL(列)都要+2的情况</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> ROW 9</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COL 9</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROWS ROW+2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COLS COL+2</span></span><br></pre></td></tr></table></figure><h2 id="游戏过程"><a href="#游戏过程" class="headerlink" title="游戏过程"></a>游戏过程</h2><p>这里简单梳理一下我们的游戏过程</p><ol><li>玩家选择开始游戏</li><li>生成两个棋盘，一个放置雷\扫描雷，一个向玩家展示游戏界面</li><li>玩家输入坐标，选择排雷位置</li><li>有雷–&gt;玩家被炸死，游戏结束；无雷–&gt;显示周边有几颗雷，游戏继续</li><li>所有雷被排出，游戏胜利</li></ol><hr><h1 id="3-游戏代码实现"><a href="#3-游戏代码实现" class="headerlink" title="3.游戏代码实现"></a>3.游戏代码实现</h1><p>接下来就进入我们的游戏代码部分</p><h2 id="3-1-初始化和打印"><a href="#3-1-初始化和打印" class="headerlink" title="3-1.初始化和打印"></a>3-1.初始化和打印</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化扫雷</span></span><br><span class="line">InitBoard(mine, ROWS, COLS, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">InitBoard(show, ROWS, COLS, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印扫雷</span></span><br><span class="line">DisplayBoard(mine, ROW, COL);</span><br><span class="line">DisplayBoard(show, ROW, COL);</span><br></pre></td></tr></table></figure><p>我们需要初始化两个棋盘，其中雷区初始化为0（0代表无雷），展示区初始化为’*’，用✳代替界面</p><p>同时我们打印这两个棋盘，查看初始化效果</p><p>因为这是我们的自定义函数，所以需要在.h文件中定义函数，在另外一个.c文件中包含函数的实现</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/b6b54da44fecf70f799883e9d7b97d47.png" alt="image-20210903100055787"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化棋盘</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitBoard</span><span class="params">(<span class="type">char</span> board[ROWS][COLS], <span class="type">int</span> rows, <span class="type">int</span> cols, <span class="type">char</span> <span class="built_in">set</span>)</span>;</span><br><span class="line"><span class="comment">//打印</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DisplayBoard</span><span class="params">(<span class="type">char</span> board[ROWS][COLS], <span class="type">int</span> row, <span class="type">int</span> col)</span>;</span><br></pre></td></tr></table></figure><p>初始化函数和打印函数比较简单，使用for语句达成我们的需求</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitBoard</span><span class="params">(<span class="type">char</span> board[ROWS][COLS], <span class="type">int</span> rows, <span class="type">int</span> cols, <span class="type">char</span> <span class="built_in">set</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; rows; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; cols; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			board[i][j] = <span class="built_in">set</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DisplayBoard</span><span class="params">(<span class="type">char</span> board[ROWS][COLS], <span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;------扫雷游戏------\n&quot;</span>);</span><br><span class="line">	<span class="comment">//打印列号</span></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= col; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= row; i++)<span class="comment">//只打印中心的99方格</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, i);<span class="comment">//打印行号</span></span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= col; j++)<span class="comment">//只打印中心的99方格</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>, board[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;--------------------\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>需要注意的是我们的最后打印棋盘的时候是从<strong>i&#x3D;1</strong>开始的，这样就能避开添加的空白边缘区域，只打印中心的99方格</p><p>同时我们添加了列号和行号，这样能让玩家清除的知道自己应该输入什么坐标</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/ac03948f71d6845725c59cb40bd436d3.png" alt="image-20210903104001228"></p><h2 id="3-2-布置雷区"><a href="#3-2-布置雷区" class="headerlink" title="3-2.布置雷区"></a>3-2.布置雷区</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//布置雷</span></span><br><span class="line">SetMine(mine, ROW, COL);</span><br></pre></td></tr></table></figure><p>这部分代码我在学习的时候就有点力不从心了</p><p>同样的，我们需要在game.h中定义这个函数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//布置地雷</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">SetMine</span><span class="params">(<span class="type">char</span> mine[ROWS][COLS], <span class="type">int</span> row, <span class="type">int</span> col)</span>;</span><br></pre></td></tr></table></figure><p>在game.c中写入自定义函数的实现</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//放置雷</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">SetMine</span><span class="params">(<span class="type">char</span>  mine[ROWS][COLS], <span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> count = EASY_COUNT;</span><br><span class="line">	<span class="keyword">while</span> (count)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> x = rand() % row + <span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> y = rand() % col + <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (mine[x][y] ==<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			mine[x][y] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">			count--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里面出现了一个前面没有提到的变量，<strong>EASY_COUNT</strong></p><p>本来这个位置只是个10</p><p>但如果我们想更改布雷个数，那每次都需要更改这里的10，后面的代码中也需要更改，非常麻烦</p><p>所以我们改为使用一个自定义变量，在game.h中定义这个变量的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> EASY_COUNT 10</span></span><br></pre></td></tr></table></figure><p>这个值就代表我们布置雷的个数了</p><h2 id="3-3-玩家排查雷"><a href="#3-3-玩家排查雷" class="headerlink" title="3-3.玩家排查雷"></a>3-3.玩家排查雷</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在主函数中引用这个函数</span></span><br><span class="line">	FindMine(mine,show, ROW, COL);<span class="comment">//需要把mine数组中排查的雷放入show</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//在game.h中定义这个函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">FindMine</span><span class="params">(<span class="type">char</span> mine[ROWS][COLS], <span class="type">char</span> show[ROWS][COLS],<span class="type">int</span> row, <span class="type">int</span> col)</span>;</span><br></pre></td></tr></table></figure><p>因为我们需要把mine数组中排查出的雷的个数放入show数组中打印出来</p><p>所以这里我们需要把两个数组都传送过去</p><blockquote><p>1.输入排查的坐标<br>2.检查坐标处是不是雷<br>(1)是雷 -boom！炸死 -游戏结束<br>(2)不是雷 -统计坐标周围有几个雷-存储排雷的信息到show数组，游戏继续</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">FindMine</span><span class="params">(<span class="type">char</span> mine[ROWS][COLS], <span class="type">char</span> show[ROWS][COLS], <span class="type">int</span> row, <span class="type">int</span> col)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请输入排雷坐标:&gt; &quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">		<span class="comment">//判断坐标是否正确</span></span><br><span class="line">		<span class="keyword">if</span> (x &gt;= <span class="number">1</span> &amp;&amp; x &lt;= row &amp;&amp; y &gt;= <span class="number">1</span> &amp;&amp; y &lt;= col)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (mine[x][y] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;很遗憾，你被炸死了\n&quot;</span>);</span><br><span class="line">				DisplayBoard(mine, ROW, COL);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//不是雷的情况下，统计坐标周围有几个雷</span></span><br><span class="line">				<span class="type">int</span> count = get_mine_count(mine, x, y);</span><br><span class="line">				show[x][y] = count + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;坐标错误，请重新输入 \n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意，这里面我们需要添加一个代码来判断坐标合法性</p><p>我们的棋盘是9x9，玩家要是输入一个(99,99)的坐标，那肯定不在数组中的，是无效的</p><p>我们需要提醒玩家他输错了</p><h2 id="‘0’的作用"><a href="#‘0’的作用" class="headerlink" title="‘0’的作用"></a>‘0’的作用</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show[x][y] = count + <span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure><p>你可能会对这行代码感到疑惑</p><p>为什么要在count后面+上一个‘0’？</p><p>这里就和我们ascii码表有关了</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/e7cbd84a4fd63d3a69b199b3c0531c94.png" alt="image-20210903103338248"></p><p>因为我们初始化数组和布置雷的时候，我们给数组传入的都是1和0这两个<strong>符号</strong>，并不是数字！</p><p>但是在show数组中我们需要给玩家显示一个数字的<strong>字符</strong></p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/bcd695eb2238b9228a0fd26f8cb6f655.png" alt="image-20210903103516771"></p><p>这里面我们提供的是<strong>1的字符</strong>，并不是1它本身</p><p>而我们在计算周边雷的个数的时候，传回来的是一个具体的数字</p><p>观察表格，你会发现数字和对应的字符中间，都差了48</p><p><strong>而48恰好是字符’0’对应的ASCII码值</strong></p><p>所以我们需要用count加上字符’0’，以此在界面中向玩家展示周边8格有几颗雷</p><h2 id="3-4-系统扫描雷"><a href="#3-4-系统扫描雷" class="headerlink" title="3-4. 系统扫描雷"></a>3-4. 系统扫描雷</h2><p>如何把玩家选择的格子周边的雷扫描出来呢？</p><p>设玩家的选择的坐标为x和y</p><table><thead><tr><th align="center">x-1,y-1</th><th align="center">x-1,y</th><th align="center">x-1,y+1</th></tr></thead><tbody><tr><td align="center">x,y-1</td><td align="center">x,y</td><td align="center">x,y+1</td></tr><tr><td align="center">x+1,y-1</td><td align="center">x+1,y</td><td align="center">x+1,y+1</td></tr></tbody></table><p>我们只需要把这些坐标全部在二维数组中键入，就能逐个扫描出雷的个数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统计雷的个数</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">get_mine_count</span><span class="params">(<span class="type">char</span> mine[ROWS][COLS], <span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> mine[x - <span class="number">1</span>][y - <span class="number">1</span>] +</span><br><span class="line">		mine[x - <span class="number">1</span>][y] +</span><br><span class="line">		mine[x - <span class="number">1</span>][y + <span class="number">1</span>] +</span><br><span class="line">		mine[x][y - <span class="number">1</span>] +</span><br><span class="line">		mine[x][y + <span class="number">1</span>] +</span><br><span class="line">		mine[x + <span class="number">1</span>][y - <span class="number">1</span>] +</span><br><span class="line">		mine[x + <span class="number">1</span>][y] +</span><br><span class="line">		mine[x + <span class="number">1</span>][y + <span class="number">1</span>] - <span class="number">8</span> * <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里因为我们扫描出来的也是‘1’的字符，系统中是字符1的ascii码值49</p><p>所以我们需要减去8个字符‘0’，这样就能得到雷的个数的<strong>数字</strong></p><p>（然后在之前的那个函数中接受，count+‘0’，在show数组中显示）</p><ul><li>这个函数是在玩家排查雷的函数之前的</li><li>因为在主函数中我们不需要使用这个自定义函数，所以不需要在game.h中定义</li><li>我们想让它只在game.c中生效，所以用static修饰它</li></ul><blockquote><p>static的作用</p><p>1.修饰局部变量<br>2.修饰全局变量<br>3.修饰函数</p></blockquote><hr><p>上面的代码其实还少了一个东西</p><p>我们需要判断玩家什么时候胜利——雷区的0（无雷方块）全部被玩家找出，玩家就胜利了</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> win = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (win&lt; row * col - EASY_COUNT)</span><br></pre></td></tr></table></figure><p>这里我们需要更改的是whlie函数</p><p>其中 row * col - EASY_COUNT 指方格总数减去雷的个数，<strong>得到的是无雷方块的个数</strong></p><p>玩家每成功排除一个无雷方块，win就会加一个数字</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//不是雷的情况下，统计坐标周围有几个雷</span></span><br><span class="line">	<span class="type">int</span> count = get_mine_count(mine, x, y);</span><br><span class="line">	show[x][y] = count + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">	<span class="comment">//显示排查出来的信息</span></span><br><span class="line">	DisplayBoard(show, ROW, COL);</span><br><span class="line">       win++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当win达到无雷方块个数的时候，whlie循环就会停止</p><p>随后我们判断玩家是否胜利，如果胜利，就打印棋盘，让玩家知道雷的位置</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (win == row * col - EASY_COUNT)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;恭喜你，游戏胜利！\n&quot;</span>);</span><br><span class="line">	DisplayBoard(mine, ROW, COL);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>这里必须要判断，因为你失败了也是会跳出循环的！</strong></p><p>到此，我们的扫雷代码就是完成了</p><h1 id="4-查看结果"><a href="#4-查看结果" class="headerlink" title="4.查看结果"></a>4.查看结果</h1><p>这里我作弊，将雷的个数设置为80并打印出布置雷之后的棋盘</p><p>输入最后一个雷的位置，系统提示我们游戏胜利</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/774e7f44d4fb6f224c06f0cfa860429c.png" alt="image-20210903110045097"></p><p>输入雷的坐标后，也会提示你被炸死了</p><p><img lazyload alt="image" data-src="https://img-blog.csdnimg.cn/img_convert/ce4bc81fa483428de1b348dd1c005b91.png" alt="image-20210903110143263"></p><p>到这里我们可以确认代码是编写成功了！</p><p>完整代码获取 &#x3D;&#x3D;&gt; <a class="link" target="_blank" rel="noopener" href="https://gitee.com/ewait/learn_c_code/tree/master/DAY018%20%20%E6%89%AB%E9%9B%B7">[DAY018 扫雷]<i class="fas fa-external-link-alt"></i></a></p><hr><p>感谢你看到最后，写这个博客用了我2个小时，点个赞再走吧！</p></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul class="copyright-info-content"><li class="post-title"><span class="type">本文标题</span>：<span class="content">【C语言】童年经典游戏-扫雷</span></li><li class="post-author"><span class="type">本文作者</span>：<span class="content">慕雪年华</span></li><li class="post-time"><span class="type">创建时间</span>：<span class="content">2021-09-03 09:32:28</span></li><li class="post-link"><span class="type">本文链接</span>：<span class="content">2021/09/03/note_c/17扫雷/</span></li><li class="post-license"><span class="type">版权声明</span>：<span class="content">本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</span></li></ul><div class="copy-copyright-info flex-center tooltip" data-content="复制版权信息" data-offset-y="-2px"><i class="fa-solid fa-copy"></i></div></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/C%E8%AF%AD%E8%A8%80/">#C语言</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/2021/09/13/note_c/18%E6%95%B0%E7%BB%84%E7%BB%83%E4%B9%A0%E9%A2%98DAY21/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">【C语言】数组练习题分享</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/2021/08/30/note_c/15%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"><span class="title flex-center"><span class="post-nav-title-item">【C语言】变量的作用域和生命周期</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comment-container"><div class="comments-container"><div id="comments-anchor"></div><div class="comment-area-title"><i class="fas fa-comments"></i>&nbsp;评论</div><div class="waline-comment-container"><link rel="stylesheet" href="//img-7758-typora.oss-cn-shanghai.aliyuncs.com/hexo/waline.css"><link rel="stylesheet" href="//img-7758-typora.oss-cn-shanghai.aliyuncs.com/hexo/waline-meta.css"><script data-pjax src="//img-7758-typora.oss-cn-shanghai.aliyuncs.com/hexo/waline.js"></script><div id="waline-comment"></div><script data-pjax>function loadWaline() {
            Waline.init({
              el: '#waline-comment',
              serverURL: 'https://vrcl.outpost54.top/',
              lang: 'zh-CN' || 'zh-CN',
              comment: '.post-comments-count',
              reaction: 'false' === 'true'
            })
          }

          if ('true' === 'true') {
            setTimeout(() => {
              loadWaline()
            }, 1000)
          } else {
            window.addEventListener('DOMContentLoaded', loadWaline)
          }</script></div></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%B8%B8%E6%88%8F%E7%A8%8B%E5%BA%8F%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="nav-text">1.游戏程序主函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E6%B8%B8%E6%88%8F%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">2.游戏实现原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%8B%E7%9B%98%E5%A4%A7%E5%B0%8F%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%8111x11%EF%BC%9F"><span class="nav-text">棋盘大小为什么需要11x11？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%B8%E6%88%8F%E8%BF%87%E7%A8%8B"><span class="nav-text">游戏过程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E6%B8%B8%E6%88%8F%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-text">3.游戏代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%89%93%E5%8D%B0"><span class="nav-text">3-1.初始化和打印</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%B8%83%E7%BD%AE%E9%9B%B7%E5%8C%BA"><span class="nav-text">3-2.布置雷区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E7%8E%A9%E5%AE%B6%E6%8E%92%E6%9F%A5%E9%9B%B7"><span class="nav-text">3-3.玩家排查雷</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%80%980%E2%80%99%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">‘0’的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E7%B3%BB%E7%BB%9F%E6%89%AB%E6%8F%8F%E9%9B%B7"><span class="nav-text">3-4. 系统扫描雷</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E6%9F%A5%E7%9C%8B%E7%BB%93%E6%9E%9C"><span class="nav-text">4.查看结果</span></a></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span> - 2023 &nbsp;<i class="fas fa-heart icon-animate"></i> &nbsp;<a href="/">慕雪年华</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; 总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></div><div class="timerun-info info-item"><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("04/16/2022 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="已勉强运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></div><div class="shields-info info-item"><a href="https://github.com/XPoet/hexo-theme-keep" target="_blank"><img src="https://img.shields.io/badge/hexo-keep-blue" height="20px"> </a><a href="https://www.travellings.cn/go.html" target="_blank"><img src="/images/travellingICON.gif" height="20px"> </a><a href="https://icp.gov.moe/?keyword=20230054" target="_blank"><img src="https://img.shields.io/badge/-%E8%90%8CICP%E5%A4%8720230054-ff69b4" height="20px"> </a><a href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="_blank"><img src="/images/UPYUN-CDN.png" height="20px"></a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li><li class="tools-item flex-center go-to-comments"><i class="fas fa-comment"></i> <span class="post-comments-count"></span></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/local-search.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/code-block.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/lazyload.js"></script><div class="post-scripts pjax"><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/toc.js"></script></div><script src="//unpkg.com/hexo-theme-keep@3.6.1/source/js/libs/pjax.min.js"></script><script>window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });</script><script type="text/javascript" src="/js/snow.js"></script></body></html>