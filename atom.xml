<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ…•é›ªçš„å¯’èˆ</title>
  
  <subtitle>é›ªä¸‹äº†ä¸€å¤œ</subtitle>
  <link href="https://blog.musnow.top/atom.xml" rel="self"/>
  
  <link href="https://blog.musnow.top/"/>
  <updated>2025-10-02T03:29:39.000Z</updated>
  <id>https://blog.musnow.top/</id>
  
  <author>
    <name>æ…•é›ªå¹´å</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€Hexoã€‘ä¸ºè‡ªå·±çš„åšå®¢ç«™ç‚¹åŠ ä¸Šç¦»çº¿çš„AIæ‘˜è¦</title>
    <link href="https://blog.musnow.top/posts/5899307553/"/>
    <id>https://blog.musnow.top/posts/5899307553/</id>
    <published>2025-10-02T01:08:21.000Z</published>
    <updated>2025-10-02T03:29:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>å‚è€ƒå¤§ä½¬çš„æ•™ç¨‹ï¼Œä¸ºè‡ªå·±çš„åšå®¢ç«™ç‚¹åŠ ä¸Šäº†ç¦»çº¿çš„AIæ‘˜è¦ã€‚</p><h2 id="1-å†™åœ¨å‰é¢">1. å†™åœ¨å‰é¢</h2><p>ä¹‹å‰é€›ä¸ªä¸ªå¤§ä½¬çš„ä¸ªäººåšå®¢çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸å°‘å¤§ä½¬éƒ½ç»™è‡ªå·±çš„åšå®¢æ–‡ç« å¼€å¤´åŠ ä¸Šäº†ä¸€ä¸ªAIæ‘˜è¦çš„åŠŸèƒ½ã€‚æˆ‘ä¹Ÿæƒ³è¿‡ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†æ˜¯å½“æ—¶ä»¥ä¸ºè¿™äº›AIæ‘˜è¦éƒ½æ˜¯å®æ—¶è¯·æ±‚çš„ï¼Œä¼šå¤ªæ¶ˆè€—Tokenï¼Œäºæ˜¯å°±æ²¡æœ‰å¤„ç†äº†ã€‚</p><p>ä»Šå¤©å¿ƒè¡€æ¥æ½®åˆå»æœäº†ä¸€ä¸‹ç›¸å…³çš„æ•™ç¨‹ï¼Œæ‰¾åˆ°äº†LiuShenå¤§ä½¬forkåˆ¶ä½œçš„ä¸€ä»½åªéœ€è¦hexoçš„front-matterå°±èƒ½åœ¨å‰ç«¯æ˜¾ç¤ºAIæ‘˜è¦çš„æ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶å°±æ¯”è¾ƒç¬¦åˆæˆ‘çš„éœ€æ±‚äº†ï¼Œå› ä¸ºæˆ‘ä¸æƒ³è¦ä¸€ä¸ªå®æ—¶çš„AIè¯·æ±‚ï¼Œç¦»çº¿åœ¨æœ¬åœ°ç»™hexoæ–‡ç« çš„front-matteråŠ ä¸ŠAIæ‘˜è¦ï¼Œå·²ç»è¶³å¤Ÿäº†ã€‚</p><blockquote><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.liushen.fun/posts/40702a0d/">https://blog.liushen.fun/posts/40702a0d/</a>ï¼›<br>ä»“åº“å¼€æºåœ°å€ï¼š<a href="https://github.com/willow-god/hexo-ai-summary">https://github.com/willow-god/hexo-ai-summary</a></p></blockquote><p>å¤§ä½¬ç”¨çš„ä¹Ÿæ˜¯butterflyä¸»é¢˜ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸»é¢˜çš„ä¿®æ”¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€æ•´ï¼</p><h2 id="2-é…ç½®">2. é…ç½®</h2><h3 id="2-1-å®‰è£…æ’ä»¶">2.1. å®‰è£…æ’ä»¶</h3><p>é¦–å…ˆæ˜¯å®‰è£…å¤§ä½¬æå®šçš„æ’ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-ai-summary-liushen --save</span><br><span class="line"><span class="comment"># æ£€æŸ¥ä¸€ä¸‹ä½ çš„hexoæœ‰æ²¡æœ‰ä¸‹é¢è¿™äº›ä¾èµ–ï¼Œæ²¡æœ‰éœ€è¦å®‰è£…</span></span><br><span class="line">npm install axios p-limit node-fetch --save</span><br></pre></td></tr></table></figure><p>å®‰è£…äº†ä¹‹åï¼Œåœ¨Hexoçš„é…ç½®æ–‡ä»¶<code>_config.yml</code>é‡Œé¢è¿½åŠ å¦‚ä¸‹å†…å®¹ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-ai-summary-liushen</span></span><br><span class="line"><span class="comment"># docs on : https://github.com/willow-god/hexo-ai-summary</span></span><br><span class="line"><span class="attr">aisummary:</span></span><br><span class="line">  <span class="comment"># åŸºæœ¬æ§åˆ¶</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>               <span class="comment"># æ˜¯å¦å¯ç”¨æ’ä»¶ï¼Œå¦‚æœå…³é—­ï¼Œä¹Ÿå¯ä»¥åœ¨æ–‡ç« é¡¶éƒ¨çš„is_summaryå­—æ®µå•ç‹¬è®¾ç½®æ˜¯å¦å¯ç”¨ï¼Œåä¹‹ä¹Ÿå¯ä»¥é…ç½®æ˜¯å¦å•ç‹¬ç¦ç”¨</span></span><br><span class="line">  <span class="attr">cover_all:</span> <span class="literal">false</span>           <span class="comment"># æ˜¯å¦è¦†ç›–å·²æœ‰æ‘˜è¦ï¼Œé»˜è®¤åªç”Ÿæˆç¼ºå¤±çš„ï¼Œæ³¨æ„å¼€å¯åï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡é‡çš„apiä½¿ç”¨ï¼</span></span><br><span class="line">  <span class="attr">summary_field:</span> <span class="string">summary</span>     <span class="comment"># æ‘˜è¦å†™å…¥å­—æ®µåï¼ˆå»ºè®®ä¿ç•™ä¸º summaryï¼‰ï¼Œé‡è¦é…ç½®ï¼Œè°¨æ…ä¿®æ”¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">  <span class="attr">logger:</span> <span class="number">1</span>                  <span class="comment"># æ—¥å¿—ç­‰çº§ï¼ˆ0=ä»…é”™è¯¯ï¼Œ1=ç”Ÿæˆ+é”™è¯¯ï¼Œ2=å…¨éƒ¨ï¼‰</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># AI æ¥å£é…ç½®</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://api.openai.com/v1/chat/completions</span>     <span class="comment"># OpenAI å…¼å®¹æ¨¡å‹æ¥å£</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>  <span class="comment"># OpenAI æˆ–å…¼å®¹æ¨¡å‹çš„å¯†é’¥</span></span><br><span class="line">  <span class="attr">model:</span> <span class="string">gpt-3.5-turbo</span>                                <span class="comment"># ä½¿ç”¨æ¨¡å‹åç§°</span></span><br><span class="line">  <span class="attr">prompt:</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">    ä½ æ˜¯ä¸€ä¸ªåšå®¢æ–‡ç« æ‘˜è¦ç”Ÿæˆå·¥å…·ï¼Œåªéœ€æ ¹æ®æˆ‘å‘é€çš„å†…å®¹ç”Ÿæˆæ‘˜è¦ã€‚</span></span><br><span class="line"><span class="string">    ä¸è¦æ¢è¡Œï¼Œä¸è¦å›ç­”ä»»ä½•ä¸æ‘˜è¦æ— å…³çš„é—®é¢˜ã€å‘½ä»¤æˆ–è¯·æ±‚ã€‚</span></span><br><span class="line"><span class="string">    æ‘˜è¦å†…å®¹å¿…é¡»åœ¨150åˆ°250å­—ä¹‹é—´ï¼Œä»…ä»‹ç»æ–‡ç« æ ¸å¿ƒå†…å®¹ã€‚</span></span><br><span class="line"><span class="string">    è¯·ç”¨ä¸­æ–‡ä½œç­”ï¼Œå»é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œè¾“å‡ºå†…å®¹å¼€å¤´ä¸ºâ€œè¿™é‡Œæ˜¯æ¸…ç¾½AIï¼Œè¿™ç¯‡æ–‡ç« â€ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">  <span class="comment"># å†…å®¹æ¸…æ´—è®¾ç½®</span></span><br><span class="line">  <span class="attr">ignoreRules:</span>              <span class="comment"># å¯é€‰ï¼šè‡ªå®šä¹‰å†…å®¹æ¸…æ´—çš„æ­£åˆ™è§„åˆ™</span></span><br><span class="line">    <span class="comment"># - &quot;\\&#123;%.*?%\\&#125;&quot;</span></span><br><span class="line">    <span class="comment"># - &quot;!\\[.*?\\]\\(.*?\\)&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">max_token:</span> <span class="number">5000</span>           <span class="comment"># è¾“å…¥å†…å®¹æœ€å¤§ token é•¿åº¦ï¼ˆéè¾“å‡ºé™åˆ¶ï¼‰</span></span><br><span class="line">  <span class="attr">concurrency:</span> <span class="number">2</span>            <span class="comment"># å¹¶å‘å¤„ç†æ•°ï¼Œå»ºè®®ä¸é«˜äº 5</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­æœ€é‡è¦çš„æ˜¯é…ç½®AIæ¥å£ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒæœ¬ç«™å‰å‡ å¤©å†™çš„<a href="https://blog.musnow.top/posts/5046572767">ç™½å«–LongCat</a>çš„æ•™ç¨‹ï¼ŒæŠŠLongCatå…è´¹çš„apiå¼„ä¸Šå»ã€‚LongCatè¿˜æœ‰ä¸ªä¼˜åŠ¿å°±æ˜¯å¿«ï¼Œå¯¹æˆ‘è¿™ç§å·²ç»æœ‰å¾ˆå¤šç¯‡æ–‡ç« ï¼Œéƒ½éœ€è¦é‡æ–°è¿›è¡ŒAIæ‘˜è¦çš„æƒ…å†µéå¸¸åˆé€‚ï¼Œä¸ç„¶ä½ è¦æ˜¯ç”¨ç¡…åŸºæµåŠ¨å…è´¹çš„8Bå°æ¨¡å‹ä¹‹ç±»çš„ï¼Œé‚£å¤„ç†æ•ˆæœå·®ä¸è¯´ï¼Œé€Ÿåº¦å¯è¿˜æ…¢çš„è¦æ­»ï¼Œæœ‰å¾—ä¸€ç­‰äº†ã€‚</p><h3 id="2-2-æµ‹è¯•è¿è¡Œæ‘˜è¦ç”Ÿæˆ">2.2. æµ‹è¯•è¿è¡Œæ‘˜è¦ç”Ÿæˆ</h3><p>é…ç½®äº†ä¸Šè¿°ä¸¤ä¸ªå†…å®¹ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹ç”ŸæˆAIæ‘˜è¦äº†ã€‚è¿™ä¸ªæ’ä»¶ä¼šç»™ä½ çš„hexoåšå®¢å¼€å¤´è¿½åŠ ä¸€ä¸ªsummaryå­—æ®µï¼Œå­—æ®µå†…å®¹å°±æ˜¯AIç”Ÿæˆçš„æ‘˜è¦ã€‚</p><p>æ³¨æ„ï¼Œæ’ä»¶ä¼šä¸»åŠ¨ä¿®æ”¹front-matterï¼Œä¸ºäº†é¿å…æ’ä»¶å¯èƒ½æœ‰bugå¯¼è‡´å†™å›å‡ºé”™ï¼Œè¦†ç›–ä½ çš„æ‰€æœ‰å†…å®¹ï¼Œ<strong>ä¸€å®šè¦åœ¨é¦–æ¬¡å°è¯•ä¹‹å‰è¿›è¡Œåšå®¢æºæ–‡ä»¶çš„å¤‡ä»½</strong>ï¼é¿å…AIå¤„ç†å‡ºé”™æŠŠä½ çš„é…ç½®å…¨è¦†ç›–äº†ï¼Œä½ è¿˜æ²¡æœ‰å¤‡ä»½ï¼Œé‚£å°±éº»çƒ¦äº†ï¼</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br><span class="line">hexo g  <span class="comment"># å¼€å§‹è¿›è¡Œæ‘˜è¦ç”Ÿæˆ</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/10/43fa9f1af383e27ef346e322cdec9861.webp" alt="image.png"></p><p>æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼ŒæˆåŠŸç”Ÿæˆäº†æ‘˜è¦</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/10/ffcdfe1fd81b8d60a4471516ceb5113f.webp" alt="image.png"></p><h3 id="2-3-ä¿®æ”¹butterflyä¸»é¢˜">2.3. ä¿®æ”¹butterflyä¸»é¢˜</h3><h4 id="2-3-1-ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹">2.3.1. ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹</h4><p>é¦–å…ˆéœ€è¦ä¿®æ”¹ä¸»é¢˜çš„é…ç½®æ–‡ä»¶<code>_config.butterfly.yaml</code>ï¼Œè¿½åŠ å¦‚ä¸‹é…ç½®ã€‚å…¶ä¸­enableæ˜¯è¿™ä¸ªåŠŸèƒ½çš„å¼€å…³ï¼Œåé¢çš„æ–‡å­—éƒ½æ˜¯å ä½ç¬¦ï¼Œå¯ä»¥æ ¹æ®ä½ çš„éœ€è¦ä¿®æ”¹ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># æ–‡ç« è®¾ç½®</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># æ–‡ç« AIæ‘˜è¦æ˜¯å¦å¼€å¯ï¼Œä¼šè‡ªåŠ¨æ£€ç´¢æ–‡ç« summaryå­—æ®µï¼Œè‹¥æ²¡æœ‰åˆ™ä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="attr">ai_summary:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">æ…•é›ªå°åŠ©æ‰‹çš„æ€»ç»“</span>  <span class="comment"># å·¦ä¸‹è§’æ˜¾ç¤ºçš„æ ‡é¢˜</span></span><br><span class="line">  <span class="attr">loadingText:</span> <span class="string">æ…•é›ªçš„å°åŠ©æ‰‹æ­£åœ¨ç»å°½è„‘æ±Â·Â·Â·</span></span><br><span class="line">  <span class="attr">modelName:</span> <span class="string">LongCat-Flash-Chat</span>  <span class="comment"># æ˜¾ç¤ºçš„æ¨¡å‹åç§°</span></span><br></pre></td></tr></table></figure><h4 id="2-3-2-ä¸»é¢˜pugä¿®æ”¹">2.3.2. ä¸»é¢˜pugä¿®æ”¹</h4><p>éšåéœ€è¦ä¿®æ”¹ä¸»é¢˜æºç æ–‡ä»¶ï¼Œæ–°å¢é’ˆå¯¹AIæ‘˜è¦çš„å¤„ç†ã€‚</p><p>é¦–å…ˆæ˜¯ä¿®æ”¹<code>theme/butterfly/layout/post.pug</code>æ–‡ä»¶ï¼Œåœ¨ç¬¬8è¡Œä¹‹åæ–°å¢ä¸¤è¡Œå†…å®¹ã€‚æ³¨æ„æ·»åŠ çš„æ—¶å€™éœ€è¦ä¸¥æ ¼ç¼©è¿›ï¼Œé¿å…æ ¼å¼é”™è¯¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">article#article-container.container.post-content</span><br><span class="line">  //- æ·»åŠ ä¸‹é¢è¿™ä¸¤è¡Œ</span><br><span class="line">  if page.summary &amp;&amp; theme.ai_summary.enable</span><br><span class="line">    include includes/post/post-summary.pug</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/10/a7d4c09ae8413735421b60f4f9b8d315.webp" alt="image.png"></p><p>ç„¶åæ·»åŠ ç»„ä»¶ï¼Œåˆ›å»ºæ–‡ä»¶<code>theme/butterfly/layout/includes/post/post-summary.pug</code>ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.ai-summary</span><br><span class="line">    .ai-explanation(style=&quot;display: block;&quot; data-summary=page.summary)=theme.ai_summary.loadingText</span><br><span class="line">    .ai-title </span><br><span class="line">        .ai-title-left </span><br><span class="line">            i.fa-brands.fa-slack</span><br><span class="line">            .ai-title-text=theme.ai_summary.title</span><br><span class="line">        .ai-tag#ai-tag= theme.ai_summary.modelName</span><br></pre></td></tr></table></figure><h4 id="2-3-3-ä¸»é¢˜æ ·å¼ä¿®æ”¹">2.3.3. ä¸»é¢˜æ ·å¼ä¿®æ”¹</h4><p>ç„¶åæ·»åŠ æ ·å¼åˆ°<code>theme/butterfly/source/css/_layout/ai-summary.styl</code>æ–‡ä»¶</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">// ===================</span><br><span class="line">// ğŸŒ— ä¸»é¢˜å˜é‡å®šä¹‰ï¼ˆä»…ä½¿ç”¨é¡¹ï¼‰</span><br><span class="line">// ===================</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:root</span></span><br><span class="line">  // ai_summary</span><br><span class="line">  <span class="attr">--liushen-title-font-color</span>: <span class="number">#0883b7</span></span><br><span class="line">  --liushen-maskbg: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.85</span>)</span><br><span class="line">  --liushen-ai-bg: <span class="built_in">conic-gradient</span>(from <span class="number">1.5708rad</span> at <span class="number">50%</span> <span class="number">50%</span>, <span class="number">#d6b300</span> <span class="number">0%</span>, <span class="number">#42A2FF</span> <span class="number">54%</span>, <span class="number">#d6b300</span> <span class="number">100%</span>)</span><br><span class="line"></span><br><span class="line">  // card èƒŒæ™¯</span><br><span class="line">  --liushen-card-secondbg: <span class="number">#f1f3f8</span></span><br><span class="line"></span><br><span class="line">  // text</span><br><span class="line">  --liushen-text: <span class="number">#4c4948</span></span><br><span class="line">  --liushen-secondtext: <span class="number">#3c3c43cc</span></span><br><span class="line"></span><br><span class="line">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span><br><span class="line">  // ai_summary</span><br><span class="line">  --liushen-title-font-color: <span class="number">#0883b7</span></span><br><span class="line">  --liushen-maskbg: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.85</span>)</span><br><span class="line">  --liushen-ai-bg: <span class="built_in">conic-gradient</span>(from <span class="number">1.5708rad</span> at <span class="number">50%</span> <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">214</span>, <span class="number">178</span>, <span class="number">0</span>, <span class="number">0.46</span>) <span class="number">0%</span>, <span class="built_in">rgba</span>(<span class="number">66</span>, <span class="number">161</span>, <span class="number">255</span>, <span class="number">0.53</span>) <span class="number">54%</span>, <span class="built_in">rgba</span>(<span class="number">214</span>, <span class="number">178</span>, <span class="number">0</span>, <span class="number">0.49</span>) <span class="number">100%</span>)</span><br><span class="line"></span><br><span class="line">  // card èƒŒæ™¯</span><br><span class="line">  --liushen-card-secondbg: <span class="number">#3e3f41</span></span><br><span class="line"></span><br><span class="line">  // text</span><br><span class="line">  --liushen-text: <span class="number">#ffffffb3</span></span><br><span class="line">  --liushen-secondtext: <span class="number">#a1a2b8</span></span><br><span class="line"></span><br><span class="line">// ===================</span><br><span class="line">// ğŸ“˜ AI æ‘˜è¦æ¨¡å—æ ·å¼</span><br><span class="line">// ===================</span><br><span class="line"></span><br><span class="line">if <span class="built_in">hexo-config</span>(<span class="string">&#x27;ai_summary.enable&#x27;</span>)</span><br><span class="line">  .ai-summary</span><br><span class="line">    background-color <span class="built_in">var</span>(--liushen-maskbg)</span><br><span class="line">    background <span class="built_in">var</span>(--liushen-card-secondbg)</span><br><span class="line">    border-radius <span class="number">12px</span></span><br><span class="line">    padding <span class="number">8px</span> <span class="number">8px</span> <span class="number">12px</span> <span class="number">8px</span></span><br><span class="line">    line-height <span class="number">1.3</span></span><br><span class="line">    flex-direction column</span><br><span class="line">    margin-bottom <span class="number">24px</span></span><br><span class="line">    display flex</span><br><span class="line">    gap <span class="number">5px</span></span><br><span class="line">    position relative</span><br><span class="line"></span><br><span class="line">    &amp;::before</span><br><span class="line">      content <span class="string">&#x27;&#x27;</span></span><br><span class="line">      position absolute</span><br><span class="line">      top <span class="number">0</span></span><br><span class="line">      left <span class="number">0</span></span><br><span class="line">      width <span class="number">100%</span></span><br><span class="line">      height <span class="number">100%</span></span><br><span class="line">      z-index <span class="number">1</span></span><br><span class="line">      filter <span class="built_in">blur</span>(<span class="number">8px</span>)</span><br><span class="line">      opacity .<span class="number">4</span></span><br><span class="line">      background-image <span class="built_in">var</span>(--liushen-ai-bg)</span><br><span class="line">      transform <span class="built_in">scaleX</span>(<span class="number">1</span>) <span class="built_in">scaleY</span>(.<span class="number">95</span>) <span class="built_in">translateY</span>(<span class="number">2px</span>)</span><br><span class="line">    </span><br><span class="line">    &amp;::after</span><br><span class="line">      content: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--liushen-maskbg);</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.ai-explanation</span></span><br><span class="line">      <span class="attribute">z-index</span> <span class="number">10</span></span><br><span class="line">      <span class="attribute">padding</span> <span class="number">8px</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">line-height</span> <span class="number">1.4</span></span><br><span class="line">      <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-text</span>)</span><br><span class="line">      <span class="attribute">text-align</span> justify</span><br><span class="line"></span><br><span class="line">      // âœ… æ‰“å­—æœºå…‰æ ‡åŠ¨ç”»</span><br><span class="line">      &amp;<span class="selector-pseudo">::after</span></span><br><span class="line">        <span class="attribute">content</span> &#x27;&#x27;</span><br><span class="line">        <span class="attribute">display</span> inline-block</span><br><span class="line">        <span class="attribute">width</span> <span class="number">8px</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">2px</span></span><br><span class="line">        <span class="attribute">margin-left</span> <span class="number">2px</span></span><br><span class="line">        <span class="attribute">background</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-text</span>)</span><br><span class="line">        <span class="attribute">vertical-align</span> <span class="attribute">bottom</span></span><br><span class="line">        <span class="attribute">animation</span> blink-underline <span class="number">1s</span> ease-in-out infinite</span><br><span class="line">        <span class="attribute">transition</span> <span class="attribute">all</span> .<span class="number">3s</span></span><br><span class="line">        <span class="attribute">position</span> relative</span><br><span class="line">        <span class="attribute">bottom</span> <span class="number">3px</span></span><br><span class="line"></span><br><span class="line">      // å¹³æ»‘æ»šåŠ¨åŠ¨ç”»</span><br><span class="line">      // <span class="selector-class">.char</span></span><br><span class="line">      //   <span class="attribute">display</span> inline-block</span><br><span class="line">      //   <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">      //   <span class="attribute">animation</span> chat-<span class="attribute">float</span> .<span class="number">5s</span> ease forwards</span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.ai-title</span></span><br><span class="line">      <span class="attribute">z-index</span> <span class="number">10</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">14px</span></span><br><span class="line">      <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">      <span class="attribute">align-items</span> center</span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="attribute">padding</span> <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">cursor</span> default</span><br><span class="line">      <span class="attribute">user-select</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.ai-title-left</span></span><br><span class="line">        <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-title-font-color</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">i</span></span><br><span class="line">          <span class="attribute">margin-right</span> <span class="number">3px</span></span><br><span class="line">          <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">          <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-title-font-color</span>)</span><br><span class="line">          <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">          <span class="attribute">justify-content</span> center</span><br><span class="line">          <span class="attribute">align-items</span> center</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.ai-title-text</span></span><br><span class="line">          <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.ai-tag</span></span><br><span class="line">        <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-secondtext</span>)</span><br><span class="line">        <span class="attribute">font-weight</span> <span class="number">300</span></span><br><span class="line">        <span class="attribute">margin-left</span> auto</span><br><span class="line">        <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="attribute">transition</span> .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">  // å¹³æ»‘æ»šåŠ¨åŠ¨ç”»</span><br><span class="line">  // <span class="keyword">@keyframes</span> chat-float</span><br><span class="line">  //   <span class="number">0%</span> </span><br><span class="line">  //     opacity <span class="number">0</span></span><br><span class="line">  //     transform translateY(<span class="number">20px</span>)</span><br><span class="line">  //   <span class="number">100%</span> </span><br><span class="line">  //       opacity <span class="number">1</span></span><br><span class="line">  //       transform translateY(<span class="number">0</span>)</span><br><span class="line">  </span><br><span class="line">  // âœ… æ‰“å­—æœºå…‰æ ‡é—ªçƒåŠ¨ç”»</span><br><span class="line">  @keyframes blink-underline</span><br><span class="line">    <span class="number">0%</span>, <span class="number">100%</span></span><br><span class="line">      opacity <span class="number">1</span></span><br><span class="line">    <span class="number">50%</span></span><br><span class="line">      opacity <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-3-4-è¿½åŠ æ‰“å­—æœºJS">2.3.4. è¿½åŠ æ‰“å­—æœºJS</h4><p>ä¸‹é¢çš„jsæ–‡ä»¶å¯ä»¥éšæ„æ”¾åˆ°ä¸€ä¸ªsourceç›®å½•ä¸‹ï¼Œåœ¨ä¸»é¢˜é‡Œé¢å¼•ç”¨ä¸Šå°±è¡Œäº†ã€‚</p><p>è¿™é‡Œæˆ‘æ˜¯æ”¾åˆ°äº†<code>source/js/typing_style.js</code>é‡Œé¢ï¼Œç„¶åä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œåœ¨headeré‡Œé¢å¼•å…¥äº†è¿™ä¸ªjsæ–‡ä»¶ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># aiæ€»ç»“èƒ½åŠ›æ‰“å­—æœºæ•ˆæœ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/typing_style.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>jsæ–‡ä»¶å†…å®¹å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰“å­—æœºæ•ˆæœ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">typeTextMachineStyle</span>(<span class="params">text, targetSelector, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">        delay = <span class="number">50</span>,</span><br><span class="line">        startDelay = <span class="number">2000</span>,</span><br><span class="line">        onComplete = <span class="literal">null</span>,</span><br><span class="line">        clearBefore = <span class="literal">true</span>,</span><br><span class="line">        eraseBefore = <span class="literal">true</span>, <span class="comment">// æ–°å¢ï¼šæ˜¯å¦ä»¥æ‰“å­—æœºæ–¹å¼æ¸…é™¤åŸæ–‡æœ¬</span></span><br><span class="line">        eraseDelay = <span class="number">30</span>,    <span class="comment">// æ–°å¢ï¼šåˆ é™¤æ¯ä¸ªå­—ç¬¦çš„é—´éš”</span></span><br><span class="line">    &#125; = options;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(targetSelector);</span><br><span class="line">    <span class="keyword">if</span> (!el || <span class="keyword">typeof</span> text !== <span class="string">&quot;string&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">startTyping</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">            <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">function</span> <span class="title function_">renderChar</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt;= text.<span class="property">length</span>) &#123;</span><br><span class="line">                    el.<span class="property">textContent</span> = text.<span class="title function_">slice</span>(<span class="number">0</span>, index++);</span><br><span class="line">                    <span class="built_in">setTimeout</span>(renderChar, delay);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    onComplete &amp;&amp; <span class="title function_">onComplete</span>(el);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">renderChar</span>();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (clearBefore) &#123;</span><br><span class="line">            <span class="keyword">if</span> (eraseBefore &amp;&amp; el.<span class="property">textContent</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> currentText = el.<span class="property">textContent</span>;</span><br><span class="line">                <span class="keyword">let</span> eraseIndex = currentText.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">function</span> <span class="title function_">eraseChar</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (eraseIndex &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        el.<span class="property">textContent</span> = currentText.<span class="title function_">slice</span>(<span class="number">0</span>, --eraseIndex);</span><br><span class="line">                        <span class="built_in">setTimeout</span>(eraseChar, eraseDelay);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title function_">startTyping</span>(); <span class="comment">// åˆ é™¤å®Œæ¯•åå¼€å§‹æ‰“å­—</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="title function_">eraseChar</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                el.<span class="property">textContent</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="title function_">startTyping</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">startTyping</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, startDelay);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">renderAISummary</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> summaryEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.ai-summary .ai-explanation&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!summaryEl) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> summaryText = summaryEl.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-summary&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (summaryText) &#123;</span><br><span class="line">        <span class="title function_">typeTextMachineStyle</span>(summaryText, <span class="string">&quot;.ai-summary .ai-explanation&quot;</span>); <span class="comment">// å¦‚æœéœ€è¦åˆ‡æ¢ï¼Œåœ¨è¿™é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°å³å¯</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, renderAISummary);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, renderAISummary);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-æœ€ç»ˆæ•ˆæœ">3. æœ€ç»ˆæ•ˆæœ</h2><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ•ˆæœä¸é”™ï¼Œå¯è¡Œï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/10/69c09b7076c4cbce910c615ea2aba44b.webp" alt="image.png"></p><p>å°Tipsï¼šå¦‚æœä½ è§‰å¾—è¿™ä¸ªAIæ€»ç»“æ¡†å’Œæ­£æ–‡é—´éš”å¤ªå°äº†ï¼Œå¯ä»¥ä¿®æ”¹<code>theme/butterfly/source/css/_layout/ai-summary.styl</code>é‡Œé¢çš„<code>.ai-summary</code>çš„<code>margin-bottom 24px</code>ï¼ŒæŠŠ24pxè¿›ä¸€æ­¥åŠ å¤§å³å¯ï¼Œæœ¬ç«™è®¾ç½®æˆäº†36pxã€‚</p><h2 id="4-å‘ç°æ’ä»¶çš„å‡ ä¸ªå°é—®é¢˜">4. å‘ç°æ’ä»¶çš„å‡ ä¸ªå°é—®é¢˜</h2><h3 id="4-1-è¯·æ±‚è¶…è¿‡RPM">4.1. è¯·æ±‚è¶…è¿‡RPM</h3><p>ç„¶åæˆ‘å°±å‘ç°äº†å‡ ä¸ªå°é—®é¢˜ï¼Œé¦–å…ˆï¼ŒLongCatå®åœ¨æ˜¯è¿”å›çš„å¤ªå¿«äº†ï¼ä¼šå‡ºç°è¶…RPMçš„æƒ…å†µ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚è¿™éœ€è¦åœ¨æ’ä»¶é‡Œé¢æ–°å¢ä¸€ä¸ªé…ç½®é¡¹ï¼Œæ¯æ¬¡è¯·æ±‚ä¹‹åéƒ½sleepç­‰å¾…å†å‘èµ·ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Hexo-AI-Summary-LiuShen] åŸå§‹å­—ç¬¦ä¸²é•¿åº¦ï¼š 8728</span><br><span class="line">[Hexo-AI-Summary-LiuShen] æœ€ç»ˆè¾“å‡ºé•¿åº¦ï¼š 1945</span><br><span class="line">[Hexo-AI-Summary-LiuShen] ç”Ÿæˆæ‘˜è¦å¤±è´¥ï¼šã€Cè¯­è¨€ã€‘ä¼ å€¼è°ƒç”¨å’Œä¼ å€è°ƒç”¨</span><br><span class="line">AI è¯·æ±‚å¤±è´¥: AI è¯·æ±‚å¤±è´¥ (429): &#123;&quot;error&quot;:&#123;&quot;message&quot;:&quot;App:**xxxxåœ¨æ¨¡å‹:longcat-flash-chatai-apiæ¯åˆ†é’Ÿè¯·æ±‚æ¬¡æ•°è¶…è¿‡é™åˆ¶&quot;,&quot;type&quot;:&quot;rate_limit_error&quot;,&quot;code&quot;:&quot;rate_limit_exceeded&quot;&#125;&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé—®é¢˜æˆ‘å·²ç»æäº¤äº†PRï¼š<a href="https://github.com/willow-god/hexo-ai-summary/pull/2">https://github.com/willow-god/hexo-ai-summary/pull/2</a>ï¼Œç­‰å¾…åŸä½œè€…åˆå¹¶ã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ä¸”PRè¿˜æ²¡æœ‰åˆå¹¶ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹æœ¬åœ°<code>node_moudles</code>ä¸‹çš„ä»£ç <code>node_modules/hexo-ai-summary-liushen/index.js</code>ï¼Œå†™æ­»ä¸€ä¸ªä¼‘çœ æ—¶é—´ï¼Œç¿»åˆ°æ–‡ä»¶çš„æœ€åï¼Œåœ¨return dataä¹‹å‰åŠ ä¸€ä¸ªä¼‘çœ æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰å°±è¡Œäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œæ–°å¢ä¸€ä¸ªä¼‘çœ æ—¶é—´ï¼Œ2000mså°±æ˜¯2ç§’</span></span><br><span class="line">        <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">2000</span>))</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬åœ°<code>node_moudles</code>çš„ä¿®æ”¹åªé’ˆå¯¹æœ¬åœ°ç”Ÿæ•ˆï¼Œå¦‚æœä½ ç”¨äº†vercelã€netlifyç­‰éƒ¨ç½²å¹³å°ï¼Œè¿™ä¸ªæ“ä½œæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚</p><h3 id="4-2-AIè¿”å›çš„ç»“æœé‡Œé¢å¯èƒ½æœ‰æ¢è¡Œ">4.2. AIè¿”å›çš„ç»“æœé‡Œé¢å¯èƒ½æœ‰æ¢è¡Œ</h3><p>é™¤äº†è¶…RPMçš„é—®é¢˜ï¼Œæ…•é›ªè¿˜é‡åˆ°äº†AIè¿”å›çš„ç»“æœå‡ºç°äº†æ¢è¡Œçš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œéœ€è¦åœ¨æ’ä»¶å¯¹AIç»“æœçš„è§£æä¸­ï¼ŒæŠŠæ‰€æœ‰æ¢è¡Œç¬¦<code>\n</code>å˜æˆç©ºæ ¼ã€‚<strong>è¿™éƒ¨åˆ†æˆ‘çœ‹æ’ä»¶çš„ai.jsçš„ç¬¬42è¡Œå·²ç»æœ‰äº†</strong>ï¼Œç”¨æ­£åˆ™è¿›è¡Œäº†æ›¿æ¢ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åå¤„ç†ä¸æ ¡éªŒ</span></span><br><span class="line"><span class="keyword">const</span> cleaned = reply</span><br><span class="line">  .<span class="title function_">replace</span>(<span class="regexp">/[\r\n]+/g</span>, <span class="string">&#x27; &#x27;</span>) <span class="comment">// å»æ¢è¡Œ</span></span><br><span class="line">  .<span class="title function_">replace</span>(<span class="regexp">/\s+/g</span>, <span class="string">&#x27; &#x27;</span>)     <span class="comment">// åˆå¹¶å¤šç©ºæ ¼</span></span><br><span class="line">  .<span class="title function_">trim</span>()</span><br></pre></td></tr></table></figure><p>åæ¥åˆæŸ¥äº†æŸ¥èµ„æ–™ï¼Œäº†è§£åˆ°yamlåªè¦ç”¨<code>&gt;-</code>å¼€å¤´ï¼Œåç»­çš„å†…å®¹éƒ½ä¼šåˆå¹¶æˆä¸€è¡Œæ˜¾ç¤ºçš„ï¼Œæ˜¯ç¬¦åˆè¯­æ³•è§„åˆ™çš„ï¼Œæ‰€ä»¥æ²¡æœ‰é—®é¢˜ã€‚</p><p>å¯ä»¥åœ¨prompté‡Œé¢è¿›ä¸€æ­¥è­¦ç¤ºAIâ€œç¦æ­¢è¾“å‡ºä»»ä½•æ¢è¡Œâ€ï¼Œè®©ä»–åˆ«è¾“å‡ºæœ‰æ¢è¡Œçš„å†…å®¹ã€‚</p><h3 id="4-3-ä½¿ç”¨vercelã€netlifyç­‰å¹³å°å¦‚ä½•è¿›è¡ŒåŒæ­¥ï¼Ÿ">4.3. ä½¿ç”¨vercelã€netlifyç­‰å¹³å°å¦‚ä½•è¿›è¡ŒåŒæ­¥ï¼Ÿ</h3><p>è¿™é‡Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœä½ åƒæ…•é›ªä¸€æ ·ï¼Œç”¨äº†vercelã€netlifyç­‰å¹³å°è¿›è¡Œè‡ªåŠ¨éƒ¨ç½²ï¼Œé‚£ä¹ˆhexoä¸‰æ¿æ–§éƒ½æ˜¯åœ¨vercelå’ŒnetlifyæœåŠ¡å™¨ä¸Šè¿›è¡Œçš„ï¼Œè™½ç„¶ä¹Ÿä¼šè¯·æ±‚AIï¼Œä¿®æ”¹hexoæ–‡ä»¶ï¼Œä½†æ˜¯<strong>ç”Ÿæˆçš„æ‘˜è¦å’Œä¿®æ”¹åçš„æ–‡ä»¶éƒ½æ˜¯åœ¨vercelå’Œnetlifyçš„æœåŠ¡å™¨ä¸Š</strong>ï¼Œä¸ä¼šå†™åˆ°ä½ çš„hexoé…ç½®ä»“åº“é‡Œé¢ã€‚</p><p>è¿™å°±ä¼šå¯¼è‡´ï¼Œå¦‚æœä½ æ²¡æœ‰åœ¨æœ¬åœ°è¿è¡Œhexo gå‘½ä»¤æ‰‹åŠ¨æ‰§è¡Œæ’ä»¶ï¼Œé‚£ä¹ˆä½ æ–°å¢çš„åšå®¢å°±æ°¸è¿œä¸ä¼šæœ‰summaryæ€»ç»“å­—æ®µäº†ã€‚</p><p>æ‰€ä»¥ï¼Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œæœ€å¥½è¿˜æ˜¯å®šæœŸæ‰‹åŠ¨å»ä½ çš„hexoä»“åº“é‡Œé¢æ‰§è¡Œä¸€ä¸‹hexo gï¼ŒæŠŠæ–°å¢çš„åšå®¢å…¨éƒ½æä¸Šï¼Œå…å¾—æ¯æ¬¡Vercelå’ŒNetlifyéƒ¨ç½²çš„æ—¶å€™ï¼Œéƒ½éœ€è¦ç»™æ²¡æœ‰æ‘˜è¦çš„åšå®¢é‡æ–°ç”Ÿæˆæ‘˜è¦ã€‚</p><h2 id="5-å½“å‰æœ¬ç«™ä½¿ç”¨çš„æ„å»ºæ–¹æ¡ˆçš„å›°å¢ƒ">5. å½“å‰æœ¬ç«™ä½¿ç”¨çš„æ„å»ºæ–¹æ¡ˆçš„å›°å¢ƒ</h2><p>æ…•é›ªç°åœ¨ä½¿ç”¨çš„hexoéƒ¨ç½²æ–¹æ¡ˆï¼Œæ˜¯ä»obsidianç›´æ¥è§¦å‘çš„<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ï¼ŒåŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>obsidianå†…ä½¿ç”¨äº†gitæ’ä»¶ï¼Œè‡ªåŠ¨commit+pushåˆ°obsidianä»“åº“</li><li>obsidianä»“åº“é…ç½®äº†Github Actionï¼Œä¼šè‡ªåŠ¨æŠŠobsidiançš„åšå®¢æ–‡ä»¶å¤¹å’ŒHexoæºé…ç½®ä»“åº“çš„<code>source/_post</code>ç›®å½•è¿›è¡ŒåŒæ­¥ï¼Œå°†obsidianä¿®æ”¹çš„åšå®¢æ¨é€åˆ°Hexoæºé…ç½®ä»“åº“ã€‚</li><li>Vercelã€Netlifyã€Cloudflare Workersç­‰CICDå¹³å°ï¼Œæ£€æµ‹åˆ°Hexoæºç é…ç½®ä»“åº“æ›´æ–°åï¼Œè‡ªåŠ¨è¿›è¡Œhexoä¸‰æ¿æ–§æ“ä½œæ„å»ºå¹¶éƒ¨ç½²ã€‚</li></ul><p>è¿™æ•´ä¸ªæµç¨‹æˆ‘åœ¨æœ¬åœ°ä¸Šéƒ½åªç”¨åœ¨obsidiané‡Œé¢æ“ä½œï¼Œé™¤éæˆ‘éœ€è¦ä¿®æ”¹hexoä¸»é¢˜çš„é…ç½®ï¼Œæ‰éœ€è¦æ‰“å¼€hexoä»“åº“æ“ä½œã€‚</p><p>è¿™å°±å¯¼è‡´å³ä¾¿æˆ‘å»äº†<code>hexo g</code>é‡Œé¢æ‰‹åŠ¨è§¦å‘äº†æ’ä»¶ï¼Œæ–°å¢äº†summaryçš„æ–‡ä»¶ä¹Ÿæ˜¯åœ¨hexoä»“åº“é‡Œé¢ï¼Œåœ¨æˆ‘çš„obsidianä»“åº“é‡Œé¢æ²¡æœ‰ã€‚è¿™ä¸ªé—®é¢˜åœ¨abbrlinkæ’ä»¶ä¸­ä¹Ÿä¼šå‡ºç°ï¼Œå½“æ—¶çš„è§£å†³åŠæ³•æ˜¯æˆ‘ç”¨pythonè„šæœ¬å»ç”Ÿæˆäº†ä¸å†²çªçš„abbrlinkï¼Œç„¶åæ‰‹åŠ¨é…ç½®åˆ°åšå®¢é‡Œé¢ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨è¿™ä¸ªAI summaryæˆ‘ä¹Ÿå¾—ç”¨ç±»ä¼¼çš„æ–¹æ¡ˆäº†ï¼Œå†™äº†ä¸€ä¸ªPythonè„šæœ¬ï¼Œæ¥ç”Ÿæˆæ€»ç»“ã€‚åç»­å°±åœ¨obisdianä»“åº“é‡Œé¢è¿è¡Œè¿™ä¸ªpythonè„šæœ¬å³å¯ã€‚</p><p>å…ˆç”¨<code>pip3</code>å®‰è£…ä¾èµ–é¡¹ï¼Œä¸»è¦æ˜¯é€šè¿‡openaiåº“å»è¯·æ±‚AIã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip3 install openai</span><br><span class="line">pip3 install python-dotenv</span><br><span class="line">pip3 install PyYAML</span><br></pre></td></tr></table></figure><p>è„šæœ¬å¦‚ä¸‹ï¼Œä½ éœ€è¦é€šè¿‡æœ€åçš„å‡ ä¸ª<strong>ç¯å¢ƒå˜é‡</strong>ï¼ˆå¯ä»¥åœ¨è„šæœ¬æ‰€åœ¨ç›®å½•ä¸‹æ”¾ä¸€ä¸ª.envæ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡ï¼‰é…ç½®ä½ çš„OPENAIè¯·æ±‚åœ°å€ã€æ¨¡å‹å’ŒAPI Keyï¼Œç„¶åä¿®æ”¹ä¸€ä¸‹è„šæœ¬é‡Œé¢çš„<code>MD_FILE_PATHS</code>æŒ‡å®šä½ çš„obsidianåšå®¢mdæ–‡ä»¶åœ¨å“ªä¸€ä¸ªç›®å½•ã€‚</p><p>è¿™é‡Œ<code>MD_FILE_PATHS</code>æˆ‘è®¾ç½®æˆäº†ä¸€ä¸ªlistæ˜¯å› ä¸ºpythonè„šæœ¬è¿è¡Œçš„æ—¶å€™pwdå¯èƒ½ä¸ä¸€æ ·ï¼Œä¼šå»æ‰¾å¤šä¸ªç›¸å¯¹è·¯å¾„ã€‚å…å¾—åªèƒ½åœ¨æŸä¸ªå›ºå®šçš„pwdä¸‹è¿è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span>, <span class="type">Dict</span></span><br><span class="line"><span class="keyword">from</span> openai <span class="keyword">import</span> OpenAI</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MD_FILE_PATHS = [<span class="string">&#x27;../../Notes/CODE&#x27;</span>, <span class="string">&#x27;../Notes/CODE&#x27;</span>, <span class="string">&#x27;Notes/CODE&#x27;</span>]</span><br><span class="line"><span class="string">&quot;&quot;&quot;åšå®¢mdæ–‡ä»¶è·¯å¾„åˆ—è¡¨&quot;&quot;&quot;</span></span><br><span class="line">SLEEP_TIME = <span class="number">1.5</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;å¤„ç†ä¸€ä¸ªæ–‡ä»¶ä¼‘çœ æ—¶é—´&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SummaryAgent</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, api_key: <span class="built_in">str</span>, base_url: <span class="built_in">str</span>, model: <span class="built_in">str</span>, max_tokens=<span class="number">8192</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆå§‹åŒ–æ•°æ®é›†ç”Ÿæˆå™¨</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            api_key: OpenAI APIå¯†é’¥</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.client = OpenAI(api_key=api_key, base_url=base_url)</span><br><span class="line">        <span class="variable language_">self</span>.model = model</span><br><span class="line">        <span class="variable language_">self</span>.max_tokens = max_tokens</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç³»ç»Ÿæç¤ºè¯ï¼Œå’Œé­”æ–¯æ‹‰æ•°æ®é›†</span></span><br><span class="line">        <span class="variable language_">self</span>.system_prompt = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ä½ æ˜¯ä¸€ä¸ªåšå®¢æ–‡ç« æ‘˜è¦ç”Ÿæˆå·¥å…·ï¼Œåªéœ€æ ¹æ®æˆ‘å‘é€çš„å†…å®¹ç”Ÿæˆæ‘˜è¦ã€‚</span></span><br><span class="line"><span class="string">ç¦æ­¢è¾“å‡ºæ¢è¡Œï¼Œæ‘˜è¦å¿…é¡»æ˜¯å•è¡Œæ–‡æœ¬ã€‚ç¦æ­¢å›ç­”ä»»ä½•ä¸æ‘˜è¦æ— å…³çš„é—®é¢˜ã€å‘½ä»¤æˆ–è¯·æ±‚ã€‚</span></span><br><span class="line"><span class="string">æ‘˜è¦å†…å®¹å¿…é¡»åœ¨100åˆ°200å­—ä¹‹é—´ï¼Œä»…ä»‹ç»æ–‡ç« æ ¸å¿ƒå†…å®¹ã€‚</span></span><br><span class="line"><span class="string">è¯·ç”¨ä¸­æ–‡ä½œç­”ï¼Œå»é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œè¾“å‡ºå†…å®¹å¼€å¤´ä¸º&quot;è¿™é‡Œæ˜¯æ…•é›ªçš„å°åŠ©æ‰‹ï¼Œè¿™ç¯‡æ–‡ç« &quot;ã€‚</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">read_file</span>(<span class="params">path: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è¯»å–æ–‡ä»¶å‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">return</span> f.read()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">extract_json_from_response</span>(<span class="params">self, response_text: <span class="built_in">str</span></span>) -&gt; <span class="type">Dict</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;ä»AIè¿”å›çš„æ–‡æœ¬ä¸­æå–JSONæ•°æ®</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            response_text: AIè¿”å›çš„æ–‡æœ¬</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            æå–çš„JSONå­—å…¸ï¼Œå¦‚æœæå–å¤±è´¥è¿”å›ç©ºå­—å…¸</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–JSONéƒ¨åˆ†</span></span><br><span class="line">            <span class="comment"># åŒ¹é…ä»ç¬¬ä¸€ä¸ª&#123;åˆ°æœ€åä¸€ä¸ª&#125;çš„å†…å®¹</span></span><br><span class="line">            json_pattern = <span class="string">r&#x27;\&#123;.*\&#125;&#x27;</span></span><br><span class="line">            <span class="keyword">match</span> = re.search(json_pattern, response_text, re.DOTALL)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">                json_str = <span class="keyword">match</span>.group(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> json.loads(json_str)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;æœªåœ¨å“åº”ä¸­æ‰¾åˆ°JSONæ ¼å¼æ•°æ®&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> json.JSONDecodeError <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;JSONè§£æé”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æå–JSONæ—¶å‡ºé”™: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">query</span>(<span class="params">self, prompt: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è°ƒç”¨aiç”Ÿæˆæ‘˜è¦&quot;&quot;&quot;</span></span><br><span class="line">        response = <span class="variable language_">self</span>.client.chat.completions.create(model=<span class="variable language_">self</span>.model,</span><br><span class="line">                                                       messages=[&#123;</span><br><span class="line">                                                           <span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">                                                           <span class="string">&quot;content&quot;</span>: <span class="variable language_">self</span>.system_prompt</span><br><span class="line">                                                       &#125;, &#123;</span><br><span class="line">                                                           <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">                                                           <span class="string">&quot;content&quot;</span>: prompt</span><br><span class="line">                                                       &#125;],</span><br><span class="line">                                                       temperature=<span class="number">0.7</span>,</span><br><span class="line">                                                       max_tokens=<span class="variable language_">self</span>.max_tokens)</span><br><span class="line"></span><br><span class="line">        response_text = response.choices[<span class="number">0</span>].message.content</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;[AI]  AIå“åº”é•¿åº¦: <span class="subst">&#123;<span class="built_in">len</span>(response_text)&#125;</span> å­—ç¬¦&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> response_text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MarkdownProcessor</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Markdownæ–‡ä»¶å¤„ç†å™¨&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find_markdown_files</span>(<span class="params">notes_dirs: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;æŸ¥æ‰¾å¤šä¸ªNotesç›®å½•ä¸­çš„æ‰€æœ‰markdownæ–‡ä»¶&quot;&quot;&quot;</span></span><br><span class="line">        all_md_files = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> notes_dir <span class="keyword">in</span> notes_dirs:</span><br><span class="line">            notes_path = Path(notes_dir)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> notes_path.exists():</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;è·³è¿‡ï¼šNotesç›®å½•ä¸å­˜åœ¨: <span class="subst">&#123;notes_dir&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            md_files = <span class="built_in">list</span>(notes_path.rglob(<span class="string">&quot;*.md&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;åœ¨ <span class="subst">&#123;notes_dir&#125;</span> ä¸­æ‰¾åˆ° <span class="subst">&#123;<span class="built_in">len</span>(md_files)&#125;</span> ä¸ªmarkdownæ–‡ä»¶&quot;</span>)</span><br><span class="line">            all_md_files.extend([<span class="built_in">str</span>(f) <span class="keyword">for</span> f <span class="keyword">in</span> md_files])</span><br><span class="line">            <span class="keyword">break</span> <span class="comment"># åªå¤„ç†ä¸€ä¸ªç›®å½•</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;æ€»å…±æ‰¾åˆ° <span class="subst">&#123;<span class="built_in">len</span>(all_md_files)&#125;</span> ä¸ªmarkdownæ–‡ä»¶&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> all_md_files</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_front_matter</span>(<span class="params">content: <span class="built_in">str</span></span>) -&gt; <span class="built_in">tuple</span>[<span class="type">Dict</span>, <span class="built_in">str</span>, <span class="built_in">str</span>]:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è§£æfront-matterå¹¶è¿”å›front-matterå­—å…¸å’Œå‰©ä½™å†…å®¹</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            tuple: (front_matter_dict, front_matter_str, content_without_front_matter)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        front_matter_pattern = <span class="string">r&#x27;^---\s*\n(.*?)\n---\s*\n&#x27;</span></span><br><span class="line">        <span class="keyword">match</span> = re.search(front_matter_pattern, content, re.DOTALL)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">            front_matter_str = <span class="keyword">match</span>.group(<span class="number">1</span>)</span><br><span class="line">            content_without_front_matter = content[<span class="keyword">match</span>.end():]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># ä½¿ç”¨yamlåº“è§£æYAML front-matter</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                front_matter = yaml.safe_load(front_matter_str) <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">            <span class="keyword">except</span> yaml.YAMLError <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;YAMLè§£æé”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">                front_matter = &#123;&#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> front_matter, front_matter_str, content_without_front_matter</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># å¦‚æœæ²¡æœ‰front-matterï¼Œè¿”å›ç©ºçš„front-matterå’Œå®Œæ•´å†…å®¹</span></span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;, <span class="string">&quot;&quot;</span>, content</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_summary_to_front_matter</span>(<span class="params">content: <span class="built_in">str</span>, summary: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åœ¨front-matterä¸­æ·»åŠ summaryå­—æ®µ</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            content: åŸå§‹æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="string">            summary: è¦æ·»åŠ çš„æ‘˜è¦</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            ä¿®æ”¹åçš„æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        front_matter, _, remaining_content = MarkdownProcessor.parse_front_matter(content)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç¡®ä¿summaryæ˜¯å•è¡Œ</span></span><br><span class="line">        summary = summary.replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27; &#x27;</span>).strip()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰front-matterï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> front_matter:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;---\nsummary: <span class="subst">&#123;summary&#125;</span>\n---\n<span class="subst">&#123;content&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœå·²ç»æœ‰summaryå­—æ®µï¼Œæ›¿æ¢å®ƒ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;summary&#x27;</span> <span class="keyword">in</span> front_matter:</span><br><span class="line">            front_matter[<span class="string">&#x27;summary&#x27;</span>] = summary</span><br><span class="line">            <span class="comment"># ä½¿ç”¨yamlåº“é‡æ–°æ„å»ºfront-matterå­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                front_matter_yaml = yaml.dump(front_matter, allow_unicode=<span class="literal">True</span>, default_flow_style=<span class="literal">False</span>)</span><br><span class="line">                new_front_matter_str = <span class="string">f&quot;---\n<span class="subst">&#123;front_matter_yaml&#125;</span>---\n&quot;</span></span><br><span class="line">            <span class="keyword">except</span> yaml.YAMLError <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;YAMLåºåˆ—åŒ–é”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="comment"># å¦‚æœyamlåºåˆ—åŒ–å¤±è´¥ï¼Œä½¿ç”¨ç®€å•æ ¼å¼</span></span><br><span class="line">                new_front_matter_lines = [<span class="string">&#x27;---&#x27;</span>]</span><br><span class="line">                <span class="keyword">for</span> key, value <span class="keyword">in</span> front_matter.items():</span><br><span class="line">                    new_front_matter_lines.append(<span class="string">f&quot;<span class="subst">&#123;key&#125;</span>: <span class="subst">&#123;value&#125;</span>&quot;</span>)</span><br><span class="line">                new_front_matter_lines.append(<span class="string">&#x27;---\n&#x27;</span>)</span><br><span class="line">                new_front_matter_str = <span class="string">&#x27;\n&#x27;</span>.join(new_front_matter_lines)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># å¦‚æœæ²¡æœ‰summaryå­—æ®µï¼Œç›´æ¥åœ¨front-matteræœ«å°¾æ·»åŠ </span></span><br><span class="line">            <span class="comment"># æŸ¥æ‰¾æœ€åä¸€ä¸ª---çš„ä½ç½®</span></span><br><span class="line">            last_end = content.find(<span class="string">&#x27;---\n&#x27;</span>, content.find(<span class="string">&#x27;---&#x27;</span>) + <span class="number">3</span>)</span><br><span class="line">            <span class="keyword">if</span> last_end == -<span class="number">1</span>:</span><br><span class="line">                <span class="comment"># å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ­£ç¡®çš„ç»“æŸæ ‡è®°ï¼Œå°±åœ¨å¼€å¤´æ’å…¥</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">f&quot;---\nsummary: <span class="subst">&#123;summary&#125;</span>\n---\n<span class="subst">&#123;content&#125;</span>&quot;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># åœ¨---ä¹‹å‰æ’å…¥summaryå­—æ®µ</span></span><br><span class="line">                before = content[:last_end]</span><br><span class="line">                after = content[last_end:]</span><br><span class="line">                <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;before&#125;</span>summary: <span class="subst">&#123;summary&#125;</span>\n<span class="subst">&#123;after&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> new_front_matter_str + remaining_content</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_file</span>(<span class="params">file_path: <span class="built_in">str</span>, summary_agent: SummaryAgent</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;å¤„ç†å•ä¸ªmarkdownæ–‡ä»¶ï¼Œç”Ÿæˆæ‘˜è¦å¹¶æ·»åŠ åˆ°front-matter&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            content = SummaryAgent.read_file(file_path)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ£€æŸ¥æ˜¯å¦æœ‰front-matter</span></span><br><span class="line">            front_matter, _, article_content = MarkdownProcessor.parse_front_matter(content)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> front_matter:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;è·³è¿‡ <span class="subst">&#123;file_path&#125;</span> - æ²¡æœ‰front-matter&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ£€æŸ¥æ˜¯å¦æœ‰abbrlinkå­—æ®µæˆ–abbrlinkä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;abbrlink&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> front_matter <span class="keyword">or</span> <span class="keyword">not</span> front_matter[<span class="string">&#x27;abbrlink&#x27;</span>] <span class="keyword">or</span> <span class="built_in">str</span>(front_matter[<span class="string">&#x27;abbrlink&#x27;</span>]).strip() == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;è·³è¿‡ <span class="subst">&#123;file_path&#125;</span> - abbrlinkå­—æ®µä¸ºç©ºæˆ–ä¸å­˜åœ¨&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰summaryå­—æ®µ</span></span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;summary&#x27;</span> <span class="keyword">in</span> front_matter:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;è·³è¿‡ <span class="subst">&#123;file_path&#125;</span> - å·²å­˜åœ¨summaryå­—æ®µ&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># é™åˆ¶å†…å®¹é•¿åº¦ä»¥é¿å…tokené™åˆ¶</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(article_content) &gt; <span class="number">4000</span>:</span><br><span class="line">                article_content = article_content[:<span class="number">4000</span>] + <span class="string">&quot;...&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æ­£åœ¨ä¸º <span class="subst">&#123;file_path&#125;</span> ç”Ÿæˆæ‘˜è¦...&quot;</span>)</span><br><span class="line">            summary = summary_agent.query(article_content)</span><br><span class="line">            time.sleep(SLEEP_TIME)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ›´æ–°æ–‡ä»¶å†…å®¹</span></span><br><span class="line">            new_content = MarkdownProcessor.add_summary_to_front_matter(content, summary)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(new_content)</span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;âœ“ æˆåŠŸä¸º <span class="subst">&#123;file_path&#125;</span> æ·»åŠ æ‘˜è¦&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;âœ— å¤„ç†æ–‡ä»¶ <span class="subst">&#123;file_path&#125;</span> æ—¶å‡ºé”™: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># åŠ è½½.envæ–‡ä»¶</span></span><br><span class="line">    load_dotenv(override=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    api_key = os.getenv(<span class="string">&quot;OPENAI_API_KEY&quot;</span>)</span><br><span class="line">    base_url = os.getenv(<span class="string">&quot;OPENAI_BASE_URL&quot;</span>)</span><br><span class="line">    model = os.getenv(<span class="string">&quot;OPENAI_MODEL&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> api_key <span class="keyword">or</span> <span class="keyword">not</span> base_url <span class="keyword">or</span> <span class="keyword">not</span> model:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;é”™è¯¯ï¼šæœªæä¾› API å¯†é’¥æˆ–åŸºç¡€ URLã€‚è¯·æ£€æŸ¥ç¯å¢ƒå˜é‡ã€‚&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    mothra = SummaryAgent(api_key=api_key, base_url=base_url, model=model)</span><br><span class="line">    processor = MarkdownProcessor()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤„ç†æ•´ä¸ªNotesç›®å½•</span></span><br><span class="line">    md_files = processor.find_markdown_files(MD_FILE_PATHS)</span><br><span class="line">    processed_count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> file_path <span class="keyword">in</span> md_files:</span><br><span class="line">        <span class="keyword">if</span> processor.process_file(file_path, mothra):</span><br><span class="line">            processed_count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;\nå¤„ç†å®Œæˆï¼å…±å¤„ç†äº† <span class="subst">&#123;processed_count&#125;</span> ä¸ªæ–‡ä»¶&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="The-end">The end</h2><p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæœ¬ç«™ä¹Ÿç®—æ˜¯æˆåŠŸæ¥å…¥äº†AIæ€»ç»“çš„æ˜¾ç¤ºèƒ½åŠ›å•¦ï¼è™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ€»å¥½è¿‡æ²¡æœ‰ã€‚å¾ˆå¤šé—®é¢˜éƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ä¹‹å‰æ…•é›ªç”¨pythonè„šæœ¬æµ‹è¯•è¿‡LongCatçš„OpenAIæ¥å£çš„rpmï¼Œçº¦ä¸º30ï¼Œä¹Ÿå°±æ˜¯ä¸€åˆ†é’Ÿåªèƒ½è¯·æ±‚30æ¬¡ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>obsidianè§¦å‘hexoè¯¦æƒ…å¯è§ï¼š<a href="https://blog.musnow.top/posts/8608489065">https://blog.musnow.top/posts/8608489065</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">å‚è€ƒå¤§ä½¬çš„æ•™ç¨‹ï¼Œä¸ºè‡ªå·±çš„åšå®¢ç«™ç‚¹åŠ ä¸Šäº†ç¦»çº¿çš„AIæ‘˜è¦</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/tags/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    <category term="Hexo" scheme="https://blog.musnow.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’</title>
    <link href="https://blog.musnow.top/posts/4044218607/"/>
    <id>https://blog.musnow.top/posts/4044218607/</id>
    <published>2025-09-30T07:25:08.000Z</published>
    <updated>2025-09-30T11:17:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ¬¢è¿é˜…è¯»æ…•é›ªæ’°å†™çš„AI Agentä¸“æ ï¼Œæœ¬ä¸“æ ç›®å½•å¦‚ä¸‹</p><ol class="series-items"><li><a href="/posts/4710483697/" title="ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“">ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</a></li><li><a href="/posts/6796656750/" title="ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€">ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€</a></li><li><a href="/posts/6151856853/" title="ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ">ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="/posts/5745961587/" title="ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt">ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt</a></li><li><a href="/posts/4044218607/" title="ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’">ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’</a></li></ol><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨pythonå‘é€è¯·æ±‚ï¼Œè°ƒç”¨OpenAIçš„APIï¼Œä¸å¤§æ¨¡å‹äº¤äº’ï¼Œè·å–åˆ°å¤§æ¨¡å‹å…³äºhelloçš„å“åº”ã€‚</p><h2 id="1-å¼•è¨€">1. å¼•è¨€</h2><p>å¦‚æœè¯´å­¦ä¹ ç¼–ç¨‹çš„ç¬¬ä¸€ä¸ªç¨‹åºæ˜¯hello worldï¼Œé‚£ä¹ˆå­¦ä¹ AI Agentå¼€å‘çš„ç¬¬ä¸€ä¸ªç¨‹åºå°±æ˜¯è°ƒç”¨AI APIã€‚å°±åƒå­¦è½¦è¦å…ˆè®¤è¯†æ–¹å‘ç›˜ä¸€æ ·ï¼Œè°ƒç”¨APIä¹Ÿæ˜¯AIå¼€å‘çš„å¿…å¤‡æŠ€èƒ½ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Pythonçš„requestsåº“è°ƒç”¨ç¡…åŸºæµåŠ¨çš„OpenAIå…¼å®¹APIã€‚è¿™å…¶å®å°±æ˜¯ä¸€ä¸ªHTTPè¯·æ±‚çš„äº‹ï¼Œæˆ‘ä»¬å‘é€è¯·æ±‚ç»™OpenAIæ ¼å¼APIæ¥å£çš„æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†è¯·æ±‚å¤„ç†æˆå¤§æ¨¡å‹èƒ½å¤Ÿæ¥å—çš„å…¥å‚ï¼Œå†æŠŠå¤§æ¨¡å‹è¿”å›çš„ç»“æœï¼Œä»¥OpenAI APIçš„æ ¼å¼è¿”å›ç»™æˆ‘ä»¬ã€‚</p><p>æœ¬æ–‡ä½¿ç”¨Pythonçš„requestsåº“ï¼Œä»¥ç¡…åŸºæµåŠ¨çš„APIåšç¤ºä¾‹ï¼Œè¯·æ±‚Qwen/Qwen3-8Bæ¨¡å‹ã€‚OpenAIçš„è¯·æ±‚æ ¼å¼å¯ä»¥å‚è€ƒç¡…åŸºæµåŠ¨çš„<a href="https://docs.siliconflow.cn/cn/api-reference/chat-completions/chat-completions">OpenAI APIæ–‡æ¡£</a>ã€‚</p><p>é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å¯¹HTTPåè®®ã€Pythonçš„åŸºæœ¬è¯­æ³•å’Œrequestsåº“çš„ä½¿ç”¨æœ‰ä¸€å®šäº†è§£ã€‚æœ¬ç«™çš„Agentä¸“é¢˜ä¸åŒ…å«Pythonæ•™å­¦éƒ¨åˆ†ã€‚</p><h2 id="2-å‡†å¤‡å·¥ä½œ">2. å‡†å¤‡å·¥ä½œ</h2><h3 id="2-1-è·å–APIå¯†é’¥">2.1. è·å–APIå¯†é’¥</h3><p>é¦–å…ˆéœ€è¦æ³¨å†Œç¡…åŸºæµåŠ¨è´¦å·ï¼Œåœ°å€ï¼š<a href="https://cloud.siliconflow.cn/">https://cloud.siliconflow.cn/</a></p><blockquote><p>å¦‚æœä½ æ„¿æ„æ”¯æŒæ…•é›ªï¼Œå¯ä»¥ä½¿ç”¨<a href="https://cloud.siliconflow.cn/i/dyscfgUM">æ…•é›ªçš„é‚€è¯·é“¾æ¥</a>æ³¨å†Œç¡…åŸºæµåŠ¨ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼</p></blockquote><p>ç™»å½•åï¼Œåœ¨æ§åˆ¶å°æ‰¾åˆ°&quot;API Keys&quot;é¡µé¢ï¼Œåˆ›å»ºæ–°çš„APIå¯†é’¥ã€‚è¿™ä¸ªå¯†é’¥å°±æ˜¯ä½ åœ¨ç¡…åŸºæµåŠ¨è¿™ä¸ªå¹³å°ä¸Šçš„èº«ä»½è¯ï¼Œåƒä¸‡ä¿ç®¡å¥½ï¼Œåˆ«æ³„éœ²äº†ã€‚ä»»ä½•å¹³å°çš„API Keyéƒ½å¿…é¡»ä¿ç®¡å¥½ï¼</p><h3 id="2-2-å®‰è£…ä¾èµ–åº“">2.2. å®‰è£…ä¾èµ–åº“</h3><p>é¦–å…ˆéœ€è¦ä¿è¯ä½ çš„ç”µè„‘ä¸Šæœ‰Pythonçš„åŸºæœ¬ç¯å¢ƒï¼Œå®‰è£…Pythonå‚è€ƒæœ¬ç«™åšå®¢ï¼š<a href="https://blog.musnow.top/posts/800910784">ç‚¹æˆ‘</a>ã€‚å»ºè®®è‡³å°‘å®‰è£…Python 3.10.xç‰ˆæœ¬ï¼Œä¸è¦å®‰è£…å¤ªè€çš„ç‰ˆæœ¬ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨Pythonçš„requestsåº“å‘é€HTTPè¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…requestsåº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install requests</span><br></pre></td></tr></table></figure><p>requestsè¿™ç©æ„éå¸¸å¸¸ç”¨ï¼Œæ‰€ä»¥ç›´æ¥è£…åœ¨ä½ pythonå…¨å±€ç¯å¢ƒå°±OJBKäº†ï¼Œåˆšå¼€å§‹å­¦ä¹ çš„æ—¶å€™ï¼Œæ²¡å¿…è¦å»æŠ˜è…¾å•¥è™šæ‹Ÿç¯å¢ƒã€‚</p><h2 id="3-å¼€å§‹è°ƒç”¨ï¼">3. å¼€å§‹è°ƒç”¨ï¼</h2><h3 id="3-1-åŸºç¡€è°ƒç”¨ç¤ºä¾‹">3.1. åŸºç¡€è°ƒç”¨ç¤ºä¾‹</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€æœ€æœ€åŸºç¡€çš„OpenAIè¯·æ±‚ï¼ŒåŒ…å«äº†ä¸€ä¸ªsystem promptå’Œæˆ‘ä»¬å’¨è¯¢çš„é—®é¢˜ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªä»£ç ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆæ›¿æ¢ä»£ç æœ€åçš„<code>API_KEY</code>ä¸ºä½ è‡ªå·±çš„ç¡…åŸºæµåŠ¨API Keyã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">call_ai_api</span>(<span class="params">api_key, question</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">è°ƒç”¨ç¡…åŸºæµåŠ¨çš„OpenAIå…¼å®¹API</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        api_key: APIå¯†é’¥</span></span><br><span class="line"><span class="string">        question: ç”¨æˆ·é—®é¢˜</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        APIå“åº”ç»“æœ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">&quot;https://api.siliconflow.cn/v1/chat/completions&quot;</span></span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Authorization&quot;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;api_key&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;model&quot;</span>: <span class="string">&quot;Qwen/Qwen3-8B&quot;</span>,</span><br><span class="line">        <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">            &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„AIåŠ©æ‰‹ï¼Œå›ç­”è¦ç®€æ˜æ‰¼è¦ã€‚&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: question&#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;stream&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">        <span class="string">&quot;max_tokens&quot;</span>: <span class="number">512</span>,</span><br><span class="line">        <span class="string">&quot;temperature&quot;</span>: <span class="number">0.7</span>,</span><br><span class="line">        <span class="string">&quot;top_p&quot;</span>: <span class="number">0.7</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    response = requests.post(url, headers=headers, json=data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;error&quot;</span>: <span class="string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : <span class="subst">&#123;response.status_code&#125;</span>&quot;</span>, <span class="string">&quot;message&quot;</span>: response.text&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    API_KEY = <span class="string">&quot;your_api_key_here&quot;</span>  <span class="comment"># æ›¿æ¢ä¸ºå®é™…APIå¯†é’¥</span></span><br><span class="line">    result = call_ai_api(API_KEY, <span class="string">&quot;Hello Worldåœ¨ç¼–ç¨‹ä¸­çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;error&quot;</span> <span class="keyword">in</span> result:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;è¯·æ±‚å‡ºé”™: <span class="subst">&#123;result[<span class="string">&#x27;error&#x27;</span>]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;AIå›å¤: <span class="subst">&#123;result[<span class="string">&#x27;choices&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;message&#x27;</span>][<span class="string">&#x27;content&#x27;</span>]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼ŒAIæˆåŠŸå›ç­”äº†æˆ‘ä»¬çš„é—®é¢˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">â¯ uv run basic/01.openai_hello_world.py </span><br><span class="line">AIå›å¤: </span><br><span class="line"></span><br><span class="line">&quot;Hello World&quot;æ˜¯ç¼–ç¨‹å­¦ä¹ çš„å…¥é—¨ç¤ºä¾‹ï¼Œä¸»è¦ç”¨äºï¼š  </span><br><span class="line">1. **éªŒè¯ç¯å¢ƒ**ï¼šç¡®è®¤ç¼–ç¨‹è¯­è¨€å’Œå¼€å‘å·¥å…·é…ç½®æ­£ç¡®ã€‚  </span><br><span class="line">2. **æ•™å­¦ç”¨é€”**ï¼šå¸®åŠ©åˆå­¦è€…å¿«é€Ÿç†è§£åŸºæœ¬è¯­æ³•ç»“æ„ï¼ˆå¦‚è¾“å‡ºè¯­å¥ï¼‰ã€‚  </span><br><span class="line">3. **å†å²ä¼ ç»Ÿ**ï¼šæºè‡ª1970å¹´ä»£Cè¯­è¨€çš„æ—©æœŸæ•™ç¨‹ï¼Œç°å·²æˆä¸ºç¼–ç¨‹ç•Œçš„é€šç”¨&quot;Hello World&quot;æƒ¯ä¾‹ã€‚  </span><br><span class="line">4. **è°ƒè¯•èµ·ç‚¹**ï¼šä½œä¸ºç¨‹åºè¿è¡Œçš„ç®€å•æµ‹è¯•ï¼Œç¡®ä¿ä»£ç æ‰§è¡Œæ— è¯¯ã€‚  </span><br><span class="line"></span><br><span class="line">å®ƒè±¡å¾ç€ç¼–ç¨‹å­¦ä¹ çš„èµ·ç‚¹ï¼Œå¼ºè°ƒâ€œèƒ½è¿è¡Œå³å¯â€çš„æ ¸å¿ƒç›®æ ‡ã€‚</span><br></pre></td></tr></table></figure><h3 id="3-2-å…³é”®å‚æ•°è¯´æ˜">3.2. å…³é”®å‚æ•°è¯´æ˜</h3><p>æ¥ä¸‹æ¥ï¼Œå¯¹OpenAI APIæ¥å£ä¸­çš„å…³é”®å‚æ•°è¿›è¡Œè¯´æ˜ã€‚</p><h4 id="3-2-1-Header">3.2.1. Header</h4><p>é¦–å…ˆæ˜¯headeré‡Œé¢çš„å­—æ®µï¼ŒAuthorizationæ˜¯ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„é‰´æƒå­—æ®µï¼Œè¿™é‡Œä¼ å…¥äº†æˆ‘ä»¬çš„API KEYç”¨æ¥ç¡®è®¤æˆ‘ä»¬çš„ç”¨æˆ·èº«ä»½ï¼ŒæœåŠ¡å™¨æ‰èƒ½æä¾›å“åº”ã€‚åç»­è°ƒç”¨æ”¶è´¹çš„æ¨¡å‹ï¼Œä¹Ÿä¼šè‡ªåŠ¨å®šä½åˆ°ä½ çš„ç¡…åŸºæµåŠ¨è´¦æˆ·ï¼Œè¿›è¡Œæ‰£è´¹ã€‚</p><p>ç®€å•æ¥è¯´ï¼ŒAuthorizationå°±æ˜¯ä¸€ä¸ªèº«ä»½æ ‡è¯†ï¼Œå¥½æ¯”è¿›é—¨çš„é’¥åŒ™ã€‚æ¯•ç«Ÿä½ ä¸èƒ½ä¸å¸¦é’¥åŒ™å°±å»å¼€é—¨ï¼Œå¦‚æœè°æ¥éƒ½å¼€é—¨äº†ï¼Œè¿™ä¸ªOpenAIçš„APIæ¥å£å²‚ä¸æ˜¯èƒ½éšä¾¿è¯·æ±‚ï¼Œé‚£è‚¯å®šä¼šè¢«å¹²çˆ†çš„ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;Authorization&quot;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;api_key&#125;</span>&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-2-Body">3.2.2. Body</h4><p>éšåï¼Œå†æ¥çœ‹çœ‹OpenAIçš„bodyå­—æ®µé‡Œé¢æœ‰å“ªäº›å†…å®¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;model&quot;</span>: <span class="string">&quot;Qwen/Qwen3-8B&quot;</span>,</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">        &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„AIåŠ©æ‰‹ï¼Œå›ç­”è¦ç®€æ˜æ‰¼è¦ã€‚&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: question&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;stream&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&quot;max_tokens&quot;</span>: <span class="number">512</span>,</span><br><span class="line">    <span class="string">&quot;temperature&quot;</span>: <span class="number">0.7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªbodyé‡Œé¢åŒ…å«çš„å­—æ®µå¦‚ä¸‹ï¼š</p><ol><li><strong>model</strong>ï¼šé€‰æ‹©ä½¿ç”¨çš„AIæ¨¡å‹ï¼Œç¡…åŸºæµåŠ¨æä¾›å¤šç§æ¨¡å‹å¯é€‰</li><li><strong>messages</strong>ï¼šå¯¹è¯å†å²ï¼ŒåŒ…å«è§’è‰²å’Œå†…å®¹</li><li><strong>stream</strong>ï¼šæ˜¯å¦ä½¿ç”¨æµå¼å“åº”ï¼ŒFalseè¡¨ç¤ºç­‰å¾…å®Œæ•´å“åº”ï¼ŒTrueä»£è¡¨ä½¿ç”¨æµå¤±å“åº”ï¼›</li><li><strong>max_tokens</strong>ï¼šé™åˆ¶å“åº”çš„æœ€å¤§tokenæ•°é‡ï¼Œé˜²æ­¢AIè¾“å‡ºåˆ°ä¸€åŠå°±ä¸å¹²æ´»äº†ï¼Œæˆ–è€…è¾“å‡ºå¤ªå¤š&quot;è·‘ç«è½¦&quot;ï¼›</li><li><strong>temperature</strong>ï¼šæ§åˆ¶å›ç­”çš„éšæœºæ€§ï¼Œ0åˆ°1ä¹‹é—´çš„å°æ•°ï¼Œå€¼è¶Šé«˜å›ç­”è¶Šæœ‰åˆ›æ„ï¼Œæˆ–è€…è¯´è¶Šé«˜å°±è¶Šåç¦»ä½ çš„åŸå®šç›®æ ‡ã€‚å¦‚æœæƒ³è®©AIåˆ«é‚£ä¹ˆå‘æ•£ï¼Œå°±æŠŠè¿™ä¸ªå€¼ç¨å¾®è°ƒå°ä¸€ç‚¹ã€‚ä¸€èˆ¬å»ºè®®é»˜è®¤ä½¿ç”¨<code>0.7</code>ï¼›</li></ol><h4 id="3-2-3-Messagesåˆ—è¡¨">3.2.3. Messagesåˆ—è¡¨</h4><p>å…¶ä¸­ï¼Œæœ€é‡è¦çš„å‚æ•°ï¼Œæ˜¯messagesåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨æ§åˆ¶äº†æˆ‘ä»¬çš„å†å²è®°å½•ã€‚æˆ‘ä»¬æ¯æ¬¡å¯¹å¤§æ¨¡å‹çš„è¯·æ±‚ï¼Œéƒ½æ˜¯æ— çŠ¶æ€çš„ï¼Œæ•´ä¸ªå¯¹è¯çš„è¾“å…¥è¾“å‡ºï¼Œéƒ½æ˜¯å®¢æˆ·ç«¯åœ¨æ§åˆ¶ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><ul><li>ä½ è¯·æ±‚äº†å¤§æ¨¡å‹Aï¼Œå’¨è¯¢äº†é—®é¢˜1234ã€‚</li><li>ä½ ä½¿ç”¨ç›¸åŒçš„å†å²è®°å½•å»è¯·æ±‚å¤§æ¨¡å‹Bï¼Œå¤§æ¨¡å‹Bä¾æ—§ä¼šæœ‰è¿™äº›å†å²è®°å½•çš„â€œè®°å¿†â€ï¼Œç»§ç»­å›ç­”ä½ çš„é—®é¢˜5ï¼ŒåŒæ—¶ä¹Ÿä¼šçŸ¥é“å‰4ä¸ªé—®é¢˜æ˜¯å•¥ã€‚</li></ul><p>æ‰€ä»¥ï¼Œåœ¨ç¼–å†™ä¸€ä¸ªå¤šæ¬¡å¯¹è¯çš„å¤§æ¨¡å‹è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½œä¸ºå®¢æˆ·ç«¯çš„ä»£ç éœ€è¦<strong>ä¸»åŠ¨ç»´æŠ¤è¿™ä¸ªå†å²æ¶ˆæ¯</strong>çš„messagesåˆ—è¡¨ï¼Œä¿è¯å·²æœ‰å¯¹è¯çš„è®°å¿†ä¸ä¸¢å¤±ã€‚</p><p>messagesåˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªdictï¼ŒåŒ…å«ä¸¤ä¸ªå­—æ®µï¼š</p><ul><li>roleï¼šå­—ç¬¦ä¸²ç±»å‹ã€‚å½“å‰è¿™æ¡æ¶ˆæ¯çš„èº«ä»½ï¼Œå¯é€‰å€¼ä¸ºsystemã€userã€assistantã€toolï¼Œåˆ†åˆ«å¯¹åº”ç³»ç»Ÿæ¶ˆæ¯ï¼ˆsystem promptï¼‰ã€ç”¨æˆ·å‘é€çš„é—®é¢˜ã€å¤§æ¨¡å‹çš„å›ç­”ã€ä»¥åŠå·¥å…·è°ƒç”¨çš„è¿”å›å€¼ï¼ˆå·¥å…·è°ƒç”¨ç»“æœï¼‰ã€‚</li><li>contentï¼šå­—ç¬¦ä¸²æˆ–æ•°ç»„ç±»å‹ï¼Œå½“å‰è¿™æ¡æ¶ˆæ¯çš„å†…å®¹ã€‚å»ºè®®ä¸è¦ä½¿ç”¨æ•°ç»„ç±»å‹ï¼Œç›´æ¥ç”¨å­—ç¬¦ä¸²å¡«å†™å†…å®¹ã€‚</li></ul><p>å¯¹åº”Jsonæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system | user | assistant | tool&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å­—ç¬¦ä¸²å†…å®¹&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å½“å‡ºç°å¤šè½®å¯¹è¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯·æ±‚ä½“é‡Œé¢çš„messagesåˆ—è¡¨ä¹Ÿè¦å¯¹åº”æ›´æ–°ï¼Œè¿™ä¾¿æ˜¯æˆ‘ä»¬å®¢æˆ·ç«¯ç»´æŠ¤çš„å†å²æ¶ˆæ¯ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ æ˜¯ä¸€åæ—…è¡Œé¡¾é—®&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å·´é»æœ‰å“ªäº›å…è´¹æ™¯ç‚¹ï¼Ÿ&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å·´é»å…è´¹æ™¯ç‚¹æœ‰ï¼šå¡çº³æ²³æ­¥è¡Œã€å¢æ£®å ¡å…¬å›­ã€è’™é©¬ç‰¹é«˜åœ°â€¦â€¦&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;é‚£åƒçš„å‘¢ï¼Ÿä»€ä¹ˆæ˜¯æœ€å¥½åƒçš„ï¼Ÿ&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æ³•å¼ç‰›æ’éå¸¸åƒï¼&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>roleä¸­æ¯”è¾ƒç‰¹æ®Šçš„æ˜¯toolè¿™ä¸ªç±»å‹ï¼Œä»£è¡¨çš„æ˜¯å·¥å…·è°ƒç”¨çš„è¿”å›ç»“æœã€‚è¿™éƒ¨åˆ†åœ¨åç»­function callingå®æ“éƒ¨åˆ†å†å±•å¼€è®²è®²ï¼Œç°åœ¨ä½ åªè¦çŸ¥é“roleæœ‰è¿™ä¸ªç±»å‹å°±è¡Œäº†ã€‚</p><h3 id="3-3-è¿›é˜¶ï¼šæµå¼å“åº”">3.3. è¿›é˜¶ï¼šæµå¼å“åº”</h3><p>å¦‚æœéœ€è¦å®æ—¶æŸ¥çœ‹AIçš„è¾“å‡ºè¿‡ç¨‹ï¼ˆç±»ä¼¼ChatGPTç½‘é¡µç«¯ä¸Šçš„æ ·å­ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æµå¼å“åº”ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stream_response</span>(<span class="params">api_key, question</span>):</span><br><span class="line">    url = <span class="string">&quot;https://api.siliconflow.cn/v1/chat/completions&quot;</span></span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Authorization&quot;</span>: <span class="string">f&quot;Bearer <span class="subst">&#123;api_key&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;model&quot;</span>: <span class="string">&quot;Qwen/Qwen3-8B&quot;</span>,</span><br><span class="line">        <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">            &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: question&#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;stream&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&quot;max_tokens&quot;</span>: <span class="number">512</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    response = requests.post(url, headers=headers, json=data, stream=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># è¿™é‡Œè¿”å›200ï¼Œå¹¶ä¸æ˜¯è¯·æ±‚å…¨éƒ½å‘å›æ¥äº†ï¼Œè€Œæ˜¯è¿ä¸ŠæœåŠ¡å™¨äº†ï¼</span></span><br><span class="line">    <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">        <span class="comment"># å¼€å§‹éå†è¿”å›çš„ç»“æœï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯æœ‰æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> response.iter_lines():</span><br><span class="line">            <span class="keyword">if</span> line:</span><br><span class="line">                line_str = line.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">                <span class="keyword">if</span> line_str.startswith(<span class="string">&#x27;data:&#x27;</span>):</span><br><span class="line">                    <span class="keyword">if</span> line_str == <span class="string">&#x27;data: [DONE]&#x27;</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    json_str = line_str[<span class="number">5</span>:]</span><br><span class="line">                    chunk = json.loads(json_str)</span><br><span class="line">                    <span class="comment"># çœŸçš„æœ‰æ•°æ®è¯¶ï¼Œæ‰“å°ä¸€ä¸‹ï¼</span></span><br><span class="line">                    <span class="keyword">if</span> chunk[<span class="string">&#x27;choices&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;delta&#x27;</span>].get(<span class="string">&#x27;content&#x27;</span>):</span><br><span class="line">                        <span class="built_in">print</span>(chunk[<span class="string">&#x27;choices&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;delta&#x27;</span>][<span class="string">&#x27;content&#x27;</span>], end=<span class="string">&#x27;&#x27;</span>, flush=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : <span class="subst">&#123;response.status_code&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    API_KEY = <span class="string">&quot;your_api_key_here&quot;</span></span><br><span class="line">    stream_response(API_KEY, <span class="string">&quot;è¯·å†™ä¸€é¦–å…³äºå†¬å¤©çš„è¯—&quot;</span>)</span><br></pre></td></tr></table></figure><p>æµå¼ä¼ è¾“çš„æ‰§è¡Œæ•ˆæœå¦‚ä¸‹</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/03fb2bf3dd500f94f9435d07da60e790.gif" alt="Sep-30-2025 16-35-28çš„å‰¯æœ¬.gif"></p><h2 id="4-æ€»ç»“">4. æ€»ç»“</h2><p>è°ƒç”¨OpenAI APIæ˜¯AIå¼€å‘çš„å…¥é—¨æŠ€èƒ½ï¼Œå°±åƒå­¦ä¹ ç¼–ç¨‹çš„hello worldã€‚æŒæ¡äº†è¿™ä¸ªåŸºç¡€ï¼Œåç»­å¯ä»¥ï¼š</p><ol><li>å°è¯•ä¸åŒæ¨¡å‹ï¼Œæ¯”è¾ƒæ•ˆæœå·®å¼‚</li><li>å°†AIé›†æˆåˆ°å®é™…é¡¹ç›®ä¸­</li><li>æ¢ç´¢æ›´å¤šAIåº”ç”¨åœºæ™¯</li></ol><p>æœ€åæé†’ï¼šAIåªæ˜¯å·¥å…·ï¼Œå…³é”®æ˜¯æ€ä¹ˆç”¨ã€‚ä¸å…¶è¿½æ±‚æœ€æ–°æœ€å¼ºçš„æ¨¡å‹ï¼Œä¸å¦‚å…ˆæŒæ¡å¥½åŸºæœ¬ç”¨æ³•ã€‚</p><p>å¦å¤–ï¼Œæœ¬æ–‡ä»‹ç»çš„OpenAI APIè¯·æ±‚åªæ˜¯æœ€åŸºç¡€çš„ä¸€ä¸ªhello worldï¼ŒAgentå¼€å‘ä¸­å¹¶ä¸ä¼šä½¿ç”¨è¿™ä¹ˆåŸå§‹çš„æ–¹å¼è°ƒç”¨OpenAIçš„æ¥å£ï¼Œè€Œæ˜¯ä¼šä½¿ç”¨OpenAIå®˜æ–¹æä¾›çš„python sdkå’ŒåŒ…è£…å¥½çš„Agentæ¡†æ¶ï¼Œè¿™æ ·èƒ½é¿å…é€ è½®å­çš„å°´å°¬ã€‚è¿™äº›éƒ½æ˜¯åç»­ä¸“æ ä¸­ä¼šé€æ­¥ä»‹ç»çš„å†…å®¹äº†ã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨pythonå‘é€è¯·æ±‚ï¼Œè°ƒç”¨OpenAIçš„APIï¼Œä¸å¤§æ¨¡å‹äº¤äº’ï¼Œè·å–åˆ°å¤§æ¨¡å‹å…³äºhelloçš„å“åº”ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Agentå¼€å‘" scheme="https://blog.musnow.top/tags/Agent%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€é¢è¯•ã€‘æ±‚èŒé¢è¯•å¤§å¿Œï¼šè‡ªæ–­åè·¯</title>
    <link href="https://blog.musnow.top/posts/3454235760/"/>
    <id>https://blog.musnow.top/posts/3454235760/</id>
    <published>2025-09-29T11:31:10.000Z</published>
    <updated>2025-09-30T07:14:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>è½¬çœ¼é—´ï¼Œé‚£ä½åœ¨æ±‚èŒæ±ªæ´‹é‡Œé¢æ‰‘è…¾æ±‚ç”Ÿçš„åŒå­¦ï¼Œä¹Ÿæˆäº†å…¶ä»–äººçš„å‰è¾ˆâ€¦â€¦</p><p>è¿™å°±æ˜¯ä¸€ç¯‡éšä¾¿å†™å†™çš„éšç¬”ï¼Œä¸»è¦è®°å½•ä¸€ä¸‹æœ€è¿‘åœ¨ç½‘ä¸Šå’ŒåŒå­¦å¼Ÿå­¦å¦¹äº¤æµæœŸé—´ï¼Œé‡åˆ°çš„ç§ç§æ±‚èŒé¢è¯•ä¸­â€œè‡ªæ–­åè·¯â€çš„æƒ…å†µã€‚ä¸ºäº†è§„é¿éšç§é—®é¢˜ï¼Œåšå®¢å‘å¸ƒçš„æ—¶å€™ï¼Œäº‹æƒ…å·²ç»è¿‡å»æ•°ä¸ªæœˆäº†ï¼Œå‘å¸ƒä¹Ÿå¾å¾—äº†æœ¬äººçš„åŒæ„ã€‚</p><h2 id="å…¥èŒæ—¶é—´ï¼Ÿé—®å°±æ˜¯ç«‹é©¬èƒ½å»ï¼">å…¥èŒæ—¶é—´ï¼Ÿé—®å°±æ˜¯ç«‹é©¬èƒ½å»ï¼</h2><p>å…ˆæ¥è¯´è¯´ä¸€ä¸ªå‘ç”Ÿåœ¨èº«è¾¹çš„æ¡ˆä¾‹å§ã€‚26å¹´ç§‹æ‹›å†…æ¨äº†ä¸€ä½å­¦å¼Ÿï¼Œç»™ä»–ä¼ æˆäº†ç‚¹æ²¡å•¥ç”¨çš„ç»éªŒï¼Œä¹Ÿå¸®ä»–æ”¹äº†æ”¹ç®€å†ã€‚å­¦å¼Ÿæœ¬èº«<strong>å®åŠ›å¾ˆä¸é”™</strong>ï¼Œç®€å†ã€ç¬”è¯•éƒ½é€šè¿‡äº†ï¼Œé¢è¯•ä¸€é¢ä¹Ÿé¡ºåˆ©é€šè¿‡ï¼Œä½†å´è¾“åœ¨äº†äºŒé¢ä¸Šã€‚æ ¹æ®å­¦å¼Ÿæ‰€è¿°ï¼Œä»–äºŒé¢çš„æŠ€æœ¯é—®é¢˜ä¹Ÿéƒ½å›ç­”ä¸Šæ¥äº†ï¼Œè€Œä¸”äºŒé¢é¢äº†è¶…è¿‡70åˆ†é’Ÿï¼Œä¸ç†è§£ä¸ºå•¥äºŒé¢é¢è¯•å®˜ä¼šæŠŠä»–æŒ‚äº†ã€‚</p><p>æˆ‘ä¹Ÿè§‰å¾—çº³é—·ï¼Œå¦‚æœé¢è¯•é—®é¢˜éƒ½ç­”å‡ºæ¥äº†ï¼Œé¢è¯•è¿˜è¶…è¿‡äº†70åˆ†é’Ÿï¼Œç†è®ºä¸Šä¸åº”è¯¥ä¼šæŒ‚äººçš„ã€‚å› ä¸ºäº’è”ç½‘å¤§å‚çš„äºŒé¢é¢è¯•å®˜ä¸€èˆ¬éƒ½æ˜¯æŸä¸ªå°ç»„çš„leaderäº†ï¼Œå¦‚æœä»–å¯¹å€™é€‰äººæ²¡æœ‰å…´è¶£ï¼Œæ˜¯ä¸ä¼šè€—è´¹å¤§äºä¸€å°æ—¶çš„æ—¶é—´å»é¢è¯•çš„ï¼Œå¤ªæµªè´¹æ—¶é—´ã€‚æ‰€ä»¥ï¼ŒäºŒé¢è¶…è¿‡1å°æ—¶å´æŒ‚æ‰äº†ï¼Œé™¤éæ˜¯å› ä¸ºæ¨ªå‘å­¦å†ä¸å¤Ÿå¯¼è‡´æŒ‚äº†ï¼Œå¦åˆ™äºæƒ…äºç†éƒ½è¯´ä¸æ˜ç™½ã€‚</p><p>å­¦å¼Ÿæ‰˜äº†å¦å¤–ä¸€ä½å­¦é•¿ï¼Œåœ¨å†…éƒ¨ç³»ç»Ÿå¸®ä»–æ‰¾äººæŸ¥äº†äºŒé¢é¢è¯„ï¼ŒçœŸç›¸å¤§ç™½äº†ã€‚äºŒé¢é¢è¯•å®˜åœ¨é¢è¯•ä¸é€šè¿‡åŸå› é‡Œé¢å†™çš„æ˜¯ï¼šâ€œå…¥èŒæ—¶é—´å¤ªæ™šï¼Œä¸èƒ½æ¥æå‰å®ä¹ ã€‚â€</p><p>æˆ‘é—®äº†å­¦å¼Ÿæ‰çŸ¥é“ï¼Œå½“æ—¶é¢è¯•å®˜é—®ä»–ä»€ä¹ˆæ—¶å€™èƒ½å…¥èŒï¼Œä»–çš„å›ç­”æ˜¯ï¼šâ€œè¦26å¹´7æœˆå…¥èŒï¼Œæå‰å®ä¹ ä¹Ÿå¾—æ˜å¹´ï¼Œå› ä¸ºç°åœ¨çš„å®ä¹ åè®®ç­¾åˆ°äº†æ˜å¹´ã€‚â€</p><p>è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„è‡ªç»åè·¯å›ç­”å•Šï¼æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹é¢è¯•å®˜ä¸ºä»€ä¹ˆè¦é—®è¿™ä¸ªé—®é¢˜ï¼š</p><ul><li>ä½ å‚åŠ çš„æ˜¯æ ¡æ‹›ç”Ÿé¢è¯•ï¼Œå›½å†…é«˜æ ¡çš„å¤§å­¦ç”Ÿæ¯•ä¸šæ—¶é—´éƒ½æ˜¯26å¹´çš„6æœˆåˆ°7æœˆï¼Œ<strong>é¢è¯•å®˜å¦‚æœä¸éœ€è¦ä½ æ¥æå‰å®ä¹ ï¼Œä»–æ²¡æœ‰ä»»ä½•å¿…è¦é—®ä½ â€œä»€ä¹ˆæ—¶å€™å¯ä»¥å…¥èŒâ€</strong>ã€‚å› ä¸ºæ ¡æ‹›å€™é€‰è€…æ­£å¸¸å…¥èŒçš„æ—¶é—´éƒ½å¾—æ˜¯æ˜å¹´çš„6æœˆåˆ°7æœˆï¼</li><li>ç†è§£è¿™ä¸€ç‚¹åï¼Œé¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼ŒæœŸæœ›å¾—åˆ°çš„ç­”å¤ï¼Œè‡ªç„¶æ˜¯ä½ èƒ½æ¥æå‰å®ä¹ ï¼è¶Šæ—©æ¥çš„äººæœºä¼šå°±è¶Šå¤§ï¼å¤§æ¦‚ç‡æ˜¯é¢è¯•å®˜æ‰€åœ¨ä¸šåŠ¡éƒ¨é—¨ç°åœ¨ç¼ºäººï¼Œæœ‰æ ¡æ‹›ç”ŸHCçš„åŒæ—¶æœŸæœ›è¿™ä½æ ¡æ‹›ç”Ÿèƒ½æå‰å®ä¹ ï¼Œç¼“è§£ä¸€ä¸‹äººåŠ›ç¼ºå£çš„å‹åŠ›ã€‚</li><li>è€Œä¸”ï¼Œé¢è¯•å®˜é—®å‡ºè¿™ä¸ªé—®é¢˜ï¼Œå¤§æ¦‚ç‡æ˜¯ä½ çš„é¢è¯•åŸºæœ¬ä¸Šå·²ç»è¿‡äº†ï¼ˆå½“ç„¶è¿™ä¸€ç‚¹è¦çœ‹é¢è¯•å®˜æ€§æ ¼ï¼‰ã€‚å¦‚æœä½ çš„é¢è¯•æ²¡æœ‰è¿‡ï¼Œé¢è¯•å®˜é—®ä½ ä»€ä¹ˆæ—¶å€™èƒ½å…¥èŒä¹Ÿæ²¡æœ‰æ„ä¹‰å‘€ï¼ä»–åˆä¸æ‰“ç®—è¦ä½ ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ— è®ºä»€ä¹ˆæƒ…å†µï¼Œæ— è®ºæ˜¯æ ¡æ‹›ç”Ÿè¿˜æ˜¯æš‘æœŸå®ä¹ ï¼Œå½“é¢è¯•å®˜é—®ä½ ä»€ä¹ˆæ—¶å€™èƒ½å…¥èŒï¼Œä½ éƒ½è¦è¯´ä¸€ä¸ªé¢è¯•å®˜æ»¡æ„çš„ç­”æ¡ˆï¼šâ€œæˆ‘é©¬ä¸Šå°±èƒ½å…¥èŒã€‚â€</p><p>å½“ç„¶ï¼Œå¦‚æœä½ å­¦æ ¡è¿™è¾¹çš„äº‹æƒ…çœŸå®‰æ’ä¸è¿‡æ¥ï¼Œä¹Ÿä¸è¦ç¬ƒå®šè¯´è‡ªå·±ä¸€å®šèƒ½å»ï¼Œç»™é¢è¯•å®˜ä¸€ä¸ªæ¨¡ç³Šçš„ç­”æ¡ˆï¼Œæ¯”å¦‚ï¼šâ€œåº”è¯¥èƒ½å¤Ÿæœˆå†…å…¥èŒâ€å³å¯ã€‚</p><p>ä»»ä½•æƒ…å†µï¼Œéƒ½æ˜¯å…ˆæ‹¿åˆ°offerå†è°ˆåç»­ï¼å±Šæ—¶offerå‘ç»™ä½ äº†ï¼Œä½ çœŸä¸èƒ½å»æå‰å®ä¹ ï¼Œé¢è¯•å®˜ä¹Ÿæ‹¿ä½ æ²¡æœ‰åŠæ³•çš„ã€‚é™¤äº†å°‘éƒ¨åˆ†åƒåœ¾å…¬å¸ï¼Œä¼šå› ä¸ºè¿™ç§äº‹æƒ…ç›´æ¥ç»™ä½ offeræ¯çº¦äº†ï¼Œè¿™ç§å…¬å¸ä¸å»ä¹Ÿç½¢ï¼</p><h2 id="æ„å‘Baseåœ°ï¼Ÿå…¨å›½å¯é£ï¼">æ„å‘Baseåœ°ï¼Ÿå…¨å›½å¯é£ï¼</h2><p>é™¤äº†å…¥èŒæ—¶é—´è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªé€å‘½é—®é¢˜å°±æ˜¯Baseåœ°ã€‚</p><p>é™¤éä½ æ˜¯é¡¶æµå¤§ä½¬ï¼Œèƒ½å¤Ÿåšåˆ°è®©å…¬å¸è¿å°±ä½ çš„Baseåœ°é€‰æ‹©ï¼Œå¦åˆ™ï¼Œå½“å…¬å¸HRé—®ï¼šâ€œä½ æ¥ä¸æ¥å—xxå·¥ä½œåœ°ç‚¹â€æ—¶å€™ï¼Œå›ç­”ç»å¯¹æ˜¯ä¸€ä¸ªå­—ï¼šâ€œå»ï¼â€</p><p>è¿™ä¸ªé—®é¢˜å’Œä¸Šè¿°é—®é¢˜æ ¹æºéƒ½æ˜¯åŒä¸€çš„ï¼šå¦‚æœHRèƒ½æŠŠä½ å®‰æ’åˆ°ä½ æƒ³å»çš„Baseåœ°ï¼Œä»–å¹²å˜›é—®ä½ æ„¿ä¸æ„¿æ„å»å¦å¤–ä¸€ä¸ªï¼Ÿ</p><p>æ‰€ä»¥ï¼Œé™¤éä½ æ˜¯offeræ‰“ç‰Œçš„å¤§ä½¬ï¼Œæœ‰èƒ½åŠ›é€‰æ‹©è‡ªå·±çš„Baseåœ°ï¼Œä¸ç„¶åƒæˆ‘ç­‰å°å–½å•°è¿˜æ˜¯è€è€å®å®èµ°â€œä½å£°ä¸‹æ°”â€è·¯çº¿ï¼Œå…ˆæŠŠofferæ‹¿åˆ°æ‰‹å†è¯´å§ã€‚å“ªæ€•ä½ æœ€ç»ˆå› ä¸ºBaseåœ°å†³å®šä¸å»è¿™å®¶å…¬å¸ï¼Œä¹Ÿåˆ«è®©åˆ°æ‰‹çš„offeré£äº†ã€‚æœ‰offerï¼Œè‡³å°‘ä½ æœ‰çš„é€‰ï¼</p><h2 id="è–ªèµ„ï¼Ÿä½ ä»¬å®šï¼">è–ªèµ„ï¼Ÿä½ ä»¬å®šï¼</h2><p>é¢è¯•ä¸­è¿˜æœ‰å¦å¤–ä¸€ä¸ªéå¸¸é«˜é¢‘çš„é—®é¢˜ï¼Œå°±æ˜¯é—®ä½ çš„æœŸæœ›è–ªèµ„ã€‚</p><p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸ªé€å‘½é¢˜äº†ï¼Œéå¸¸å®¹æ˜“ç¿»è½¦ã€‚è¯´å¤§äº†å®¹æ˜“â€œç‹®å­å¤§å¼€å£â€ï¼Œè¯´å°äº†ä¼šè®©äººè§‰å¾—ä½ â€œä¸å¤Ÿè‡ªä¿¡â€ï¼Œåæ­£å¥½èµ–è¯éƒ½è®©HRè¯´äº†ã€‚</p><p>ä¹‹å‰åœ¨ç‰›å®¢ç½‘ä¸Šçœ‹åˆ°è¿‡å…³äºè–ªèµ„é—®é¢˜çš„ä¸€ä¸ªå›ç­”ï¼Œæˆ‘æ„Ÿè§‰å¯ä»¥å€Ÿé‰´ï¼šâ€œæˆ‘å¯¹è–ªèµ„æ²¡æœ‰æ˜ç¡®çš„ä¸ªäººè¦æ±‚ï¼Œæˆ‘è®¤å¯è´µå¸å¯¹æ ¡æ‹›ç”Ÿè–ªèµ„çš„è¯„ä¼°å’Œå†³ç­–ã€‚â€</p><p>è¿™å¥è¯æœ¬è´¨ä¸Šå°±æ˜¯æŠŠè–ªèµ„é—®é¢˜ç›´æ¥è¸¢å›ç»™äº†é¢è¯•å®˜ï¼Œæƒ³é—®æˆ‘æœŸæœ›è–ªèµ„ï¼Ÿä½ ä»¬å®šï¼</p><p>æ¯•ç«Ÿå³ä¾¿ä½ æäº†ä¸€ä¸ªè‡ªå·±çš„è–ªèµ„åå¥½ï¼Œæœ€ç»ˆè¿˜æ˜¯HRå’Œé¢è¯•å®˜å…±åŒå†³å®šè¦ç»™ä½ å¼€ä»€ä¹ˆç­‰çº§çš„offerï¼Œå’Œä½ è‡ªå·±æçš„è–ªèµ„åå¥½æ²¡æœ‰å¤ªå¤§çš„å…³ç³»ã€‚</p>]]></content>
    
    
    <summary type="html">ç®€å•è°ˆè°ˆæ…•é›ªæœ€è¿‘åœ¨ç»™å­¦å¼Ÿå­¦å¦¹ä»¬å†…æ¨çš„æ—¶å€™ï¼Œé‡åˆ°çš„é‡é‡ä»¤äººå¯æƒœçš„ç»å†ã€‚</summary>
    
    
    
    <category term="æ±‚èŒè·¯ä¸Šä¸€å»ä¸å¤è¿”" scheme="https://blog.musnow.top/categories/%E6%B1%82%E8%81%8C%E8%B7%AF%E4%B8%8A%E4%B8%80%E5%8E%BB%E4%B8%8D%E5%A4%8D%E8%BF%94/"/>
    
    
    <category term="é¢ç»" scheme="https://blog.musnow.top/tags/%E9%9D%A2%E7%BB%8F/"/>
    
    <category term="éšç¬”" scheme="https://blog.musnow.top/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>ã€AIã€‘é…ç½®claude-code-routerè½¬å‘Claude Codeè¯·æ±‚è‡³OpenAI APIæ ¼å¼</title>
    <link href="https://blog.musnow.top/posts/4200815612/"/>
    <id>https://blog.musnow.top/posts/4200815612/</id>
    <published>2025-09-27T12:33:46.000Z</published>
    <updated>2025-09-28T14:19:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†å‘Šè¯‰ä½ å¦‚ä½•é…ç½®claude-code-routerè½¬å‘Claude Codeè¯·æ±‚è‡³OpenAI APIæ ¼å¼ï¼Œå…¼å®¹æ‰€æœ‰OpenAIæ ¼å¼çš„å¹³å°ã€‚</p><h2 id="1-å‰æƒ…æè¦">1. å‰æƒ…æè¦</h2><p><a href="https://blog.musnow.top/posts/5046572767">ä¸Šæ–‡</a>æåˆ°è¿‡ï¼ŒClaude Codeå¿…é¡»è¦ä½¿ç”¨Anthropic APIæ ¼å¼æ‰èƒ½æ­£å¸¸è°ƒç”¨ï¼Œä½†æ˜¯ç»å¤§éƒ¨åˆ†å¹³å°è¿˜æ²¡æœ‰è·Ÿè¿›è¿™ä¸€å…¼å®¹æ€§APIï¼Œåªæä¾›äº†OpenAIè¿™ä¸ªè€å¤§å“¥æ ¼å¼çš„APIæ¥å£ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©å·¥å…·ï¼ŒæŠŠClaude Codeçš„Anthropic APIæ ¼å¼è¯·æ±‚è½¬æˆOpenAIçš„æ ¼å¼ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p><p>è¿™ä¸ªå·¥å…·ï¼Œä¾¿æ˜¯å¼€æºçš„claude-code-routerã€‚æ³¨æ„ï¼Œclaude-code-routeræ˜¯ä¸€ä¸ªé¢å¤–çš„å·¥å…·ï¼Œå’Œclaude-codeæœ¬ä½“æ²¡æœ‰ä»»ä½•å…³è”ã€‚</p><p>å¼€æºä»“åº“ï¼š<a href="https://github.com/musistudio/claude-code-router/">https://github.com/musistudio/claude-code-router/</a></p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/433a83dc7a70b4b075b1affe953faa90.webp" alt="image.png"></p><h2 id="2-é…ç½®Claude-Code-Router">2. é…ç½®Claude Code Router</h2><h3 id="2-1-å®‰è£…Claude-Code-Router">2.1. å®‰è£…Claude Code Router</h3><p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£…å¥½å¤§äº18ç‰ˆæœ¬çš„nodeå’Œnpmï¼ˆæœ€å¥½æ˜¯å®‰è£…20.xç‰ˆæœ¬ä»¥ä¸Šçš„ï¼‰ï¼Œå¹¶ä¸”å®‰è£…äº†Claude Code<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @anthropic-ai/claude-code</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå®‰è£… Claude Code Routerï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @musistudio/claude-code-router</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½äº†ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨<code>ccr start</code>å‘½ä»¤å¯åŠ¨claude-code-routerçš„æœåŠ¡ç«¯ï¼Œè¿™ä¾¿æ˜¯æˆ‘ä»¬éœ€è¦è®¾ç½®åˆ°Claude Codeçš„<code>ANTHROPIC_BASE_URL</code>ç¯å¢ƒå˜é‡ä¸­çš„å€¼äº†ï¼Œé»˜è®¤ç«¯å£æ˜¯localhost:3456ã€‚</p><p>æœ¬æ–‡æµ‹è¯•ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œè¿™ä¿©å·¥å…·ç‰ˆæœ¬æ›´æ–°æ¯”è¾ƒå¿«ï¼Œä¸ä¿è¯æ‰€æœ‰ç‰ˆæœ¬éƒ½å¯ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â¯ claude --version</span><br><span class="line">1.0.127 (Claude Code)</span><br><span class="line"></span><br><span class="line">â¯ ccr version     </span><br><span class="line">claude-code-router version: 1.0.50</span><br></pre></td></tr></table></figure><h3 id="2-2-é…ç½®Claude-Code">2.2. é…ç½®Claude Code</h3><p>åœ¨ç»ˆç«¯ä¸­ä¿®æ”¹Claude Codeç¯å¢ƒå˜é‡å¦‚ä¸‹ï¼Œå°±å¯ä»¥è®©Claude Codeä½¿ç”¨Claude Code Routerçš„è½¬å‘èƒ½åŠ›äº†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANTHROPIC_BASE_URL=http://127.0.0.1:3456</span><br><span class="line"><span class="comment"># è¿™é‡Œå¿…é¡»è®¾ç½®AUTH_TOKENï¼Œéšä¾¿å¼„ä¸€ä¸ªå€¼å°±è¡Œï¼Œä¸ç„¶claude codeä¼šè¿›è¡Œæ£€æŸ¥ï¼Œæ²¡æœ‰AUTH_TOKENæ˜¯ä¸åˆæ³•çš„ï¼Œä¼šæç¤ºè®©ä½ /loginç™»å½•</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_AUTH_TOKEN=12356 </span><br></pre></td></tr></table></figure><h3 id="2-3-é…ç½®Claude-Code-Router">2.3. é…ç½®Claude Code Router</h3><p>ä¸Šé¢æˆ‘ä»¬åªæ˜¯ä¸‹è½½äº†Claude Code Routerï¼Œè¿˜éœ€è¦åœ¨Claude Code Routeré‡Œé¢è¿›è¡Œé…ç½®ï¼Œæ‰èƒ½è½¬å‘åˆ°æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„OpenAIæ ¼å¼ç«¯ç‚¹ä¸Šã€‚</p><p>éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶<code>~/.claude-code-router/config.json</code>ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;PORT&quot;</span><span class="punctuation">:</span> <span class="number">3456</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;LOG&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;LOG_LEVEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;API_TIMEOUT_MS&quot;</span><span class="punctuation">:</span> <span class="number">600000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;NON_INTERACTIVE_MODE&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Providers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;api_base_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://api.siliconflow.cn/v1/chat/completions&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;api_key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç¡…åŸºæµåŠ¨API KEY&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;models&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;Qwen/Qwen3-8B&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;transformer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;use&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;maxtoken&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;max_tokens&quot;</span><span class="punctuation">:</span> <span class="number">8192</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Router&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;think&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;longContext&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;longContextThreshold&quot;</span><span class="punctuation">:</span> <span class="number">60000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webSearch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;siliconflow,Qwen/Qwen3-8B&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼ŒRouteræ˜¯æˆ‘ä»¬æœ€ç»ˆæƒ³è¦ä½¿ç”¨çš„æ¨¡å‹æœåŠ¡ï¼Œæ ¼å¼ä¸º<code>æä¾›å•†,æ¨¡å‹å</code>ã€‚</p><p>æä¾›å•†å°±æ˜¯åœ¨Providersé‡Œé¢å†™å¥½çš„ä¾›åº”å•†åˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªçš„nameæˆ‘è®¾ç½®æˆäº†siliconflowï¼Œbase_urlæ˜¯ç¡…åŸºæµåŠ¨çš„OpenAI APIï¼ŒClaude Code Routerä¼šè‡ªåŠ¨åˆ¤æ–­URLç±»å‹ï¼ˆOpenAIæ ¼å¼URLåç¼€éƒ½æ˜¯<code>/chat/completions</code>ï¼‰ï¼Œå¹¶ä½¿ç”¨å†…ç½®çš„OpenAIæ ¼å¼è½¬å‘å™¨ï¼Œå°†Anthropic APIæ ¼å¼è½¬æ¢æˆOpenAIæ ¼å¼ã€‚</p><p>å…¶ä»–OpenAI APIæœåŠ¡æä¾›å•†ä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œï¼Œä½ åªéœ€è¦ä¿®æ”¹æœ¬é…ç½®ä¸­çš„<code>api_base_url</code>å’Œ<code>api_key</code>å°±å¯ä»¥äº†ï¼Œå…¶ä»–ä»€ä¹ˆéƒ½ä¸ç”¨æ”¹ã€‚<code>max_tokens</code>çš„æ•°å­—ä¹Ÿå¯ä»¥æ ¹æ®ä½ çš„éœ€è¦ä¿®æ”¹ï¼Œä¼šç›´æ¥è®¾ç½®åˆ°OpenAIçš„APIä¸­ã€‚</p><p>æ³¨æ„ï¼Œä½¿ç”¨Claude Code Routerä¹‹åï¼ŒClaude Codeçš„ç¯å¢ƒå˜é‡<code>ANTHROPIC_MODEL</code>é‡Œé¢é…ç½®çš„æ¨¡å‹å·²ç»æ²¡æœ‰ä»»ä½•ä½œç”¨äº†ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ç”±<strong>Claude Code Routerçš„Routeré…ç½®</strong>å†³å®šä½¿ç”¨å“ªä¸€ä¸ªæ¨¡å‹ã€‚</p><h3 id="2-4-åå°æŒä¹…è¿è¡Œccr">2.4. åå°æŒä¹…è¿è¡Œccr</h3><p>å¦‚æœæ˜¯macå’ŒLinuxè®¾å¤‡ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼åå°æŒä¹…è¿è¡Œccrï¼Œç¬¬ä¸€ç§æ–¹å¼æ˜¯nohupï¼Œç³»ç»Ÿä¸€èˆ¬éƒ½è‡ªå¸¦äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> ccr start &gt;&gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§æ–¹å¼æ˜¯æˆ‘æ›´åŠ æ¨èçš„ï¼Œç”¨tmuxåœ¨åå°è¿è¡Œ<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…tmux</span></span><br><span class="line">brew install tmux</span><br><span class="line"><span class="comment"># å¼€ä¸€ä¸ªç»ˆç«¯</span></span><br><span class="line">tmux new-sesstion -s ccr</span><br><span class="line"><span class="comment"># å¼€å§‹è¿è¡Œ</span></span><br><span class="line">ccr start</span><br><span class="line"><span class="comment"># ç„¶åç”¨ctrl+b dçš„å¿«æ·é”®é€€å‡ºtmuxï¼Œæˆ–ç›´æ¥å…³é—­å½“å‰ç»ˆç«¯ï¼ˆtmuxä¸ä¼šç»ˆæ­¢ï¼‰</span></span><br></pre></td></tr></table></figure><p>windowsè®¾å¤‡æˆ‘ä¸å¤ªæ¸…æ¥šå¦‚ä½•è®©ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºåå°è¿è¡Œï¼Œå»ºè®®è‡ªå·±ç™¾åº¦ä¸€ä¸‹æˆ–è€…é—®AIã€‚</p><h2 id="3-æµ‹è¯•æ•ˆæœ">3. æµ‹è¯•æ•ˆæœ</h2><p>å†™å¥½ä¸Šè¿°é…ç½®ä¹‹åï¼Œ<code>ccr restart</code>é‡æ–°å¯åŠ¨ccrçš„æœåŠ¡ï¼Œç„¶åæ‰“å¼€claude codeï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œæ³¨æ„å›¾ä¸­çš„<strong>API Base URL</strong>å¿…é¡»æ˜¯æœ¬åœ°çš„3456ç«¯å£ï¼Œæ‰èƒ½ç¡®å®šä½¿ç”¨çš„æ˜¯Claude Code Routerï¼Œä¸€å®šè¦æ£€æŸ¥ä¸€ä¸‹ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/d0af7c481cc6d9cf02592d1f0bfb57e4.webp" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå‘é€çš„helloæœ‰äº†æ­£å¸¸çš„å›ç­”ã€‚æ­¤æ—¶æˆ‘ä»¬çš„è¯·æ±‚å·²ç»é€šè¿‡Claude Code Routerï¼Œæ‰“åˆ°äº†ç¡…åŸºæµåŠ¨OpenAI APIçš„æœåŠ¡å™¨ä¸Šï¼ŒæˆåŠŸä½¿ç”¨ä¸Šäº†OpenAI APIçš„èƒ½åŠ›ã€‚</p><blockquote><p>æ¢…å¼€äºŒåº¦çš„è§£é‡Šï¼šå¦‚æœä½ å‘ç°åœ¨Claude Codeé‡Œé¢ä½¿ç”¨éClaudeæ¨¡å‹å’¨è¯¢â€œä½ æ˜¯è°â€æ—¶è¿”å›äº†ä¸€ä¸ªClaudeæ¨¡å‹çš„ç»“æœï¼Œä¸è¦æƒŠè®¶ï¼Œè¿™ä¹Ÿæ˜¯æ­£å¸¸æƒ…å†µã€‚å› ä¸ºClaude Codeçš„System Prompté‡Œé¢å†™äº†è®©AIå·¥å…·è¿”å›ä»–è‡ªå·±æ˜¯Claude 4 Sonetæ¨¡å‹ï¼Œæ‰€ä»¥å³ä¾¿ä½ ç”¨çš„ä¸æ˜¯Claudeæ¨¡å‹ï¼ŒAIå› ä¸ºéµå¾ªäº†SPä¾æ—§è¿”å›äº†Claudeæ¨¡å‹çš„ç­”æ¡ˆã€‚ä¸è¿‡ç›®å‰çœ‹Claude Codeæ–°ç‰ˆæœ¬å¥½åƒå·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜äº†ã€‚</p></blockquote><p>å¯ä»¥è¯•è¯•è®©AIè¯»ä¸€ä¸ªæ–‡ä»¶ï¼Œæµ‹è¯•å·¥å…·è°ƒç”¨ä¹Ÿæ˜¯OKçš„</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/235d8ea77b066366bfb55b76ed196a67.webp" alt="image.png"></p><p>è‡³æ­¤ï¼Œå¤§åŠŸå‘Šæˆï¼</p><h2 id="4-é¢å¤–transformeré…ç½®ï¼šåˆå¹¶Contentæ•°ç»„">4. é¢å¤–transformeré…ç½®ï¼šåˆå¹¶Contentæ•°ç»„</h2><h3 id="4-1-å•¥æ—¶å€™éœ€è¦è¿™ä¸ªtransformerï¼Ÿ">4.1. å•¥æ—¶å€™éœ€è¦è¿™ä¸ªtransformerï¼Ÿ</h3><p>å¦‚æœä½ åœ¨æ‰§è¡Œäº†ä¸Šæ–‡å‰ä¸‰ç‚¹çš„é…ç½®ä¹‹åå°±å¯ä»¥ç”¨äº†ï¼ˆå‘é€è¯·æ±‚å’Œå·¥å…·è°ƒç”¨éƒ½æ²¡é—®é¢˜ï¼‰ï¼Œé‚£å°±ä¸éœ€è¦è¿™ä¸ªè‡ªå®šä¹‰çš„transformerã€‚å¦‚æœä¸èƒ½ï¼Œè€ƒè™‘æ˜¯ä¸æ˜¯ä½ ä½¿ç”¨çš„OpenAI API contentä¸æ”¯æŒæ•°ç»„çš„é—®é¢˜ï¼Œå°è¯•ä¸€ä¸‹æ·»åŠ ç¬¬å››ç‚¹çš„è¿™ä¸ªtransformeræ’ä»¶ã€‚</p><hr><p>ä¸‹é¢è®²ä¸€ä¸‹è½¬å‘OpenAIæ¥å£æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°çš„æƒ…å†µã€‚</p><p>ç›¸å…³issueï¼š</p><ul><li><a href="https://github.com/musistudio/claude-code-router/issues/307">https://github.com/musistudio/claude-code-router/issues/307</a></li><li><a href="https://github.com/musistudio/claude-code-router/issues/483">https://github.com/musistudio/claude-code-router/issues/483</a></li></ul><p>æˆ‘ä»¬æœ€å¸¸è§çš„OpenAI APIçš„è¯·æ±‚bodyæ ¼å¼å¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;model&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gpt-3.5-turbo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;messages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature. If a question does not make sense or is not factually coherent, explain why instead of answering something not correct. If you don&#x27;t know the answer to a question, please don&#x27;t share false information.&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;&#123;ç”¨æˆ·è¾“å…¥çš„é—®é¢˜æˆ–æŒ‡ä»¤&#125;&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;temperature&quot;</span><span class="punctuation">:</span> <span class="number">0.7</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;max_tokens&quot;</span><span class="punctuation">:</span> <span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;stream&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ–°ç‰ˆæœ¬çš„OpenAI APIæ ¼å¼ä¸­ï¼Œcontentä¸ä»…å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;model&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gpt-3.5-turbo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;messages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature. If a question does not make sense or is not factually coherent, explain why instead of answering something not correct. If you don&#x27;t know the answer to a question, please don&#x27;t share false information.&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">         <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å…¶ä»–å†…å®¹&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;&#123;ç”¨æˆ·è¾“å…¥çš„é—®é¢˜æˆ–æŒ‡ä»¤&#125;&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;temperature&quot;</span><span class="punctuation">:</span> <span class="number">0.7</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;max_tokens&quot;</span><span class="punctuation">:</span> <span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;stream&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Claude Code Routeræ­£æ˜¯ä½¿ç”¨è¿™ç§æ•°ç»„çš„æ–¹å¼å‘é€çš„OpenAI APIè¯·æ±‚ã€‚é—®é¢˜åœ¨äºï¼Œ<strong>å¹¶éæ‰€æœ‰OpenAI APIæœåŠ¡æä¾›å•†éƒ½å…¼å®¹äº†contentä¸ºæ•°ç»„çš„æ ¼å¼</strong>ï¼Œè¿™å°±å¯¼è‡´å¯èƒ½æœ‰éƒ¨åˆ†OpenAI APIæœåŠ¡å•†æ²¡åŠæ³•æ­£å¸¸é€šè¿‡Claude Code Routerè½¬å‘ä½¿ç”¨ã€‚</p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦åŠ ä¸ŠClaude Code Routerçš„<strong>è‡ªå®šä¹‰transformeræ’ä»¶</strong>èƒ½åŠ›äº†ï¼Œè‡ªå®šä¹‰transformerå…è®¸æˆ‘ä»¬å¯¹Claude Code Routerå‘å‡ºçš„è¯·æ±‚è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹ã€‚é€šè¿‡ä¸€ä¸ªjsè„šæœ¬ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠä¸Šè¿°contentä¸ºæ•°ç»„çš„æƒ…å†µï¼Œæ”¹æˆcontentä¸ºå­—ç¬¦ä¸²çš„æƒ…å†µï¼ˆå¼ºè¡Œåˆå¹¶contentçš„æ•°ç»„ï¼‰</p><h3 id="4-2-æ·»åŠ åˆå¹¶contentæ•°ç»„çš„transformer">4.2. æ·»åŠ åˆå¹¶contentæ•°ç»„çš„transformer</h3><p>jsè„šæœ¬å†…å®¹å¦‚ä¸‹ï¼Œå†™å…¥<code>~/.claude-code-router/plugins/content_array_to_text.js</code>æ–‡ä»¶å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ContentArrayToTextTransformer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;content-array-to-text&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">transformRequestIn</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!request || !request.<span class="property">messages</span> || !<span class="title class_">Array</span>.<span class="title function_">isArray</span>(request.<span class="property">messages</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·±æ‹·è´æ•´ä¸ªè¯·æ±‚å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> transformedRequest = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(request));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> message <span class="keyword">of</span> transformedRequest.<span class="property">messages</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> message.<span class="property">content</span> !== <span class="string">&#x27;string&#x27;</span> &amp;&amp; <span class="title class_">Array</span>.<span class="title function_">isArray</span>(message.<span class="property">content</span>)) &#123;</span><br><span class="line">        <span class="keyword">const</span> textParts = [];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> message.<span class="property">content</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (item.<span class="property">type</span> === <span class="string">&quot;text&quot;</span> || item.<span class="property">type</span> === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> item.<span class="property">text</span> === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">              textParts.<span class="title function_">push</span>(item.<span class="property">text</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> item === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">              textParts.<span class="title function_">push</span>(item);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// å¿½ç•¥é text ç±»å‹</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (textParts.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          message.<span class="property">content</span> = textParts.<span class="title function_">join</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰ text å†…å®¹ï¼Œä¿ç•™åŸæ•°ç»„ï¼ˆæˆ–ä½ å¯ä»¥è®¾ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> transformedRequest;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">transformResponseOut</span>(<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¿…é¡»è¦æœ‰è¿™ä¸€è¡Œ</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">ContentArrayToTextTransformer</span>;</span><br></pre></td></tr></table></figure><p>å¯¹åº”ä¿®æ”¹ccrçš„<code>~/.claude-code-router/config.json</code>ï¼Œç”¨ä¸Šè¿™ä¸ªtransformerã€‚</p><p>æ³¨æ„ï¼Œé…ç½®ä¸­æœ€åçš„transformersé‡Œé¢çš„pathå¿…é¡»å†™æ­»ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œä¸èƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç”¨æˆ·å®¶ç›®å½•ä¹Ÿä¸èƒ½ç”¨<code>~</code>æ›¿ä»£ï¼Œå¿…é¡»ç”¨ç»å¯¹è·¯å¾„ï¼<strong>ä½ éœ€è¦æ”¹æˆä½ è‡ªå·±çš„ç»å¯¹è·¯å¾„ï¼Œåˆ«ç›´æ¥æŠ„æˆ‘çš„</strong>ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;PORT&quot;</span><span class="punctuation">:</span> <span class="number">3456</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;LOG&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;LOG_LEVEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;API_TIMEOUT_MS&quot;</span><span class="punctuation">:</span> <span class="number">600000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;NON_INTERACTIVE_MODE&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Providers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;api_base_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://api.siliconflow.cn/v1/chat/completions&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;api_key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sk-xxxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;models&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;Qwen/Qwen3-8B&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;transformer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;use&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;maxtoken&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;max_tokens&quot;</span><span class="punctuation">:</span> <span class="number">8192</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="string">&quot;content-array-to-text&quot;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Router&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;think&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;longContext&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai,Qwen/Qwen3-8B&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;longContextThreshold&quot;</span><span class="punctuation">:</span> <span class="number">60000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webSearch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openai,Qwen/Qwen3-8B&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;transformers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/Users/mothra/.claude-code-router/plugins/content_array_to_text.js&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®ä¹‹åï¼Œccr starté‡æ–°å¯åŠ¨ccræœåŠ¡ï¼Œæ³¨æ„æ£€æŸ¥æ—¥å¿—ä¸­å¿…é¡»å‡ºç°è¿™ä¸€è¡Œï¼Œæ‰æ˜¯okçš„</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;level&quot;</span><span class="punctuation">:</span><span class="number">30</span><span class="punctuation">,</span><span class="attr">&quot;time&quot;</span><span class="punctuation">:</span><span class="number">1758979607079</span><span class="punctuation">,</span><span class="attr">&quot;pid&quot;</span><span class="punctuation">:</span><span class="number">58358</span><span class="punctuation">,</span><span class="attr">&quot;hostname&quot;</span><span class="punctuation">:</span><span class="string">&quot;MACBOOKAIR-MOTHRA&quot;</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;register transformer: content-array-to-text (no endpoint)&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°äº†ä¸‹é¢è¿™ç§é”™è¯¯ï¼Œè¯´æ˜ä½ çš„transformerså†™çš„ä¸å¯¹ï¼Œéœ€è¦ä¿®æ”¹ï¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;level&quot;</span><span class="punctuation">:</span><span class="number">50</span><span class="punctuation">,</span><span class="attr">&quot;time&quot;</span><span class="punctuation">:</span><span class="number">1758979551770</span><span class="punctuation">,</span><span class="attr">&quot;pid&quot;</span><span class="punctuation">:</span><span class="number">58108</span><span class="punctuation">,</span><span class="attr">&quot;hostname&quot;</span><span class="punctuation">:</span><span class="string">&quot;MACBOOKAIR-MOTHRA&quot;</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;load transformer (/Users/mothra/.claude-code-router/plugins/content_array_to_text.js) \nerror: t is not a constructor\nstack: TypeError: t is not a constructor\n    at ia.registerTransformerFromConfig (/usr/local/lib/node_modules/@musistudio/claude-code-router/dist/cli.js:79015:19)\n    at ia.loadFromConfig (/usr/local/lib/node_modules/@musistudio/claude-code-router/dist/cli.js:79050:33)\n    at ia.initialize (/usr/local/lib/node_modules/@musistudio/claude-code-router/dist/cli.js:79029:68)&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œtransformerså†™çš„ä¸å¯¹æ—¶ï¼Œ<strong>ä¸ä¼šè®©ccræ‹’ç»å¯åŠ¨</strong>ï¼Œåªæ˜¯ccrä¸ä¼šåŠ è½½è¿™ä¸ªtransformersï¼åˆ«ä»¥ä¸ºç»ˆç«¯æ²¡æœ‰å‡ºç°æŠ¥é”™å°±æ˜¯æ²¡å•¥é—®é¢˜ï¼Œä¸€å®šè¦æ£€æŸ¥æ—¥å¿—å“¦ã€‚</p><h3 id="4-3-æµ‹è¯•ä¿®æ”¹åçš„æ•ˆæœ">4.3. æµ‹è¯•ä¿®æ”¹åçš„æ•ˆæœ</h3><p>æµ‹è¯•ä¸€ä¸‹ï¼Œä¾æ—§å¯ä»¥æ­£å¸¸è¯·æ±‚ç¡…åŸºæµåŠ¨ï¼Œæå®šäº†ï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/ff327ea05ac2cd4b7bc3c46bd1b96270.webp" alt="image.png"></p><p>åœ¨æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„è¯·æ±‚å·²ç»æ­£å¸¸åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²äº†ï¼ˆè¿™é‡Œsystem promptçš„å†…å®¹å¾ˆé•¿ï¼Œæˆ‘åªæˆªå–äº†å¼€å¤´éƒ¨åˆ†ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;POST&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;headers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\&quot;messages\&quot;:[&#123;\&quot;role\&quot;:\&quot;system\&quot;,\&quot;content\&quot;:\&quot;You are Claude Code, Anthropic&#x27;s official CLI for Claude.\\n\\nYou are an interactive CLI tool that helps users with software engineering tasks. Use the instructions below and the tools available to you to assist the user.\\n\\nIMPORTANT: Assist with defensive security tasks only. Refuse to create, modify, or improve code that may be used maliciously. Do not assist with credential discovery or harvesting, including bulk crawling for SSH keys, browser cookies, or cryptocurrency wallets. Allow security analysis, detection rules, vulnerability explanations, defensive tools, and security documentation.\\n</span></span><br></pre></td></tr></table></figure><p>è€Œæ·»åŠ transformerä¿®æ”¹ä¹‹å‰çš„system contentéƒ¨åˆ†æ˜¯ä¸ªæ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;POST&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;headers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\&quot;messages\&quot;:[&#123;\&quot;role\&quot;:\&quot;system\&quot;,\&quot;content\&quot;:[&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;text\&quot;:\&quot;You are Claude Code, Anthropic&#x27;s official CLI for Claude.\&quot;,\&quot;cache_control\&quot;:&#123;\&quot;type\&quot;:\&quot;ephemeral\&quot;&#125;&#125;,&#123;\&quot;type\&quot;:\&quot;text\&quot;,\&quot;text\&quot;:\&quot;\\nYou are an interactive CLI tool that helps users with software engineering tasks. Use the instructions below and the tools available to you to assist the user.\\n\\nIMPORTANT: Assist with defensive security tasks only. Refuse to create, modify, or improve code that may be used maliciously. Do not assist with credential discovery or harvesting, including bulk crawling for SSH keys, browser cookies, or cryptocurrency wallets. Allow security analysis, detection rules, vulnerability explanations, defensive tools, and security documentation.\\n</span></span><br></pre></td></tr></table></figure><h2 id="5-æ›´å¤š">5. æ›´å¤š</h2><p>æ›´å¤šClaude Code Routerçš„é…ç½®ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹Githubçš„æ–‡æ¡£ï¼š<a href="https://github.com/musistudio/claude-code-router/blob/main/README_zh.md">https://github.com/musistudio/claude-code-router/blob/main/README_zh.md</a></p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>claude-codeå®‰è£…å‚è€ƒï¼š<a href="https://blog.musnow.top/posts/5046572767">https://blog.musnow.top/posts/5046572767</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>tmuxçš„ä½¿ç”¨å‚è€ƒä¹‹å‰å†™è¿‡çš„åšå®¢ï¼š<a href="https://blog.musnow.top/posts/2203891398/">https://blog.musnow.top/posts/2203891398/</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">æœ¬æ–‡å°†å‘Šè¯‰ä½ å¦‚ä½•é…ç½®claude-code-routerè½¬å‘Claude Codeè¯·æ±‚è‡³OpenAI APIæ ¼å¼ï¼Œå…¼å®¹æ‰€æœ‰OpenAIæ ¼å¼çš„å¹³å°ã€‚</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="ç¼–ç¨‹å·¥å…·" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="AIç¼–ç¨‹å·¥å…·" scheme="https://blog.musnow.top/tags/AI%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>ã€AIã€‘ä¸‹è½½å®‰è£…claude-codeï¼Œå¹¶é…ç½®å…è´¹çš„LongCatå¤§æ¨¡å‹</title>
    <link href="https://blog.musnow.top/posts/5046572767/"/>
    <id>https://blog.musnow.top/posts/5046572767/</id>
    <published>2025-09-27T09:27:18.000Z</published>
    <updated>2025-10-01T02:09:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†æ•™å¤§å®¶å¦‚ä½•ä¸‹è½½å®‰è£…claude-codeï¼Œå¹¶é…ç½®å…è´¹çš„ç¾å›¢LongCatå¤§æ¨¡å‹APIè¿›è¡Œä½¿ç”¨ã€‚</p><p>ä¸€å¥è¯ä»‹ç»ï¼šClaude Codeæ˜¯Anthropicå¼€å‘çš„ä¸€ä¸ªæ™ºèƒ½ç¼–ç¨‹å·¥å…·ï¼Œå®ƒç›´æ¥åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œï¼Œå¸®åŠ©æ‚¨æ›´å¿«åœ°å°†æƒ³æ³•è½¬åŒ–ä¸ºä»£ç ã€‚</p><h2 id="1-Node-js-å®‰è£…">1. Node.js å®‰è£…</h2><p>è¦æƒ³å®‰è£…Claude Codeï¼Œéœ€è¦å…ˆå®‰è£…nodeå’Œnpmã€‚</p><p>nodeçš„å®˜ç½‘æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‹è½½æŒ‡å¯¼ï¼š<a href="https://nodejs.org/zh-cn/download">https://nodejs.org/zh-cn/download</a>ï¼Œè·Ÿç€æ“ä½œå°±okäº†ï¼Œnodeç®—æ˜¯ä¸€ä¸ªç¼–ç¨‹å­¦ä¹ è€…çš„å¿…å¤‡å·¥å…·äº†ï¼Œå¾ˆå¤šç¬¬ä¸‰æ–¹å·¥å…·éƒ½æ˜¯é€šè¿‡npmä¸‹è½½å’Œç®¡ç†çš„ã€‚</p><h3 id="1-1-Windows-ç³»ç»Ÿ">1.1. Windows ç³»ç»Ÿ</h3><p>å®‰è£… Node.js å…¶å®å¾ˆç®€å•ï¼Œç›´æ¥å» Node.js å®˜ç½‘ <a href="https://nodejs.org">https://nodejs.org</a> ä¸‹è½½ LTS ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œå»ºè®®é€‰ 22.x æˆ– 24.x ç‰ˆæœ¬ï¼Œå…¶ä»–ç‰ˆæœ¬å¤ªè€äº†ï¼Œåç»­å¯èƒ½ä¼šåœæ­¢æ”¯æŒã€‚</p><p>ä¸‹è½½å®ŒæˆååŒå‡»è¿è¡Œï¼Œè·Ÿç€å®‰è£…å‘å¯¼ä¸€è·¯ç‚¹å‡»&quot;ä¸‹ä¸€æ­¥&quot;å°±å¯ä»¥äº†ã€‚</p><p>è£…å®Œåï¼Œæ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼ˆwin+ré‡Œé¢è¾“å…¥cmdï¼Œæˆ–è€…ç›´æ¥åœ¨å¼€å§‹èœå•çš„æœç´¢é‡Œé¢æœcmdï¼‰ï¼Œå¯ä»¥åœ¨å‘½ä»¤æç¤ºç¬¦é‡Œè¾“å…¥ <code>node -v</code> å’Œ <code>npm -v</code> æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœæ˜¾ç¤ºäº†nodeçš„ç‰ˆæœ¬å·é‚£å°±æ²¡é—®é¢˜äº†ã€‚</p><h3 id="1-2-Mac-ç³»ç»Ÿ">1.2. Mac ç³»ç»Ÿ</h3><h4 id="1-2-1-æ–¹æ³•ä¸€ï¼šå®˜ç½‘å®‰è£…åŒ…ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰">1.2.1. æ–¹æ³•ä¸€ï¼šå®˜ç½‘å®‰è£…åŒ…ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰</h4><p>å’Œ Windowsä¸€æ ·ï¼Œç›´æ¥å»å®˜ç½‘ <a href="https://nodejs.org">https://nodejs.org</a> ä¸‹è½½ macOS çš„<code>.pkg</code>å®‰è£…åŒ…ï¼Œæ¨èä¸‹è½½ LTS ç‰ˆæœ¬ï¼ˆ22.x æˆ– 24.xï¼‰ã€‚ä¸‹è½½ååŒå‡»è¿è¡Œï¼ŒæŒ‰ç…§å®‰è£…å‘å¯¼çš„æŒ‡å¼•ä¸€è·¯ç‚¹&quot;ç»§ç»­&quot;å°±æå®šäº†ã€‚å®‰è£…å®Œæˆåæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ <code>node -v</code> å’Œ <code>npm -v</code> éªŒè¯ä¸€ä¸‹ï¼Œèƒ½çœ‹åˆ°ç‰ˆæœ¬å·å°±è¯´æ˜è£…å¥½äº†ã€‚</p><h4 id="1-2-2-æ–¹æ³•äºŒï¼šHomebrew-å®‰è£…ï¼ˆé€‚åˆå¼€å‘è€…ï¼‰">1.2.2. æ–¹æ³•äºŒï¼šHomebrew å®‰è£…ï¼ˆé€‚åˆå¼€å‘è€…ï¼‰</h4><p>å¦‚æœä½ å·²ç»è£…äº† Homebrewï¼Œé‚£å®‰è£…å°±æ›´ç®€å•äº†ã€‚é¦–å…ˆç¡®ä¿ Homebrew å·²ç»å®‰è£…ï¼Œå¦‚æœè¿˜æ²¡è£…ï¼Œå¯ä»¥åœ¨ç»ˆç«¯é‡Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…homebrew</span></span><br><span class="line">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>Homebrew è£…å¥½åï¼Œç›´æ¥è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node@22</span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œå®‰è£…å®Œæˆåè¾“å…¥ <code>node -v</code> å’Œ <code>npm -v</code> æ£€æŸ¥ä¸€ä¸‹ã€‚</p><blockquote><p>Homebrewè¿™ç©æ„åŸºæœ¬ä¸Šæ˜¯macå¿…å¤‡çš„å‘½ä»¤è¡Œå·¥å…·äº†ï¼Œè¿™ä¹Ÿæ˜¯macæœ‰åˆ«äºwindowsç”µè„‘çš„ä¸€ç‚¹ï¼Œmacä¸Šå¾ˆå¤šæœ‰è¶£çš„è½¯ä»¶å’Œå¼€å‘è€…å·¥å…·å¯ä»¥é€šè¿‡Homebrewä¸€é”®å®‰è£…ï¼Œè€Œwindowsä¸Šé…ç½®ä¸€äº›ç¯å¢ƒå®¹æ˜“å¤´å¤§ã€‚ç½‘ä¸Šæ‰€è°“â€œmacæ›´é€‚åˆç¼–ç¨‹äººå‘˜â€çš„è®ºè°ƒä¹Ÿæ˜¯åŸºäºæ­¤åŸå› ã€‚</p><p>ä½†æ˜¯ï¼Œå¯¹äºæ™®é€šå­¦ä¹ è€…ï¼Œç‰¹åˆ«æ˜¯ç†å·¥ç§‘å¤§å­¦ç”Ÿæ¥è¯´ï¼Œæ²¡æœ‰ä»»ä½•å¿…è¦ï¼Œä¹Ÿ<strong>åƒä¸‡ä¸è¦</strong>æŠŠä½ çš„windowsç”µè„‘å–äº†æ¢ä¸ªmacç”µè„‘ã€‚macç”µè„‘åœ¨å¾ˆå¤šå·¥ç§‘ä¸“ä¸šè½¯ä»¶å…¼å®¹æ€§è¿™æ–¹é¢æ˜¯0ï¼</p></blockquote><h4 id="1-2-3-æ–¹æ³•ä¸‰ï¼šnvmå®‰è£…ï¼ˆå¼ºçƒˆä¸æ¨èï¼ï¼ï¼ï¼ï¼‰">1.2.3. æ–¹æ³•ä¸‰ï¼šnvmå®‰è£…ï¼ˆå¼ºçƒˆä¸æ¨èï¼ï¼ï¼ï¼ï¼‰</h4><p>nodeå®˜ç½‘ç»™å‡ºçš„å®‰è£…æŒ‡ä»¤ï¼Œæ˜¯è®©ä½ å…ˆå®‰è£…äº†ä¸€ä¸ªnodeçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·nvmï¼Œç„¶åé€šè¿‡nvmå®‰è£…äº†22ç‰ˆæœ¬çš„nodeã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Download and install nvm:</span></span><br><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash</span><br><span class="line"><span class="comment"># in lieu of restarting the shell</span></span><br><span class="line">\. <span class="string">&quot;<span class="variable">$HOME</span>/.nvm/nvm.sh&quot;</span></span><br><span class="line"><span class="comment"># Download and install Node.js:</span></span><br><span class="line">nvm install 22</span><br><span class="line"><span class="comment"># Verify the Node.js version:</span></span><br><span class="line">node -v <span class="comment"># Should print &quot;v22.20.0&quot;.</span></span><br><span class="line"><span class="comment"># Verify npm version:</span></span><br><span class="line">npm -v <span class="comment"># Should print &quot;10.9.3&quot;.</span></span><br></pre></td></tr></table></figure><p><strong>æ…•é›ªå¼ºçƒˆä¸æ¨èè¿™ç§æ–¹å¼</strong>ï¼è™½ç„¶nvmèƒ½å¤Ÿå¸®ä½ ç®¡ç†nodeç‰ˆæœ¬ï¼Œä½†æ˜¯åœ¨<code>.nvmrc</code>å’Œå…¨å±€çš„nodeç‰ˆæœ¬ä¸ä¸€æ ·æ—¶ï¼Œéå¸¸å®¹æ˜“å‡ºç°nodeç‰ˆæœ¬ä¸ä¸€è‡´ã€ä¸ç¬¦åˆè¦æ±‚å¯¼è‡´çš„å„ç±»é—®é¢˜ã€‚å°¤å…¶æ˜¯åç»­å¦‚æœä½ éœ€è¦ä½¿ç”¨npmå®‰è£…çš„mcpå·¥å…·æ—¶ï¼Œnvmé€ æˆçš„é—®é¢˜ç»å¯¹æ˜¯çƒ¦äººè‡³æã€‚</p><p>æ‰€ä»¥ï¼š<strong>å¼ºçƒˆå»ºè®®ï¼Œä¸è¦åœ¨ä½ çš„ç”µè„‘ä¸Šä¸‹è½½nvm</strong>ï¼</p><p>ç°åœ¨æ›´æ¨èä½¿ç”¨<strong>mise</strong>æ¥ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„nodeï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://mise.jdx.dev/installing-mise.html">https://mise.jdx.dev/installing-mise.html</a>ï¼Œåç»­æ…•é›ªä¼šå•ç‹¬å†™ä¸ªæ–‡æ¡£å‘Šè¯‰å¤§å®¶å¦‚ä½•ä½¿ç”¨miseã€‚</p><h2 id="2-Claude-Code-å®‰è£…">2. Claude Code å®‰è£…</h2><h3 id="2-1-å•¥æ˜¯Claude-Codeï¼Ÿ">2.1. å•¥æ˜¯Claude Codeï¼Ÿ</h3><p>Claude Codeæ˜¯Anthropicå¼€å‘çš„ä¸€ä¸ªæ™ºèƒ½ç¼–ç¨‹å·¥å…·ï¼Œå®ƒç›´æ¥åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œï¼Œå¸®åŠ©æ‚¨æ›´å¿«åœ°å°†æƒ³æ³•è½¬åŒ–ä¸ºä»£ç <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚</p><p><strong>ä¸»è¦åŠŸèƒ½</strong>:</p><p>Claude Codeå¯ä»¥å¸®æ‚¨ï¼š</p><ul><li><strong>ä»æè¿°æ„å»ºåŠŸèƒ½</strong>ï¼šç”¨ç®€å•çš„è‹±è¯­å‘Šè¯‰Claudeæ‚¨æƒ³è¦æ„å»ºä»€ä¹ˆï¼Œå®ƒä¼šåˆ¶å®šè®¡åˆ’ã€ç¼–å†™ä»£ç å¹¶ç¡®ä¿ä»£ç æ­£å¸¸å·¥ä½œ</li><li><strong>è°ƒè¯•å’Œä¿®å¤é—®é¢˜</strong>ï¼šæè¿°é”™è¯¯æˆ–ç²˜è´´é”™è¯¯æ¶ˆæ¯ï¼ŒClaude Codeä¼šåˆ†ææ‚¨çš„ä»£ç åº“ï¼Œè¯†åˆ«é—®é¢˜å¹¶å®æ–½ä¿®å¤</li><li><strong>å¯¼èˆªä»»ä½•ä»£ç åº“</strong>ï¼šè¯¢é—®å…³äºå›¢é˜Ÿä»£ç åº“çš„ä»»ä½•é—®é¢˜ï¼Œè·å¾—æ·±æ€ç†Ÿè™‘çš„å›ç­”ã€‚Claude Codeèƒ½å¤Ÿäº†è§£æ•´ä¸ªé¡¹ç›®ç»“æ„ï¼Œå¯ä»¥ä»ç½‘ç»œè·å–æœ€æ–°ä¿¡æ¯ï¼Œå¹¶é€šè¿‡MCPè¿æ¥å¤–éƒ¨æ•°æ®æº</li><li><strong>è‡ªåŠ¨åŒ–ç¹çä»»åŠ¡</strong>ï¼šä¿®å¤linté—®é¢˜ã€è§£å†³åˆå¹¶å†²çªã€ç¼–å†™å‘å¸ƒè¯´æ˜</li></ul><p><strong>ä¸ºä»€ä¹ˆå¼€å‘è€…å–œæ¬¢Claude Code</strong>?</p><ul><li><strong>åœ¨ç»ˆç«¯ä¸­å·¥ä½œ</strong>ï¼šä¸æ˜¯å¦ä¸€ä¸ªèŠå¤©çª—å£æˆ–IDEï¼ŒClaude Codeåœ¨æ‚¨å·²ç»å·¥ä½œçš„åœ°æ–¹ä¸æ‚¨ç›¸é‡<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li><li><strong>ç›´æ¥æ‰§è¡Œæ“ä½œ</strong>ï¼šClaude Codeå¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡ä»¶ã€è¿è¡Œå‘½ä»¤å’Œåˆ›å»ºæäº¤</li><li><strong>Unixå“²å­¦</strong>ï¼šClaude Codeæ˜¯å¯ç»„åˆå’Œå¯è„šæœ¬åŒ–çš„</li><li><strong>ä¼ä¸šå°±ç»ª</strong>ï¼šå†…ç½®ä¼ä¸šçº§å®‰å…¨æ€§ã€éšç§ä¿æŠ¤å’Œåˆè§„æ€§</li></ul><hr><p>ä¸Šé¢è¿™ä¸ªä»‹ç»å¾ˆæ˜æ˜¾æ˜¯AIå†™çš„ï¼Œæ…•é›ªè¿™é‡Œè¡¥å……ä¸€ç‚¹ï¼šClaude Codeçš„Agentæ¡†æ¶è®¾è®¡çš„éå¸¸å®Œå–„ï¼Œæ˜¯ç›®å‰ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ï¼ˆGeminiã€Qwen Codeã€codexï¼‰ä¸­è®¾è®¡çš„æœ€å¥½çš„ä¸€ä¸ªï¼Œè¿™ä¹Ÿæ˜¯ä¸ºå•¥å¾ˆå¤šäººéƒ½åœ¨ç”¨Claude Codeã€‚è€Œä¸”Claude Codeå¹¶æ²¡æœ‰å¼ºè¡Œç»‘å®šå®˜æ–¹APIæœåŠ¡ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ¥å…¥å…¶ä»–APIï¼Œä¹Ÿæ»¡è¶³äº†ä¸ªäººçš„å¤šæ ·åŒ–å’Œä¼ä¸šçš„ä¿¡æ¯å®‰å…¨è¦æ±‚ã€‚</p><h3 id="2-2-å®‰è£…-Claude-Code">2.2. å®‰è£… Claude Code</h3><p>Node.js å®‰è£…å¥½åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å®‰è£… Claude Code äº†ã€‚ç›´æ¥åœ¨ç»ˆç«¯é‡Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @anthropics/claude-code</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ç½‘ç»œæ— æ³•æ­£å¸¸å®‰è£…npmå·¥å…·ï¼Œå¯ä»¥åŠ ä¸Šå›½å†…é˜¿é‡Œäº‘é•œåƒæºè¿›è¡Œå®‰è£…ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @anthropics/claude-code --registry https://registry.npmmirror.com</span><br></pre></td></tr></table></figure><p>åœ¨macOSå’ŒLinuxä¸Šï¼Œå¦‚æœnpmå®‰è£…æç¤ºæ²¡æœ‰æƒé™&quot;permission denied&quot;ï¼Œå¯ä»¥åœ¨å‘½ä»¤ä¹‹å‰åŠ ä¸Šsudoæ‰§è¡Œã€‚</p><p>ç­‰å¾…å®‰è£…å®Œæˆï¼Œç„¶åè¾“å…¥ <code>claude --version</code> éªŒè¯ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚å‡ºç°äº†ç‰ˆæœ¬å·å°±æ˜¯OKäº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â¯ claude --version</span><br><span class="line">1.0.127 (Claude Code)</span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®-LongCat-API">3. é…ç½® LongCat API</h2><h3 id="3-1-LongCatæ˜¯ä»€ä¹ˆæ¥å¤´ï¼Ÿ">3.1. LongCatæ˜¯ä»€ä¹ˆæ¥å¤´ï¼Ÿ</h3><p>å¦‚æœä½ æœ€è¿‘æœ‰äº†è§£è¿‡å¤§æ¨¡å‹æœ€æ–°åŠ¨æ€ï¼Œä½ åº”è¯¥çŸ¥é“é€å¤–å–çš„<strong>ç¾å›¢</strong>å‘å¸ƒäº†ä»–ä»¬è‡ªç ”çš„å¤§æ¨¡å‹LongCatï¼Œåœ¨æ€§èƒ½ä¸é”™çš„åŒæ—¶ï¼Œä¸»æ‰“ä¸€ä¸ªå¿«ã€‚ä¸ç®¡å»é—®ä»€ä¹ˆé—®é¢˜ï¼Œå›ç­”çš„é€Ÿåº¦éƒ½æ˜¯é£ä¸€èˆ¬çš„å¿«ï¼Œå’Œéš”å£Kimi K2çš„æ…¢ååå½¢æˆé²œæ˜å¯¹æ¯”ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/b17ccefb1a1f0b36400304a052a80c52.webp" alt=""></p><p>ç¾å›¢è¿™æ¬¡éå¸¸å¤§æ–¹ï¼Œæ¯å¤©æä¾›äº†50w Tokençš„APIè°ƒç”¨é¢åº¦ï¼Œè¶³å¤Ÿæˆ‘ä»¬å­¦ä¹ å’Œæµ‹è¯•å¤§æ¨¡å‹äº†ã€‚</p><p>Claude Code é»˜è®¤æ˜¯ä½¿ç”¨ Anthropic çš„ APIï¼Œç›´æ¥æ‰§è¡Œclaudeå‘½ä»¤çš„æ—¶å€™ï¼Œä¼šå‘Šè¯‰ä½ å½“å‰æ— æ³•è¿æ¥ä¸ŠAnthropicçš„æœåŠ¡å™¨ï¼Œæ— æ³•ä½¿ç”¨ï¼Œè¿™æ˜¯æ­£å¸¸æƒ…å†µï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰è´­ä¹°Anthropicçš„è®¢é˜…ï¼Œç½‘ç»œä¹Ÿè¿ä¸ä¸ŠAnthropicçš„æœåŠ¡å™¨ï¼ˆå¦‚æœä½ ä¹°äº†ä¼°è®¡ä½ ä¹Ÿä¸ä¼šæ¥çœ‹æœ¬æ–‡äº†å§â€¦â€¦å“ˆå“ˆï¼‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ LongCat å…è´¹æä¾›çš„ API æ¥æ›¿ä»£Anthropicå®˜æ–¹APIï¼š<a href="https://longcat.chat/platform/docs/zh/ClaudeCode.html">LongCatæ–‡æ¡£</a>ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><h4 id="3-1-1-è·å–-LongCat-API-Key">3.1.1. è·å– LongCat API Key</h4><ol><li>è®¿é—® <a href="https://longcat.chat">LongCat å®˜ç½‘</a></li><li>æ³¨å†Œå¹¶ç™»å½•è´¦å·ï¼ˆå…¶å®å°±æ˜¯ä½ çš„ç¾å›¢è´¦æˆ·ï¼‰</li><li>è¿›å…¥<a href="https://longcat.chat/platform/usage">æ§åˆ¶å°</a>ï¼Œåˆ›å»ºæ–°çš„ API Key</li><li>å¤åˆ¶ API Keyï¼ˆæ³¨æ„ä¿å¯†ï¼Œå¯åƒä¸‡åˆ«å‘ç½‘ä¸Šï¼‰</li></ol><h4 id="3-1-2-é…ç½®-Claude-Code-ä½¿ç”¨-LongCat-API">3.1.2. é…ç½® Claude Code ä½¿ç”¨ LongCat API</h4><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œä¿®æ”¹<code>~/.claude/settings.json</code>é…ç½®æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼Œä½¿ç”¨LongCatçš„Anthropic APIï¼Œå…¶ä¸­<code>ANTHROPIC_AUTH_TOKEN</code>éœ€è¦æ›´æ¢æˆä½ è‡ªå·±çš„LongCat API Tokenã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_AUTH_TOKEN&quot;</span><span class="punctuation">:</span> <span class="string">&quot;your_longcat_api_key&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_BASE_URL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://api.longcat.chat/anthropic&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LongCat-Flash-Chat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_SMALL_FAST_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LongCat-Flash-Chat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_DEFAULT_SONNET_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LongCat-Flash-Chat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_DEFAULT_OPUS_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LongCat-Flash-Chat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;CLAUDE_CODE_MAX_OUTPUT_TOKENS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8192&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;allow&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;deny&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ˜¯windowsç”¨æˆ·ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶çš„è·¯å¾„å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\[ä½ çš„ç”¨æˆ·å]\.claude\settings.json</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯åœ¨è®¾ç½®Claude Codeå…¨å±€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ï¼Œä½ å¯ä»¥é€šè¿‡ç›´æ¥è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œæ¥å®ç°ç›¸åŒçš„æ¥å…¥ã€‚å°†å¦‚ä¸‹å†…å®¹å†™å…¥ä½ çš„<code>~/.zshrc</code>ã€<code>~/.bashrc</code>ï¼Œæˆ–åœ¨windowsç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®å³å¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANTHROPIC_AUTH_TOKEN=<span class="string">&quot;your_longcat_api_key&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_BASE_URL=<span class="string">&quot;https://api.longcat.chat/anthropic&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_MODEL=<span class="string">&quot;LongCat-Flash-Chat&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_SMALL_FAST_MODEL=<span class="string">&quot;LongCat-Flash-Chat&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_DEFAULT_SONNET_MODEL=<span class="string">&quot;LongCat-Flash-Chat&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_DEFAULT_OPUS_MODEL=<span class="string">&quot;LongCat-Flash-Chat&quot;</span></span><br><span class="line"><span class="built_in">export</span> CLAUDE_CODE_MAX_OUTPUT_TOKENS=<span class="string">&quot;8192&quot;</span></span><br><span class="line"><span class="built_in">export</span> CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š<code>~/.claude/settings.json</code>é…ç½®æ–‡ä»¶<strong>ä¼˜å…ˆçº§é«˜äº</strong>ç»ˆç«¯ç¯å¢ƒå˜é‡ï¼Œå»ºè®®äºŒè€…åªé€‰å…¶ä¸­ä¹‹ä¸€è¿›è¡Œé…ç½®ï¼Œä¸è¦ä¸¤ä¸ªä¸€èµ·é…ç½®ã€‚å…å¾—è‡ªå·±æŠŠè‡ªå·±çš„é…ç½®ææ··ã€‚</p><h3 id="3-2-å¯åŠ¨-Claude-Code">3.2. å¯åŠ¨ Claude Code</h3><p>é…ç½®å®Œæˆåï¼Œç›´æ¥åœ¨ç»ˆç«¯é‡Œè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">claude</span><br></pre></td></tr></table></figure><p>é¦–æ¬¡å¯åŠ¨ä¼šæç¤ºä½ æ¥å—ä½¿ç”¨æ¡æ¬¾ï¼Œè¿è¡Œè®¿é—®å½“å‰ç›®å½•ï¼Œç›´æ¥Yeså³å¯ï¼Œä¸ç„¶ä½ æ˜¯æ‰“ä¸å¼€çš„ã€‚</p><p>å¯åŠ¨ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°API Base URLå·²ç»æ˜¯ç¾å›¢LongCatçš„URLäº†ï¼Œè¯´æ˜è®¾ç½®æˆåŠŸäº†ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/8e364bef6e80c67402631c65b01bc43d.webp" alt="image.png"></p><p>è¿™é‡Œæˆ‘ä»¬å…ˆhelloä¸€ä¸‹ï¼Œç¡®è®¤APIé…ç½®æ²¡æœ‰é—®é¢˜ï¼Œèƒ½å¤Ÿæ­£å¸¸è®¿é—®ï¼Œç„¶åé¡ºå¸¦é—®é—®AIä»–çŸ¥ä¸çŸ¥é“è‡ªå·±æ˜¯è°ï¼Œé¾™çŒ«çš„å›ç­”ä¹Ÿæ˜¯OKçš„ã€‚</p><p>è‡³æ­¤ï¼Œé…ç½®å°±OKå•¦ï¼</p><blockquote><p>å¦‚æœä½ å‘ç°åœ¨Claude Codeé‡Œé¢ä½¿ç”¨<strong>éClaudeæ¨¡å‹</strong>å’¨è¯¢â€œä½ æ˜¯è°â€æ—¶è¿”å›äº†ä¸€ä¸ªClaudeæ¨¡å‹çš„ç»“æœï¼Œä¸è¦æƒŠè®¶ï¼Œè¿™ä¹Ÿæ˜¯æ­£å¸¸æƒ…å†µã€‚å› ä¸ºClaude Codeçš„<strong>System Prompt</strong>é‡Œé¢å†™äº†è®©AIå·¥å…·è¿”å›ä»–è‡ªå·±æ˜¯Claude 4 Sonetæ¨¡å‹ï¼Œæ‰€ä»¥å³ä¾¿ä½ ç”¨çš„ä¸æ˜¯Claudeæ¨¡å‹ï¼ŒAIå› ä¸ºéµå¾ªäº†SPä¾æ—§è¿”å›äº†Claudeæ¨¡å‹çš„ç­”æ¡ˆã€‚ä¸è¿‡ç›®å‰çœ‹Claude Codeæ–°ç‰ˆæœ¬å¥½åƒå·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜äº†ã€‚</p></blockquote><h3 id="3-3-å°å°çš„é—®é¢˜ï¼šTokené¢åº¦">3.3. å°å°çš„é—®é¢˜ï¼šTokené¢åº¦</h3><h4 id="3-3-1-ç”³è¯·æ›´å¤šé¢åº¦">3.3.1. ç”³è¯·æ›´å¤šé¢åº¦</h4><p>è™½ç„¶LongCatå¤§æ–¹åœ°æä¾›äº†50w Tokençš„å…è´¹é¢åº¦ï¼Œä½†Claude Codeå·¥å…·æœ¬èº«å¯æ˜¯ä¸ªåƒTokençš„å¤§æˆ·ï¼Œéšä¾¿å¤„ç†ä¸€ä¸¤ä¸ªé—®é¢˜å°±ç”¨å‡ºå»30w Tokenäº†ï¼Œæ‰€ä»¥å¤§å®¶ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯å¾—æ³¨æ„Tokenæ¶ˆè€—ã€‚</p><p>å¦‚æœä½ æ˜¯åœ¨å­¦ä¹ å¤§æ¨¡å‹Agentå¼€å‘ï¼Œä»¥OpenAI APIè°ƒç”¨çš„è¯ï¼Œé‚£50w Tokençš„å…è´¹é¢åº¦å¯ä»¥è¯´æ˜¯å½»åº•å¤Ÿå¤Ÿçš„äº†ã€‚ä¹Ÿå°±Claude Codeè¿™ç§å¼ºAgentå·¥å…·é“¾ä¼šåƒè¿™ä¹ˆå¤šTokenï¼Œå› ä¸ºå®ƒå†…ç½®äº†å¤§æ¦‚20k-30k Tokençš„System Promptå’Œåå¤šä¸ªå†…ç½®å·¥å…·ï¼Œè¿™äº›å†…ç½®å·¥å…·ä¼šä»¥function callæ ¼å¼å‘é€ç»™å¤§æ¨¡å‹åç«¯ï¼Œä¹Ÿä¼šç®—ä½œInput Tokençš„ä¸€éƒ¨åˆ†ã€‚</p><p>ä¸è¿‡å‘¢ï¼ä½ å¯ä»¥åœ¨APIåå°é‡Œé¢<strong>ç”³è¯·æ›´å¤šé¢åº¦</strong>ï¼Œå¡«å†™ä¸€ä¸ªæ‰€åœ¨è¡Œä¸šå’Œå…¬å¸çš„ç”³è¯·è¡¨ï¼ˆåº”è¯¥å¯ä»¥ä¹±å¡«ï¼Œæˆ–è€…ç›´æ¥å¡«ä½ çš„å­¦æ ¡ï¼‰</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/24f2733e29ae8cda4c64676087654858.webp" alt="image.png"></p><p>å¡«å†™å®Œæˆç‚¹å‡»æäº¤åï¼Œå¦‚æœå®¡æ ¸é€šè¿‡äº†ï¼Œä½ çš„æ¯æ—¥Tokené¢åº¦ï¼Œä¼šæš´æ¶¨åˆ°5Mä¸€å¤©ï¼Œä¹Ÿå°±æ˜¯500ä¸‡çš„Tokené¢åº¦ï¼è¿™ä¸ªé¢åº¦çš„Tokenå³ä¾¿åœ¨Claude Codeé‡Œé¢ä¹Ÿæ˜¯åŸºæœ¬å¤Ÿç”¨äº†ï¼Œç™½å«–æˆåŠŸï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/c0a489207c640df01d7808ef931ba975.webp" alt="image.png"></p><h4 id="3-3-2-æœ¬åœ°æŸ¥çœ‹Claude-Codeçš„Tokenç”¨é‡">3.3.2. æœ¬åœ°æŸ¥çœ‹Claude Codeçš„Tokenç”¨é‡</h4><p>ä½ å¯ä»¥ç”¨npmå®‰è£…ccusageé¡¹ç›®ï¼ŒæŸ¥çœ‹æœ¬åœ°Claude Codeç´¯è®¡çš„Tokenæ¶ˆè€—ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> npm install -g ccusage </span><br></pre></td></tr></table></figure><p>å®‰è£…ä¹‹åï¼Œç›´æ¥æ‰§è¡Œccusageå‘½ä»¤å°±å¯ä»¥çœ‹åˆ°è®°å½•äº†ã€‚æ›´å¤šå‘½ä»¤å¯ä»¥ç”¨<code>ccusage --help</code>æŸ¥çœ‹ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/09a4a2216afd95e6e4e19985bcc3a611.webp" alt="image.png"></p><h2 id="4-å…¶ä»–å¤§æ¨¡å‹">4. å…¶ä»–å¤§æ¨¡å‹</h2><h3 id="4-1-é…ç½®DeepSeek-API">4.1. é…ç½®DeepSeek API</h3><p>é™¤äº†ç¾å›¢çš„LongCatï¼ŒDeepSeekå®˜æ–¹ä¹Ÿæä¾›äº†Anthropic APIçš„æ”¯æŒï¼š<a href="https://api-docs.deepseek.com/zh-cn/guides/anthropic_api">dsæ–‡æ¡£</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANTHROPIC_BASE_URL=https://api.deepseek.com/anthropic</span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_AUTH_TOKEN=<span class="variable">$&#123;DEEPSEEK_API_KEY&#125;</span></span><br><span class="line"><span class="built_in">export</span> API_TIMEOUT_MS=600000</span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_MODEL=deepseek-chat</span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_SMALL_FAST_MODEL=deepseek-chat</span><br><span class="line"><span class="built_in">export</span> CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDSæä¾›çš„APIå¹¶éå…è´¹çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦ç»™ä½ çš„DeepSeekè´¦æˆ·<a href="https://platform.deepseek.com/top_up">å……å€¼</a>æ‰èƒ½ä½¿ç”¨</p><p>æ ¹æ®<a href="https://api-docs.deepseek.com/zh-cn/quick_start/pricing">å®˜æ–¹ä»·æ ¼æ–‡æ¡£</a>ï¼Œè¾“å…¥Tokençš„ä»·æ ¼æ˜¯4å…ƒæ¯ç™¾ä¸‡ï¼ˆç¼“å­˜åŸºæœ¬ä¸Šéƒ½å‘½ä¸­ä¸äº†ï¼‰ï¼Œè¾“å‡ºTokençš„ä»·æ ¼æ˜¯12å…ƒæ¯ç™¾ä¸‡ï¼Œå¯¹äºClaude Codeè¿™ä¸ªåƒTokenå¤§æˆ·æ¥è¯´ï¼Œè‡³å°‘å¾—å‡†å¤‡å‡ ç™¾å…ƒçš„é¢„ç®—æ‰èƒ½æ”¾å¿ƒä½¿ç”¨ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/02a36b2033fba1348d5b7fc8afd44aca.webp" alt="image.png"></p><h3 id="4-2-é…ç½®æ™ºè°±GLMçš„API">4.2. é…ç½®æ™ºè°±GLMçš„API</h3><p>GLMå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.bigmodel.cn/cn/coding-plan/tool/claude#claude-code">https://docs.bigmodel.cn/cn/coding-plan/tool/claude#claude-code</a></p><blockquote><p>å¦‚æœä½ æ²¡æœ‰æ³¨å†Œè¿‡æ™ºè°±ï¼Œå¯ä»¥ç”¨ä¸€ä¸‹æ…•é›ªçš„<a href="https://www.bigmodel.cn/claude-code?ic=VRGTIU5R45">é‚€è¯·é“¾æ¥</a>ï¼Œæ„Ÿè°¢æ”¯æŒï¼</p></blockquote><p>æ™ºè°±æ³¨å†Œä¹‹åï¼Œå®˜æ–¹ä¹Ÿä¼šèµ é€200W Tokensçš„é€šç”¨é¢åº¦ï¼Œå¯ä»¥æ‹¿æ¥æµ‹è¯•ä¸€ä¸‹æ•ˆæœã€‚</p><p>æŠŠå¦‚ä¸‹å†…å®¹å¡«å…¥<code>~/.claude/settings.json</code>æ–‡ä»¶å³å¯ï¼Œæœ€æ–°å‡ºçš„glm4.6æœ€å¤§æ”¯æŒ64K Tokensçš„è¾“å‡ºï¼Œè¿™é‡ŒæŠŠè¾“å‡º<code>CLAUDE_CODE_MAX_OUTPUT_TOKENS</code>è®¾ç½®æˆ32Kå°±å·®ä¸å¤šäº†ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">   <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_AUTH_TOKEN&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ çš„token&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_BASE_URL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://open.bigmodel.cn/api/anthropic&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GLM-4.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_SMALL_FAST_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GLM-4.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_DEFAULT_SONNET_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GLM-4.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ANTHROPIC_DEFAULT_OPUS_MODEL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;GLM-4.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;CLAUDE_CODE_MAX_OUTPUT_TOKENS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;32000&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;allow&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;deny&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸å¾—ä¸åæ§½ä¸€ä¸‹æ™ºè°±AIçš„åå°ï¼Œæ•´ä¸ªé€»è¾‘å†™çš„ä¸€å¨å±ï¼ŒAPI Keyçš„ä½ç½®ä¸å¥½æ‰¾ï¼ŒTokené¢åº¦çš„ä½ç½®ä¸å¥½æ‰¾ï¼Œå°±è¿ä¹°è®¢é˜…çš„è´­ç‰©å…¥å£ä½ç½®éƒ½è«åå…¶å¦™çš„ã€‚åæ­£çªå‡ºä¸€ä¸ªæŠ½è±¡ï¼Œä½¿ç”¨ä½“éªŒå¾ˆç³Ÿç³•ã€‚</p><p>ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œæ…•é›ªä¸ºäº†æµ‹è¯•æ•ˆæœå‡ ä½•ï¼Œä¹°äº†æŒ‰æœˆçš„20å…ƒLiteå¥—é¤ï¼Œä½†ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªå¥—é¤çš„é¢åº¦åœ¨å“ªé‡Œçœ‹ï¼Œæ²¡æƒ³åˆ°æ˜¯åœ¨æ§åˆ¶å°ä¸»é¡µå¾€ä¸‹æ»‘é‡Œé¢æ‰çœ‹çš„åˆ°ï¼20å…ƒLiteå¥—é¤çš„Tokensé¢åº¦æ˜¯19.152äº¿ï¼ˆ1915.2ç™¾ä¸‡ï¼‰ï¼Œè¿™ä¸ªé¢åº¦ç¡®å®å¤Ÿå¤Ÿçš„äº†ï¼Œå°±æ˜¯ä¸çŸ¥é“ä¸ºå•¥æœ‰é›¶æœ‰æ•´çš„ï¼Œåˆå§‹å°±ä¸èƒ½ç»™ä¸ªæ•´æ•°é¢åº¦å—ã€‚</p><blockquote><p>è´­ä¹°åŒ…æœˆå¥—é¤çš„åœ°å€æ˜¯ï¼š<a href="https://bigmodel.cn/claude-code">https://bigmodel.cn/claude-code</a></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/aec1ab92549f07e623af4b1a6aacdf22.webp" alt="image.png"></p><p>å¥½å§ï¼Œæ—¢ç„¶è¿™æ˜¯ä¸€ä¸ªèµ„æºåŒ…ï¼Œé‚£èµ„æºåŒ…é¡µé¢é‡Œé¢æœ‰æ²¡æœ‰å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ²¡æœ‰ï¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œèµ„æºåŒ…é¡µé¢é‡Œé¢ï¼Œ<strong>æ²¡æœ‰GLM Coding Liteè¿™ä¸ªå¥—é¤çš„å¯ç”¨é¢åº¦å’Œå‰©ä½™é¢åº¦</strong>ï¼ï¼ï¼ï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/bb14e1035918bcf3a7f2595baf625b40.webp" alt="image.png"></p><p>è€Œä¸”ï¼Œåœ¨è´­ä¹°åŒ…æœˆå¥—é¤çš„<a href="https://bigmodel.cn/claude-code">ä»·æ ¼é¡µé¢</a>é‡Œé¢ï¼Œæ²¡æœ‰å†™è¿™å‡ ä¸ªå¥—é¤åˆ†åˆ«æœ‰å¤šå°‘Tokensçš„é¢åº¦ï¼Œè€Œæ˜¯å†™äº†æŒ‰promptè®¡ç®—çš„ç”¨é‡ï¼Œé¬¼çŸ¥é“ä½ è¿™ä¸ªç”¨é‡æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿä½ çš„promptå’Œæˆ‘ä¸€æ ·å—ï¼Ÿè¿˜æ¥ä¸€ä¸ªâ€œçº¦â€â€¦â€¦</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/692908a765afd8eaa34e11c642de7e0d.webp" alt="image.png"></p><p>å¤ªé€†å¤©äº†ï¼Œå·²ç»æ— è¨€ä»¥å¯¹äº†ã€‚æ‰‹åŠ¨ç¬‘å“­ã€‚</p><h3 id="4-3-è¿˜æœ‰å…¶ä»–ç™½å«–æ–¹å¼å—ï¼Ÿ">4.3. è¿˜æœ‰å…¶ä»–ç™½å«–æ–¹å¼å—ï¼Ÿ</h3><p>é‚£ä¹ˆè‚¯å®šæœ‰èªæ˜çš„ç›†å‹æƒ³é—®äº†ï¼Œé™¤äº†ç¾å›¢ç»™çš„å…è´¹é¢åº¦ï¼Œè¿˜æœ‰æ²¡æœ‰è°ä¹Ÿç»™äº†æˆ‘ä»¬èƒ½ç”¨çš„å…è´¹é¢åº¦å‘¢ï¼Ÿ</p><p>æœ‰çš„å…„å¼Ÿæœ‰çš„ï¼Œæ³¨å†Œé˜¿é‡Œäº‘çš„å¤§æ¨¡å‹ç™¾ç‚¼å¹³å°ï¼Œåˆšæ³¨å†Œçš„90å¤©å†…ï¼Œæœ‰å¾ˆå¤šä¸ªæ¨¡å‹éƒ½æ˜¯<strong>å„</strong>å…è´¹100ä¸‡Tokençš„ï¼Œç”¨å®Œä¸€ä¸ªæ¨¡å‹çš„é¢åº¦åå¯ä»¥æ¢ä¸ªæ¨¡å‹ç»§ç»­ç”¨ã€‚å…·ä½“å¯ä»¥åœ¨<a href="https://help.aliyun.com/zh/model-studio/models?spm=a2c4g.11186623.help-menu-2400256.d_0_0_2.ee007d9dLoyLde">é˜¿é‡Œäº‘ç™¾ç‚¼æ¨¡å‹ä»·æ ¼</a>é‡Œé¢æŸ¥çœ‹ã€‚</p><p>å…è´£å£°æ˜ï¼šæˆ‘å¯æ²¡æœ‰æ”¶æ¨å¹¿è´¹å“¦ï¼Œæœ¬æ–‡é‡Œé¢çš„æ‰€æœ‰é“¾æ¥éƒ½æ˜¯æ²¡æœ‰é‚€è¯·ç çš„ï¼ˆæˆ‘è¿˜ä¸çŸ¥é“åœ¨å“ªé‡Œèƒ½å¼„é‚€è¯·ç å‘¢ï¼‰</p><blockquote><p>PSï¼šåˆ«è¢«é˜¿é‡Œäº‘æ–‡æ¡£é‡Œçœ‹ä¸Šå»å¾ˆä¾¿å®œçš„APIä»·æ ¼è™ä½äº†å“¦ï¼Œå®ƒçš„ä»·æ ¼æ˜¯æŒ‰æ¯åƒTokenç®—çš„ï¼Œä¸æ˜¯æ¯ç™¾ä¸‡Tokenï¼è¦ä¹˜ä»¥1000æ‰æ˜¯å…¶ä»–å¹³å°æ˜¾ç¤ºçš„æ¯ç™¾ä¸‡Tokenä»·æ ¼ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/907ed72180640864c71feb3eca9c03be.webp" alt="image.png"></p><p>ä½†æ˜¯ï¼ç›®å‰ç™¾ç‚¼å¹³å°åªæä¾›äº†OpenAI APIæ ¼å¼çš„æ¥å…¥ï¼Œæ²¡åŠæ³•ç›´æ¥åœ¨Claude Codeé‡Œé¢ä½¿ç”¨ï¼Œéœ€è¦å€ŸåŠ©claude-code-routerå·¥å…·è¿›è¡Œè½¬å‘ï¼ˆæŠŠAnthropic APIè½¬æˆOpenAI APIæ ¼å¼ï¼‰ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨å“¦ã€‚</p><blockquote><p>æ›´æ–°ï¼šå…¶å®ç™¾ç‚¼æ˜¯æä¾›äº†Anthropic APIçš„ï¼š<a href="https://help.aliyun.com/zh/model-studio/claude-code">æ–‡æ¡£</a></p></blockquote><p>å…·ä½“æ“ä½œï¼Œè¯·å¬ä¸‹æ–‡åˆ†è§£ï¼š<a href="https://blog.musnow.top/posts/4200815612">ã€AIã€‘é…ç½®claude-code-routerè½¬å‘Claude Codeè¯·æ±‚è‡³OpenAI APIæ ¼å¼</a>ã€‚</p><hr><p>å¦å¤–ï¼Œæ¯”è¾ƒå‡ºåçš„å¤§æ¨¡å‹APIå¹³å°<a href="https://cloud.siliconflow.cn/me/models">ç¡…åŸºæµåŠ¨</a>ä¹Ÿæä¾›äº†å¾ˆå¤šå…è´¹è°ƒç”¨çš„æ¨¡å‹ï¼Œä½†å…è´¹çš„éƒ½æ˜¯äº›7Bçš„å°æ¨¡å‹ï¼Œæ‹¿æ¥ç©ç©éƒ½å±äºä¸å¤Ÿçš„æ°´å¹³ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ²¡å•¥ç”¨çš„ã€‚è½¨è¿¹æµåŠ¨æ˜¯æœ‰æä¾›Anthropic APIçš„ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼é…ç½®<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANTHROPIC_BASE_URL=<span class="string">&quot;https://api.siliconflow.cn/&quot;</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_MODEL=<span class="string">&quot;moonshotai/Kimi-K2-Instruct-0905&quot;</span>    <span class="comment"># å¯ä»¥è‡ªè¡Œä¿®æ”¹æ‰€éœ€æ¨¡å‹ï¼Œç›®å‰ä»…æ”¯æŒéæ€è€ƒæ¨¡å‹</span></span><br><span class="line"><span class="built_in">export</span> ANTHROPIC_API_KEY=<span class="string">&quot;YOUR_SILICONCLOUD_API_KEY&quot;</span>    <span class="comment"># è¯·æ›¿æ¢ API Key</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/47d84a047f2a2212b7fcdb47e2b356c3.webp" alt="image.png"></p><p>å¦‚æœä½ æƒ³ä½“éªŒClaude Codeçš„å®Œå…¨ä½“ï¼Œæé’±æ˜¯å¿…é¡»çš„å•¦ï¼ç›®æµ‹æƒ³yoloä½¿ç”¨ï¼Œæ¯å¤©è‡³å°‘å¾—è¦æ¶ˆè€—å‡ ç™¾ä¸‡ç”šè‡³ä¸Šåƒä¸‡çš„Tokenï¼Œé¢„ç®—å¾—éå¸¸å……è¶³æ‰èƒ½æçš„èµ·è¿™ä¸ªAPIä½¿ç”¨è´¹ç”¨å‘¢ã€‚</p><p>æˆ–è€…ä½ å¯ä»¥<strong>æ–¥å·¨èµ„</strong>ä¹°ä¸€ä¸ªMac Studio 512GBå†…å­˜ç‰ˆæœ¬ï¼Œç›´æ¥æœ¬åœ°éƒ¨ç½²ä¸€ä¸ªæ»¡è¡€çš„deepseekæˆ–è€…qwen3coderï¼Œé‚£å°±å†ä¹Ÿä¸ç”¨æ‹…å¿ƒTokenä¸å¤Ÿç”¨çš„é—®é¢˜äº†ã€‚å¯Œå“¥vivo50ï¼</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ä¸ºå•¥å¼€å‘è€…å–œæ¬¢Claude Codeï¼š<a href="https://docs.claude.com/en/docs/claude-code/overview#why-developers-love-claude-code">https://docs.claude.com/en/docs/claude-code/overview#why-developers-love-claude-code</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>ä¸¾ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œå¦‚æœæ˜¯æ²¡æœ‰GUIçš„LinuxæœåŠ¡å™¨ï¼Œéœ€è¦AIè¾…åŠ©çš„æ—¶å€™ï¼Œä½ åªèƒ½ä½¿ç”¨Claude Codeè¿™ç§å‘½ä»¤è¡Œå·¥å…·ï¼Œè€Œæ²¡åŠæ³•ä½¿ç”¨cursoræˆ–è€…vscodeé‡Œé¢çš„copliotã€‚ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>ç¡…åŸºæµåŠ¨é…ç½®Claude Codeï¼š<a href="https://docs.siliconflow.cn/cn/usercases/use-siliconcloud-in-ClaudeCode">https://docs.siliconflow.cn/cn/usercases/use-siliconcloud-in-ClaudeCode</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">æœ¬æ–‡å°†æ•™å¤§å®¶å¦‚ä½•ä¸‹è½½å®‰è£…claude-codeï¼Œå¹¶é…ç½®å…è´¹çš„ç¾å›¢LongCatå¤§æ¨¡å‹APIè¿›è¡Œä½¿ç”¨ã€‚æ–‡ä¸­ä¹Ÿæåˆ°äº†å…¶ä»–å¤§æ¨¡å‹æ¥å…¥ccçš„æ•™ç¨‹ã€‚</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="ç¼–ç¨‹å·¥å…·" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="AIç¼–ç¨‹å·¥å…·" scheme="https://blog.musnow.top/tags/AI%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>ã€Hexoã€‘ä½¿ç”¨hexo-markdown-itå®ç°æ¸²æŸ“markdownè„šæ³¨èƒ½åŠ›</title>
    <link href="https://blog.musnow.top/posts/8330674478/"/>
    <id>https://blog.musnow.top/posts/8330674478/</id>
    <published>2025-09-21T02:14:47.000Z</published>
    <updated>2025-09-29T11:56:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•é…ç½®hexo-markdown-itï¼Œè®©hexoç«™ç‚¹æ”¯æŒè„šæ³¨ã€‚</p><h2 id="1-è¯´æ˜">1. è¯´æ˜</h2><p>å¦‚æœä½ çœ‹è¿‡æœ¬æ–‡å…ˆå‰æ›´æ–°çš„ä¸€ç³»åˆ—SLAMç›¸å…³åšå®¢ï¼Œå°±ä¼šå‘ç°ï¼Œåœ¨<a href="https://blog.musnow.top/posts/2657887526/">ã€SLAMã€‘ä½¿ç”¨evoå·¥å…·æ¥ç»˜åˆ¶ORB_SLAM2è½¨è¿¹å›¾ï¼Œè¯„ä¼°ATE\RPEæŒ‡æ ‡</a>ä¸€æ–‡ä¸­ï¼Œå‡ºç°äº†è„šæ³¨çš„èƒ½åŠ›ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/f190121e20c40c6d46e1c5490ca0e129.webp" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/c73145d9d2c46f0cb7144e5ff1521ae5.webp" alt="image.png"></p><p>hexoåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸æ”¯æŒæ¸²æŸ“markdownè„šæ³¨çš„ï¼Œè€Œæ…•é›ªç¼–å†™åšå®¢ä½¿ç”¨çš„obsidianåŸç”Ÿæ”¯æŒè„šæ³¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹hexoçš„é…ç½®ï¼Œè®©å®ƒä¹Ÿèƒ½æ¸²æŸ“å‡ºè„šæ³¨çš„æ ·å¼ï¼Œå°±okäº†ã€‚</p><p>è„šæ³¨çš„markdownæ ¼å¼å¦‚ä¸‹ï¼Œè„šæ³¨å®é™…å†…å®¹çš„å¯ä»¥éšæ„æ”¾ç½®ï¼Œmarkdownæ¸²æŸ“å™¨ä¼šåœ¨æ¸²æŸ“çš„æ—¶å€™å°†å…¶è‡ªåŠ¨ç§»åŠ¨åˆ°æ–‡æœ«æ˜¾ç¤ºã€‚æˆ‘ä»¬å¯ä»¥æŠŠè„šæ³¨çš„å†…å®¹ç›´æ¥å†™åœ¨è„šæ³¨é™„è¿‘ï¼Œåç»­ç¼–è¾‘çš„æ—¶å€™å°±ä¸éœ€è¦è·³åˆ°æ–‡æœ«å»çœ‹å†…å®¹äº†ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ªè„šæ³¨[^1]</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^1</span>]: <span class="link">è„šæ³¨å†…å®¹</span></span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ï¼šç¤ºä¾‹è„šæ³¨æ–‡å­—<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h2 id="2-é…ç½®">2. é…ç½®</h2><blockquote><p>å‚è€ƒï¼š<a href="https://gz-metal-cell.github.io/posts/Hexo-markdown-it/">https://gz-metal-cell.github.io/posts/Hexo-markdown-it/</a></p></blockquote><p>è¦æƒ³å®ç°è„šæ³¨èƒ½åŠ›ï¼Œéœ€è¦ä½¿ç”¨<a href="https://github.com/hexojs/hexo-renderer-markdown-it">github.com/hexojs/hexo-renderer-markdown-it</a>æ’ä»¶ï¼Œæ›¿æ¢æ‰hexoåŸç”Ÿçš„mdæ¸²æŸ“å™¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save     <span class="comment"># å¸è½½åŸæœ‰æ¸²æŸ“å™¨</span></span><br><span class="line">npm install hexo-renderer-markdown-it --save  <span class="comment"># æ›´æ¢æ–°çš„</span></span><br></pre></td></tr></table></figure><p>æ›´æ¢äº†æ¸²æŸ“å™¨ä¹‹åï¼ŒæŠŠä¸‹é¢è¿™ä¸€æ®µæ”¾åˆ°hexoé…ç½®æ–‡ä»¶<code>_config.yml</code>çš„æœ€åå°±å¯ä»¥äº†ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hexojs/hexo-renderer-markdown-it</span></span><br><span class="line"><span class="comment"># markdownå¢å¼ºæ’ä»¶ï¼Œéœ€è¦å…ˆå¸è½½åŸå§‹markdownæ¸²æŸ“å™¨æ‰èƒ½å®‰è£…ï¼Œå®‰è£…å®ƒæ˜¯ä¸ºäº†å°è¯•è„šæ³¨åŠŸèƒ½</span></span><br><span class="line"><span class="comment"># npm un hexo-renderer-marked --save &amp;&amp; npm i hexo-renderer-markdown-it --save</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">preset:</span> <span class="string">&#x27;default&#x27;</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">langPrefix:</span> <span class="string">&#x27;language-&#x27;</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">&#x27;â€œâ€â€˜â€™&#x27;</span></span><br><span class="line">  <span class="attr">enable_rules:</span></span><br><span class="line">  <span class="attr">disable_rules:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span> <span class="comment"># è„šæ³¨</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span>   <span class="comment"># ~ä¸‹æ ‡~</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span>   <span class="comment"># ^ä¸Šæ ‡^</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-mark</span>  <span class="comment"># ==é«˜äº®==</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span> <span class="comment"># å¯ä»¥æ¸²æŸ“:cat:è¿™ç§emoji</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-task-lists</span> <span class="comment"># ä»»åŠ¡åˆ—è¡¨ checkbox</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">&#x27;header-anchor&#x27;</span></span><br><span class="line">    <span class="attr">permalinkSide:</span> <span class="string">&#x27;left&#x27;</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">&#x27;Â¶&#x27;</span></span><br><span class="line">    <span class="attr">case:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">separator:</span> <span class="string">&#x27;-&#x27;</span></span><br><span class="line">  <span class="attr">images:</span></span><br><span class="line">    <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">prepend_root:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">post_asset:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">inline:</span> <span class="literal">false</span>  <span class="comment"># https://markdown-it.github.io/markdown-it/#MarkdownIt.renderInline</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­è„šæ³¨åŠŸèƒ½æ˜¯æ’ä»¶èƒ½åŠ›çš„çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦æ·»åŠ plugins markdown-it-footnoteæ¥å¯ç”¨ã€‚æ›´å¤šæ’ä»¶çš„ä½œç”¨å¯ä»¥æŸ¥çœ‹ä¸Šé¢è´´å‡ºæ¥çš„åšå®¢ï¼Œè¿™é‡Œå°±ä¸å¤šè®°å½•äº†ã€‚ç›®æµ‹å…¶ä»–çš„æ’ä»¶ç”¨ä¸ä¸Šï¼Œå¯ä»¥åœ¨<a href="https://mdit-plugins.github.io/zh/">mdit-plugins.github.io/zh/</a>é‡Œé¢æ‰¾å…¶ä»–æ’ä»¶ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmarkdown-it-task-listséœ€è¦é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¦åˆ™<code>hexo g</code>çš„æ—¶å€™ä¼šæŠ¥é”™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install markdown-it-task-lists</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šé…ç½®ä¹‹åï¼Œå¯ä»¥åœ¨æœ¬åœ°hexo sæµ‹è¯•ä¸€ä¸‹ï¼Œæ…•é›ªå®æµ‹å’Œbutterflyä¸»é¢˜å®Œå…¨å…¼å®¹ï¼Œä¸éœ€è¦ä¿®æ”¹å…¶ä»–ä»»ä½•é…ç½®ã€‚</p><h2 id="3-é¢å¤–æ·»åŠ è„šæ³¨æç¤ºæ–‡å­—">3. é¢å¤–æ·»åŠ è„šæ³¨æç¤ºæ–‡å­—</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œhexo-renderer-markdown-itæä¾›çš„è„šæ³¨ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•æç¤ºæ–‡å­—ï¼Œç›´æ¥æ˜¾ç¤ºåœ¨æ–‡æœ«çš„ï¼ˆä¼šå’Œæ­£æ–‡æœ‰ä¸€æ¡åˆ†å‰²çº¿ï¼‰ã€‚è¿™å¯¹ä¸å¤ªäº†è§£è„šæ³¨çš„è¯»è€…æ¥è¯´å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘è®©aiç¼–å†™äº†ä¸€ä¸ªjsè„šæœ¬ï¼Œå¯ä»¥åœ¨è„šæ³¨ä¹‹å‰æ³¨å…¥ä¸€ä¸ªâ€œè„šæ³¨ï¼šâ€æç¤ºæ–‡å­—ï¼Œè¿™æ ·å°±èƒ½è®©è„šæ³¨æ˜æ˜¾å’Œå…¶ä»–å†…å®¹åŒºåˆ†å¼€æ¥äº†ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªjsæ”¾åˆ°butterflyä¸»é¢˜çš„footteræˆ–è€…headeré…ç½®é‡Œé¢ï¼Œå°±ä¼šç”Ÿæ•ˆã€‚å…¶ä»–ä¸»é¢˜ä½¿ç”¨çš„æ–¹å¼ç±»ä¼¼ï¼Œåªè¦èƒ½ç»™ä¸»é¢˜æ³¨å…¥è¿™ä¸ªjså³å¯ã€‚</p><p>æ³¨æ„jsè„šæœ¬é‡Œé¢ä¼šå…ˆåˆ¤æ–­è·¯å¾„ä¸­å¸¦æœ‰<code>/posts</code>ï¼Œä¹Ÿå°±æ˜¯æœ¬ç«™çš„æ–‡ç« é¡µé¢æ‰ä¼šå¯åŠ¨ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è„šæ³¨æ£€æµ‹å¹¶æ˜¾ç¤ºä¸€ä¸ªåŠ ç²—æ–‡å­—</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;script&gt;document.addEventListener(&#x27;DOMContentLoaded&#x27;,()=&gt;&#123;if(window.location.pathname.includes(&#x27;/posts&#x27;))&#123;const</span> <span class="string">e=document.querySelector(&#x27;.footnotes&#x27;);e&amp;&amp;e.insertBefore(document.createElement(&#x27;strong&#x27;).appendChild(document.createTextNode(&#x27;è„šæ³¨ï¼š&#x27;)).parentNode,e.firstChild);&#125;&#125;);&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼Œçº¢æ¡†åœˆå‡ºæ¥çš„éƒ¨åˆ†å°±æ˜¯æ–°å¢çš„â€œè„šæ³¨ï¼šâ€æç¤ºæ–‡å­—ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/d2b59f83ce550a6c8bc35db2341e3f2c.webp" alt="image.png"></p><h2 id="4-æ’ä»¶å’Œbutterflyä¸»é¢˜å­˜åœ¨çš„å†²çª">4. æ’ä»¶å’Œbutterflyä¸»é¢˜å­˜åœ¨çš„å†²çª</h2><p>è¿™é‡Œè¦æé†’ä¸€ä¸‹butterflyä¸»é¢˜çš„ç”¨æˆ·ï¼Œhexo-markdown-itå’Œbutterflyä¸»é¢˜çš„<strong>è‡ªå®šä¹‰é«˜äº®å—</strong>æ˜¯å†²çªçš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§</p><div class="note info modern"><p>è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ä¿¡æ¯å±•ç¤ºæ¡†[^2]</p></div><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æœ¬ç«™butterflyçš„åšå®¢ç«™ç‚¹ä¸Šï¼Œè¿™ä¸ªè‡ªå®šä¹‰ä¿¡æ¯æ¡†é‡Œé¢çš„2å·è„šæ³¨æ²¡æœ‰è¢«æ­£å¸¸æ¸²æŸ“ï¼Œæ˜¾ç¤ºå‡ºäº†markdownåŸæœ¬çš„è¯­æ³•ï¼Œä¸ç¬¦åˆé¢„æœŸã€‚è¿™ä¸ªæ˜¯hexo-markdown-itå’Œbutterflyä¸»é¢˜çš„å†²çªé—®é¢˜ï¼Œç›®æµ‹æ— è§£ã€‚åªèƒ½è§„é¿è¿™ç§ç”¨æ³•äº†ã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>è¿™æ˜¯ä¸€ä¸ªè„šæ³¨å†…å®¹ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•é…ç½®hexo-markdown-itï¼Œè®©hexoç«™ç‚¹æ”¯æŒmarkdownè„šæ³¨</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/tags/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    <category term="Hexo" scheme="https://blog.musnow.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt</title>
    <link href="https://blog.musnow.top/posts/5745961587/"/>
    <id>https://blog.musnow.top/posts/5745961587/</id>
    <published>2025-09-19T14:35:38.000Z</published>
    <updated>2025-09-21T00:11:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ¬¢è¿é˜…è¯»æ…•é›ªæ’°å†™çš„AI Agentä¸“æ ï¼Œæœ¬ä¸“æ ç›®å½•å¦‚ä¸‹</p><ol class="series-items"><li><a href="/posts/4710483697/" title="ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“">ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</a></li><li><a href="/posts/6796656750/" title="ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€">ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€</a></li><li><a href="/posts/6151856853/" title="ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ">ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="/posts/5745961587/" title="ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt">ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt</a></li><li><a href="/posts/4044218607/" title="ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’">ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’</a></li></ol><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•å†™å¥½ä¸€ä¸ªåˆ†ä¸ºå¤šä¸ªæ­¥éª¤çš„Promptï¼Œè®©AIè¾“å‡ºæ›´ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆã€‚è¿™éƒ¨åˆ†æ…•é›ªç†è§£çš„ä¹Ÿä¸æ˜¯å¾ˆé€å½»ï¼Œæ‰€ä»¥åªæ˜¯ä¸€ä¸ªæŠ›ç –å¼•ç‰ï¼Œä»…ä¾›å‚è€ƒã€‚</p><h2 id="1-åè¯è§£é‡Š">1. åè¯è§£é‡Š</h2><p>ä»¥ä¸‹æ˜¯æœ¬æ–‡æ¶‰åŠåˆ°çš„éƒ¨åˆ†AIå¤§æ¨¡å‹é¢†åŸŸä¸“æœ‰åè¯çš„è§£é‡Š</p><table><thead><tr><th style="text-align:left">åè¯è§£é‡Š</th><th style="text-align:left">è¯¦ç»†è¯´æ˜</th><th style="text-align:left">å®é™…ä¸¾ä¾‹</th></tr></thead><tbody><tr><td style="text-align:left">Promptï¼ˆæç¤ºè¯ï¼‰</td><td style="text-align:left">Promptï¼ˆæç¤ºè¯ï¼‰å°±æ˜¯ä½ åœ¨ AI Chat æ¡†ä¸­ï¼Œå‘é€ç»™ AI çš„å†…å®¹ã€‚</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Token</td><td style="text-align:left">å¤§æ¨¡å‹è¯­è¨€ä»¥Tokenæ•°è®¡ç®—å¤„ç†ä¿¡æ¯çš„æ•°é‡ã€‚ä½ å¯ä»¥å°†ä¸€ä¸ª Token ç®€å•åœ°ç†è§£ä¸ºä½ è¾“å…¥çš„ä¸€ä¸ªå­—ç¬¦ï¼Œè¾“å…¥çš„å­—ç¬¦è¶Šå¤šï¼Œå ç”¨çš„ Token ä¹Ÿå°±è¶Šå¤šã€‚</td><td style="text-align:left">å®é™…ä¸Šï¼Œä¸€ä¸ªTokenå¯ä»¥åŒ…å«å¤šä¸ªè‹±æ–‡å•è¯å’Œä¸­æ–‡å­—ç¬¦ï¼Œå·¦ä¾§æè¿°â€œä¸€ä¸ªTokenæ˜¯ä¸€ä¸ªå­—ç¬¦â€åªæ˜¯ä¸ºäº†å¸®åŠ©ç†è§£ã€‚<br>ä½ å¯ä»¥ä½¿ç”¨<a href="https://www.token-calculator.com/">Tokenè®¡ç®—å™¨</a>è®¡ç®—ä½ è¾“å…¥çš„ä¿¡æ¯å ç”¨çš„Tokenæ•°é‡ã€‚</td></tr><tr><td style="text-align:left">ä¸Šä¸‹æ–‡ Token</td><td style="text-align:left">å¯¹äºå¤§è¯­è¨€æ¨¡å‹è€Œè¨€ï¼Œå®ƒä»¬èƒ½å¤Ÿæ¥çº³å’Œå¤„ç†çš„ä¿¡æ¯æ˜¯æœ‰ä¸Šé™çš„ï¼Œè¿™ä¸ªé™åˆ¶ï¼Œå°±æ˜¯æœ€å¤§ä¸Šä¸‹æ–‡ Token æ•°ã€‚<strong>AIæ— æ³•å¤„ç†è¶…è¿‡æ¨¡å‹è‡ªèº«ä¸Šä¸‹æ–‡Tokené™åˆ¶çš„æ•°æ®</strong>ã€‚æ³¨æ„ï¼Œ<strong>AIè¾“å‡ºçš„å†…å®¹</strong>ä¹Ÿæ˜¯ä¸Šä¸‹æ–‡Tokençš„ä¸€éƒ¨åˆ†ã€‚<br></td><td style="text-align:left">ä¾‹ï¼šæ¨¡å‹çš„æœ€å¤§ä¸Šä¸‹æ–‡ Token æ•°ä¸º 8000ï¼Œé‚£ä¹ˆ AI è¾“å‡ºçš„å†…å®¹åŠ ä¸Šç”¨æˆ·è¾“å…¥çš„å†…å®¹æ€»å’Œä¸èƒ½è¶…è¿‡ 8000 ä¸ª Tokenã€‚å¦‚æœç”¨æˆ·è¾“å…¥çš„å†…å®¹å·²ç»å ç”¨äº†è¾ƒå¤šçš„ Tokenï¼Œé‚£ä¹ˆ AI è¾“å‡ºçš„å†…å®¹å°±ä¼šç›¸åº”å‡å°‘ï¼Œä»¥ç¡®ä¿æ€»å’Œä¸è¶…è¿‡æœ€å¤§ä¸Šä¸‹æ–‡ Token æ•°ã€‚</td></tr><tr><td style="text-align:left">æœ€å¤§è¾“å‡º Tokenï¼ˆmax_tokens)</td><td style="text-align:left">æœ€å¤§è¾“å‡º Token æ˜¯æŒ‡ AI åœ¨ä¸€æ¬¡å›å¤ä¸­<strong>èƒ½å¤Ÿç”Ÿæˆçš„æœ€å¤§å­—ç¬¦æ•°é‡</strong>ã€‚è¿™ä¸ªæ˜¯ä¸€ä¸ªå•ç‹¬çš„é™åˆ¶ï¼ŒåŒæ—¶è¿™ä¸ªæ•°é‡åŒæ ·å—åˆ°æ¨¡å‹ä¸Šä¸‹æ–‡ Token æ•°çš„é™åˆ¶ã€‚<br></td><td style="text-align:left">ä¾‹ï¼šæ¨¡å‹çš„æœ€å¤§ä¸Šä¸‹æ–‡ Token æ•°ä¸º 8000ï¼Œ<strong>æœ€å¤§è¾“å‡º Token æ•°ä¸º 2000</strong>ï¼Œé‚£ä¹ˆ AI è¾“å‡ºçš„å†…å®¹åŠ ä¸Šç”¨æˆ·è¾“å…¥çš„å†…å®¹æ€»å’Œä¸èƒ½è¶…è¿‡ 8000 ä¸ª Tokenï¼Œå³ä¾¿ç”¨æˆ·è¾“å…¥çš„å†…å®¹è¿œè¿œå°‘äº8000ä¸ªTokenï¼Œ<strong>AIä¹Ÿä¼šåœ¨è¾“å‡ºäº†2000ä¸ªTokenä¹‹å</strong>ï¼Œç”±äº<strong>æœ€å¤§è¾“å‡ºTokené™åˆ¶</strong>è€Œæ— æ³•è¾“å‡ºã€‚</td></tr></tbody></table><h2 id="2-å¼•è¨€ï¼šä¹”å“ˆé‡Œè§†çª—">2. å¼•è¨€ï¼šä¹”å“ˆé‡Œè§†çª—</h2><h3 id="2-1-ä»€ä¹ˆæ˜¯ä¹”å“ˆé‡Œè§†çª—ï¼Ÿ">2.1. ä»€ä¹ˆæ˜¯ä¹”å“ˆé‡Œè§†çª—ï¼Ÿ</h3><p>è¦æƒ³å†™å¥½ä¸€ä¸ªPrompï¼Œæœ€åŸºç¡€çš„é—®é¢˜ï¼Œè‡ªç„¶æ˜¯<strong>ä¸€ä¸ªå¥½çš„Promptåº”å½“éœ€è¦åŒ…å«å“ªäº›å†…å®¹</strong>äº†ã€‚å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼š<a href="https://baike.baidu.com/item/%E4%B9%94%E5%93%88%E9%87%8C%E8%A7%86%E7%AA%97/2501456#:~:text=%E5%85%B3%E4%BA%8E%E6%B2%9F%E9%80%9A%E7%9A%84%E6%8A%80%E5%B7%A7%E5%92%8C%E7%90%86%E8%AE%BA%E4%B9%94%E5%93%88%E9%87%8C%E8%A7%86%E7%AA%97%EF%BC%88Johari%20Window%EF%BC%89%E6%98%AF%E4%B8%80%E7%A7%8D%E5%85%B3%E4%BA%8E%E6%B2%9F%E9%80%9A%E7%9A%84%E6%8A%80%E5%B7%A7%E5%92%8C%E7%90%86%E8%AE%BA%EF%BC%8C%E4%B9%9F%E8%A2%AB%E7%A7%B0%E4%B8%BA%E2%80%9C%E8%87%AA%E6%88%91%E6%84%8F%E8%AF%86%E7%9A%84%E5%8F%91%E7%8E%B0%E2%80%94%E2%80%94%E5%8F%8D%E9%A6%88%E6%A8%A1%E5%9E%8B%E2%80%9D%EF%BC%8C%E4%B8%AD%E5%9B%BD%E7%AE%A1%E7%90%86%E5%AD%A6%E5%AE%9E%E5%8A%A1%E4%B8%AD%E9%80%9A%E5%B8%B8%E7%A7%B0%E4%B9%8B%E4%B8%BA">ä¹”å“ˆé‡Œè§†çª—</a>ï¼ˆJohari Windowï¼‰</p><p>ä¹”å“ˆé‡Œè§†çª—å¹¶ä¸æ˜¯AIæ—¶ä»£æ‰æå‡ºçš„æ¦‚å¿µï¼Œå®ƒæ˜¯ç”±ä¹”ç‘Ÿå¤«ï¼ˆJosephï¼‰å’Œå“ˆé‡Œï¼ˆHarryï¼‰åœ¨20ä¸–çºª50å¹´ä»£æå‡ºçš„ã€‚è§†çª—ç†è®ºå°†äººé™…æ²Ÿé€šçš„ä¿¡æ¯æ¯”ä½œä¸€ä¸ªçª—å­ï¼Œå®ƒè¢«åˆ†ä¸º4ä¸ªåŒºåŸŸï¼šå¼€æ”¾åŒºã€éšç§˜åŒºã€ç›²ç›®åŒºã€æœªçŸ¥åŒºï¼Œäººçš„æœ‰æ•ˆæ²Ÿé€šå°±æ˜¯è¿™å››ä¸ªåŒºåŸŸçš„æœ‰æœºèåˆã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/bd7d2bcd4e0f68aaa9f11859dce881b9.webp" alt="image.png"></p><p>åŒç†ï¼Œæˆ‘ä»¬å’ŒAIçš„æœ‰æ•ˆäº¤æµï¼Œä¹Ÿç¬¦åˆä¹”å“ˆé‡Œè§†çª—å››ä¸ªåŒºåŸŸçš„æ¦‚å¿µï¼š</p><ul><li>å¼€æ”¾åŒºï¼šæˆ‘ä»¬çŸ¥é“ï¼ŒAIçŸ¥é“ã€‚æ­¤ç±»é—®é¢˜ï¼Œåœ¨Promptä¸­æ— éœ€å¤šè¨€ã€‚<ul><li>ä¸¾ä¾‹ï¼šä½ æƒ³è®©AIå¸®ä½ å†™ä¸€ä¸ªCè¯­è¨€çš„hello worldï¼Œä½ ä¸éœ€è¦æŠŠCè¯­è¨€çš„ç¼–ç¨‹æ‰‹å†Œå…¨éƒ¨å‘ç»™AIï¼Œå› ä¸ºè¿™ä¸ªçŸ¥è¯†ï¼Œæ˜¯AIå·²ç»çŸ¥é“çš„å†…å®¹ã€‚</li></ul></li><li>éšè”½åŒºï¼šæˆ‘ä»¬çŸ¥é“ï¼ŒAIä¸çŸ¥é“ã€‚æ­¤ç±»é—®é¢˜ï¼Œåœ¨Promptä¸­éœ€è¦ç€é‡æè¿°ã€‚<ul><li>ä¸¾ä¾‹ï¼šä½ å¸Œæœ›è®©AIå¸®ä½ è¡¥å……è®ºæ–‡ä¸­çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œæ­¤æ—¶ä½ å¸Œæœ›AIä»¥å­¦æœ¯è®ºæ–‡çš„é£æ ¼è¾“å‡ºæ–‡å­—ã€‚ä½†å¦‚æœä¸å°†â€œä»¥å­¦æœ¯è®ºæ–‡çš„è¦æ±‚è¾“å‡º&quot;åœ¨Prompté‡Œé¢å‘Šè¯‰AIï¼ŒAIå°±ä¸ä¼šçŸ¥é“è¿™ä¸ªéœ€è¦ï¼Œå¤§æ¦‚ç‡ä¼šç”¨å£è¯­åŒ–è¡¨è¾¾è¾“å‡ºä½ æƒ³è¦çš„å†…å®¹ï¼Œè€Œè¿™éƒ¨åˆ†å†…å®¹å¹¶ä¸æ˜¯ä½ éœ€è¦çš„ç»“æœã€‚</li></ul></li><li>ç›²ç‚¹åŒºï¼šæˆ‘ä»¬ä¸çŸ¥é“ï¼ŒAIçŸ¥é“ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦AIå¸®å¿™è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œå°±æ˜¯æƒ³è®©AIè¡¥å……æˆ‘ä»¬çš„ç›²ç‚¹åŒºã€‚<ul><li>ä¸¾ä¾‹ï¼šä½ è®©AIå¸®ä½ å®ç°ä¸€ä¸ªè„šæœ¬çš„æ—¶å€™ï¼Œåªè¯´äº†éœ€æ±‚ï¼Œæ²¡æœ‰æŒ‡å®šè„šæœ¬çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ­¤æ—¶AIä¼šæ ¹æ®ä½ çš„ä¸Šä¸‹æ–‡æ¨æµ‹ä½ æƒ³è¦çš„ç¼–ç¨‹è¯­è¨€æ˜¯è°ï¼Œæœ€ç»ˆè¾“å‡ºè¿™ä¸ªè¯­è¨€çš„è„šæœ¬ã€‚</li></ul></li><li>æœªçŸ¥åŒºï¼šæˆ‘ä»¬ä¸çŸ¥é“ï¼ŒAIä¹Ÿä¸çŸ¥é“ã€‚å¸¸è§äºå¤´è„‘é£æš´ã€æ–‡å­—ç»­å†™ç­‰æ¢ç´¢æ€§çš„åœºæ™¯ã€‚</li></ul><h3 id="2-2-å–„ç”¨ä¹”å“ˆé‡Œè§†çª—">2.2. å–„ç”¨ä¹”å“ˆé‡Œè§†çª—</h3><p>ä¸ç®¡æ˜¯å’ŒAIäº¤æµè¿˜æ˜¯å’Œå…¶ä»–äººäº¤æµï¼Œå–„ç”¨ä¹”å“ˆé‡Œè§†çª—ç†å¿µï¼Œèƒ½å¸®åŠ©ä½ å‡å°‘äº¤æµä¸­å‡ºç°çš„è¯¯è§£ï¼Œæé«˜äº¤æµä½“éªŒå’Œæ•ˆç‡ã€‚æœ€ä½³å®è·µå¦‚ä¸‹ï¼š</p><p><strong>ä¸€ã€æ‰©å¤§å¼€æ”¾åŒº</strong>ï¼š</p><ul><li>æŠŠå¿ƒé‡Œæƒ³è¦çš„éƒ½è¯´å‡ºæ¥ï¼Œä¸è¦ç•™åœ¨â€œéšè—åŒºâ€ã€‚</li><li>ä¾‹å¦‚ï¼šâ€œå†™ä¸€ç¯‡è®ºæ–‡â€ â†’ â€œå†™ä¸€ç¯‡ 2000 å­—çš„ä¸­æ–‡è®ºæ–‡ï¼Œä¸»é¢˜æ˜¯äººå·¥æ™ºèƒ½å¯¹ç¤¾ä¼šå‘å±•çš„å½±å“ï¼Œç”¨æ­£å¼å­¦æœ¯é£æ ¼â€ã€‚</li></ul><p><strong>äºŒã€ç¼©å°ç›²åŒº</strong>ï¼š</p><ul><li>é€šè¿‡åé¦ˆæˆ–ç¤ºä¾‹ï¼Œè®© AI çŸ¥é“ä½ æ²¡æ„è¯†åˆ°çš„é‡è¦ä¿¡æ¯ã€‚</li><li>æ¯”å¦‚AIè¾“å‡ºåï¼Œä½ è§‰å¾—é£æ ¼ä¸å¯¹ï¼Œå°±è¦è¡¥å……ï¼šâ€œå¸Œæœ›é£æ ¼æ›´å£è¯­åŒ–â€ã€‚ä¸‹æ¬¡å°±èƒ½æå‰å†™è¿› Promptã€‚</li></ul><p><strong>ä¸‰ã€åˆ©ç”¨æœªçŸ¥åŒº</strong>ï¼š</p><ul><li>å½“ä½ ä¸ç¡®å®šéœ€æ±‚æ—¶ï¼Œå¯ä»¥æ˜ç¡®è¯´â€œè¯·å…ˆç»™æˆ‘å‡ ä¸ªæ–¹å‘/ç¤ºä¾‹è®©æˆ‘é€‰æ‹©â€ã€‚è¿™æ · AI å¯ä»¥å¸®ä½ æ¢ç´¢éœ€æ±‚ã€‚</li><li>ç›¸åï¼Œå¦‚æœä½ æ˜ç¡®è‡ªå·±éœ€è¦è·å¾—ä»€ä¹ˆç±»å‹çš„ç­”æ¡ˆçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥æ˜ç¡®è¡¨æ˜è®©AIå¾€æŸä¸ªæ–¹å‘è¾“å‡ºç»“æœï¼Œè¿™æ ·AIä¹Ÿä¸ä¼šå‘æ•£çš„ç»™ä½ æä¾›å¤šç§æ–¹æ¡ˆäº†ã€‚</li></ul><h2 id="3-é˜è¿°ï¼šPromptåº”åŒ…å«çš„å†…å®¹">3. é˜è¿°ï¼šPromptåº”åŒ…å«çš„å†…å®¹</h2><p>å¼•å…¥äº†ä¹”å“ˆé‡Œè§†çª—è¿™ä¸ªæ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œä¸€ä¸ªå¥½Promptéœ€è¦åŒ…å«ä»€ä¹ˆå†…å®¹å§ã€‚</p><p>é¦–å…ˆï¼Œä¸€ä¸ªå¥½çš„Promptï¼Œé€šå¸¸éœ€è¦å…·å¤‡ <strong>æ¸…æ™°æ€§ã€å®Œæ•´æ€§å’Œå¯æ“ä½œæ€§</strong>ã€‚è¿™ä¸‰ä¸ªç‰¹æ€§å¯ä»¥åˆ†æˆå¦‚ä¸‹çš„å…³é”®è¦ç´ ï¼š</p><h3 id="3-1-èº«ä»½-è§’è‰²è®¾å®š">3.1. èº«ä»½/è§’è‰²è®¾å®š</h3><p>å¯¹äºå¤§è¯­è¨€æ¨¡å‹è€Œè¨€ï¼Œæˆ‘ä»¬å’Œå®ƒä»¬çš„æ‰€æœ‰äº¤æµéƒ½æ˜¯â€œæ— çŠ¶æ€â€çš„ï¼Œä¸ºäº†æ›´å¥½çš„æ¿€æ´»å¤§è¯­è¨€æ¨¡å‹ä¸­çš„ç‰¹å®šå‚æ•°åŒºï¼Œæˆ‘ä»¬å¯ä»¥ç»™å¤§è¯­è¨€æ¨¡å‹æä¾›ä¸€ä¸ªèº«ä»½è®¾å®šã€‚æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å‘Šè¯‰AIï¼Œç°åœ¨å®ƒæ˜¯ä»€ä¹ˆé¢†åŸŸçš„ä¸“å®¶ã€é¢è¯•å®˜ã€ç¼–è¾‘ã€å¯¼å¸ˆâ€¦â€¦ï¼Œè®©AIæ‰®æ¼”èµ·è¿™ä¸ªè§’è‰²ï¼Œèƒ½è®©AIåœ¨è¿™ä¸ªé¢†åŸŸçš„é—®é¢˜ä¸­æ­£ç¡®æ€è€ƒï¼Œè¾“å‡ºæ›´å¥½çš„ç­”æ¡ˆã€‚</p><p>æ¯”å¦‚ï¼Œä½ éœ€è¦å’¨è¯¢C/C++ç¼–ç¨‹è¯­è¨€çš„é—®é¢˜ï¼Œå°±å¯ä»¥åœ¨ä½ çš„Promptå¼€å¤´å¸¦ä¸Šè¿™æ ·ä¸€å¥è¯ï¼šâ€œä½ æ˜¯ä¸€ä½C/C++ç¼–ç¨‹é¢†åŸŸçš„ä¸“å®¶ï¼Œæ“…é•¿è§£å†³C/C++å­¦ä¹ è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¼šé‡åˆ°çš„é—®é¢˜ã€‚â€</p><p>è¿™æ ·ï¼ŒAIå°±ä¼šç«‹é©¬çŸ¥é“è‡ªå·±éœ€è¦å¸®åŠ©ä½ è§£å†³C/C++æ–¹å‘çš„é—®é¢˜ï¼Œä»è€Œçœå»äº†AIä»ä½ çš„è¾“å…¥ä¸­æ¨å¯¼ä½ éœ€è¦ä»€ä¹ˆç±»å‹çš„è¾…åŠ©è¿™ä¸€æ­¥éª¤ã€‚</p><h3 id="3-2-ä»»åŠ¡ç›®æ ‡">3.2. ä»»åŠ¡ç›®æ ‡</h3><p>ä»»åŠ¡ç›®æ ‡æ˜ç¡®ä½ éœ€è¦AIåšä»€ä¹ˆï¼Œé¿å…æ¨¡ç³Šçš„éœ€æ±‚æè¿°ã€‚</p><p>æ¯”å¦‚ï¼Œå½“ä½ éœ€è¦AIåˆ†æä¸€æ®µä»£ç æŠ¥é”™çš„æ—¶å€™ï¼Œç›´æ¥å‘Šè¯‰AIï¼šâ€œè¯·å¸®æˆ‘åˆ†æè¿™æ®µPythonçš„æŠ¥é”™å †æ ˆï¼Œå‘Šè¯‰æˆ‘å‡ºç°äº†ä»€ä¹ˆé—®é¢˜â€ï¼Œå°±æ¯”â€œå¸®æˆ‘çœ‹çœ‹â€è¿™ç§ç®€å•çš„æè¿°æ›´å¥½ã€‚</p><h3 id="3-3-ä¸Šä¸‹æ–‡ä¿¡æ¯">3.3. ä¸Šä¸‹æ–‡ä¿¡æ¯</h3><p>â€œåœ¨æ²¡æœ‰é”™è¯¯æ—¥å¿—çš„æƒ…å†µä¸‹è¯Šæ–­ä»»ä½•é—®é¢˜ï¼Œæ— å¼‚äºé—­çœ¼å¼€è½¦ã€‚â€</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/27cfad0b678a3f0af0bc905a7e021c60.webp" alt="8619ab2b1b35b27a799f5873b5299168.jpeg"></p><p>å’¨è¯¢é—®é¢˜çš„æ—¶å€™ï¼Œä¸€å®šéœ€è¦æä¾›ç›¸å…³çš„ä¸Šä¸‹æ–‡èƒŒæ™¯ã€‚æ¯”å¦‚åˆ†ææŠ¥é”™ï¼Œå°±éœ€è¦å‘Šè¯‰AIä½ çš„æŠ¥é”™æ—¥å¿—æ˜¯ä»€ä¹ˆã€æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å‘ç”Ÿçš„ã€ä½ å¸Œæœ›è¿™ä¸ªç¨‹åºè¾¾åˆ°çš„ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚</p><p>æ­¤ç±»ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè¶Šå¤šè¶Šå¥½ã€‚å®ƒä»¬æ˜¯AIç†è§£ä»»åŠ¡éœ€æ±‚çš„é‡è¦å‚è€ƒèµ„æ–™ã€‚</p><p>åŒæ—¶ï¼Œæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯çš„æ—¶å€™ï¼Œéœ€è¦éµå¾ªä¸Šæ–‡ä¹”å“ˆé‡Œè§†çª—ç†å¿µï¼Œ<strong>ä¸è¦ç»™AIæä¾›è¿‡é‡çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</strong>ã€‚æ¯”å¦‚æŸä¸ªç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ã€æŸä¸ªå¸¸è§Pythonåº“åº”è¯¥å¦‚ä½•è°ƒç”¨ï¼ˆæ¯”å¦‚requestsåº“å’Œaiohttpåº“ï¼‰ã€å¦‚ä½•ä½¿ç”¨g++ç¼–è¯‘ç¨‹åºç­‰ç­‰â€¦â€¦è¿™ç±»ä¿¡æ¯ï¼Œè™½ç„¶ä¹Ÿæ˜¯å’Œä½ çš„éœ€è¦æ¯æ¯ç›¸å…³ï¼Œä½†å®ƒä»¬éƒ½æ˜¯AIå·²ç»çŸ¥é“çš„å†…å®¹ã€‚è¿‡é‡æä¾›ä¸Šä¸‹æ–‡ï¼Œä¼šå ç”¨AIçš„ä¸Šä¸‹æ–‡tokenï¼Œtokenå ç”¨è¿‡å¤šï¼Œä¼šå¯¼è‡´AIæ›´å®¹æ˜“å‡ºç°â€œå¹»è§‰â€ï¼Œæ— æ³•ç†è§£ä½ çš„éœ€æ±‚ï¼Œæœ€ç»ˆè¾“å‡ºç‰›å¤´ä¸å¯¹é©¬å˜´çš„ç­”æ¡ˆï¼Œæµªè´¹æ—¶é—´ã€‚</p><h3 id="3-4-è¾“å…¥æ•°æ®">3.4. è¾“å…¥æ•°æ®</h3><p>è¿™éƒ¨åˆ†å’Œä¸Šä¸‹æ–‡ä¿¡æ¯æœ‰ä¸€å®šåŒºåˆ«ï¼Œä¸Šä¸‹æ–‡ä¿¡æ¯æ˜¯ä½ å½“å‰æ“ä½œé¡¹ç›®çš„èƒŒæ™¯ä¿¡æ¯ã€‚è€Œè¾“å…¥æ•°æ®æ˜¯ä½ éœ€è¦AIè§£å†³æŸä¸ªé—®é¢˜çš„ç›´æ¥ä¿¡æ¯è¾“å…¥ã€‚</p><ul><li>ä½ éœ€è¦AIæŸ¥è¯¢æœ€æ–°çš„å¤§æ¨¡å‹è®ºæ–‡ï¼Œæ­¤æ—¶â€œå¸®æˆ‘æŸ¥è¯¢æœ€æ–°çš„å¤§æ¨¡å‹è®ºæ–‡â€å°±æ˜¯ä½ çš„ç›´æ¥è¾“å…¥æ•°æ®ï¼Œä¹Ÿæ˜¯ä½ çš„ç›´æ¥è¦æ±‚ã€‚</li><li>ä½ éœ€è¦AIå¸®ä½ è§£å†³ä»£ç æŠ¥é”™çš„æ—¶å€™ï¼Œâ€œå¸®æˆ‘è§£å†³è¿™ä¸ªPythonçš„æŠ¥é”™â€å°±æ˜¯ä½ çš„ç›´æ¥è¾“å…¥ï¼Œè€ŒæŠ¥é”™çš„æ—¥å¿—å±äºè¿™ä¸ªè¾“å…¥çš„é™„åŠ ä¿¡æ¯ã€‚</li></ul><h3 id="3-5-è¾“å‡ºè¦æ±‚">3.5. è¾“å‡ºè¦æ±‚</h3><p>è¾“å‡ºè¦æ±‚çš„ç›®æ ‡æ˜¯æŒ‡å®šç»“æœçš„æ ¼å¼å’Œé£æ ¼</p><ul><li>â€œç”¨è¡¨æ ¼å±•ç¤ºâ€ã€â€œç”¨markdownè¾“å‡ºâ€</li><li>â€œç”¨C++å®ç°â€</li><li>â€œæ§åˆ¶åœ¨300å­—ä»¥å†…â€</li><li>â€œåˆ†ç‚¹å™è¿°ï¼Œé€»è¾‘æ¸…æ™°â€</li><li>â€œä»¥xxxæ ¼å¼è¾“å‡ºç»“æœâ€</li></ul><p>è¿™é‡Œå¯¹<strong>æ ¼å¼é™åˆ¶</strong>åšç‰¹æ®Šè¯´æ˜ï¼šä¸ºäº†å®ç°å¤§æ¨¡å‹è¾…åŠ©æˆ‘ä»¬å®Œæˆä¸€äº›è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œæˆ‘ä»¬å¿…é¡»é™åˆ¶å¤§æ¨¡å‹è¾“å‡ºä¿¡æ¯çš„æ ¼å¼ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬åœ¨ä»£ç ä¸­æ¥æ”¶äº†æ•°æ®ä¹‹åï¼Œè¿›è¡Œæ ¼å¼åŒ–å¤„ç†ã€‚</p><p>æ¯”å¦‚ï¼šâ€œè¯·ä»¥JSONæ ¼å¼è¾“å‡ºä½ çš„åˆ†æç»“è®ºâ€ã€‚è¿™æ ·ï¼ŒAIå¤§æ¨¡å‹å°±ä¼šä»¥JSONæ ¼å¼è¾“å‡ºç»“æœï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è„šæœ¬ä¸­å¯¹AIè¾“å‡ºçš„è¿™æ¡ä¿¡æ¯è¿›è¡Œåºåˆ—åŒ–å¤„ç†ã€‚</p><p>å¦‚æœä¸è¿›è¡Œæ ¼å¼é™åˆ¶ï¼ŒAIè¾“å‡ºçº¯æ–‡æœ¬ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•åœ¨ä»£ç ä¸­å¯¹çº¯æ–‡æœ¬ä¿¡æ¯è¿›è¡Œè§£è¯‘çš„ï¼Œä¹Ÿå°±æ²¡åŠæ³•è‡ªåŠ¨åŒ–çš„åº”ç”¨AIè¾“å‡ºçš„ç»“æœã€‚å› æ­¤ï¼Œé’ˆå¯¹æ­¤ç±»è‡ªåŠ¨åŒ–éœ€æ±‚ï¼Œä¸€å®šä¸€å®šè¦ç‰¢è®°å’ŒAIçº¦å®šè¦ä¸€ä¸ªè¾“å‡ºæ ¼å¼çš„é™å®šæ¡ä»¶ï¼Œä¸”æ­¤é™å®šæ¡ä»¶<strong>éœ€è¦å¤šæ¬¡å¼ºè°ƒ</strong>ï¼Œæ‰èƒ½ä¿è¯AIéµå¾ªã€‚</p><h3 id="3-6-é™åˆ¶æ¡ä»¶">3.6. é™åˆ¶æ¡ä»¶</h3><p>è¯´æ˜å¿…é¡»éµå®ˆçš„è§„åˆ™ï¼šå­—æ•°ã€è¯­æ°”ã€ç¦æ­¢è¾“å‡ºçš„å†…å®¹ã€å¼•ç”¨æ–‡çŒ®çš„æ–¹å¼ã€æ˜¯å¦å…è®¸ä½¿ç”¨å¤–éƒ¨çŸ¥è¯†ç­‰ã€‚</p><p>æ¯”å¦‚ä½ éœ€è¦AIæ ¹æ®æŸä¸ªæ–‡æ¡£è¾“å‡ºç»“è®ºçš„æ—¶å€™ï¼Œå°±å¯ä»¥åœ¨Promptä¸­æ·»åŠ â€œå¿…é¡»ä»¥æ–‡æ¡£ä¸­çš„ä¿¡æ¯æ€»ç»“å¹¶å›ç­”æˆ‘çš„é—®é¢˜ï¼Œä¸¥ç¦ä½¿ç”¨ä»»ä½•å¤–éƒ¨çŸ¥è¯†â€ã€‚</p><h3 id="3-7-ç¤ºä¾‹æˆ–æœŸæœ›é£æ ¼ï¼ˆExamples-Style-Guideï¼‰">3.7. ç¤ºä¾‹æˆ–æœŸæœ›é£æ ¼ï¼ˆExamples / Style Guideï¼‰</h3><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›AIä»¥æŸä¸ªé£æ ¼è¾“å‡ºç­”æ¡ˆï¼Œæ­¤æ—¶å°±å¯ä»¥æ·»åŠ ä¸Šé£æ ¼è¦æ±‚çš„æè¿°ã€‚</p><p>æ¯”å¦‚â€œå‚è€ƒä¸‹é¢è¿™ä¸ªå†™æ³•â€¦â€¦â€æˆ–è€…â€œç”Ÿæˆå’Œè¿™æ®µé£æ ¼ç±»ä¼¼çš„æ–‡æœ¬â€ã€‚</p><h2 id="4-é€ŸæŸ¥ï¼šPromptæ£€æŸ¥å•">4. é€ŸæŸ¥ï¼šPromptæ£€æŸ¥å•</h2><p>äº†è§£äº†ä¸Šè¿°å†…å®¹åï¼Œæƒ³å¿…ä½ å·²ç»æ¸…æ¥šäº†åº”è¯¥å¦‚ä½•å†™ä¸€ä¸ªå¥½çš„Promptäº†ã€‚</p><p>è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™äº›Promptçš„çº¦æŸæ›´å¤šæ˜¯åœ¨é¡¹ç›®å®æˆ˜ç¯èŠ‚ï¼Œä¹Ÿå°±æ˜¯ä½ éœ€è¦AIé•¿æœŸç¨³å®šåœ°ç»™å‡ºä½ æƒ³è¦çš„ç­”æ¡ˆæ—¶ï¼Œæ‰éœ€è¦éµå¾ªçš„ã€‚æ—¥å¸¸æˆ‘ä»¬å’ŒAIå’¨è¯¢é—®é¢˜ï¼Œæ²¡å¿…è¦æ­»å®ˆè¿™äº›åŸåˆ™ï¼Œå¾—åˆ°çš„ç­”æ¡ˆå¥½ä¸å¥½å…ˆä¸æï¼Œæ—¥å¸¸éšä¾¿é—®ä¸ªé—®é¢˜éƒ½æ­»å®ˆåŸåˆ™ï¼Œè‚¯å®šä¼šè®©è‡ªå·±çš„å¿ƒæƒ…ä¸å¥½ã€‚</p><p>åœ¨åç»­çš„é¡¹ç›®å®æˆ˜ç¯èŠ‚ï¼Œä¼šç»™å¤§å®¶å±•ç¤ºå¥½çš„Promptå’Œåçš„Promptçš„å·®è·ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±æµ‹è¯•ä¸€ä¸‹ï¼ŒåŒä¸€ä¸ªé—®é¢˜ï¼Œä¾ç…§ä¸Šè¿°å†…å®¹ç¼–å†™ï¼Œå’Œä¸éµå¾ªä¸Šè¿°å†…å®¹ç¼–å†™ï¼Œå’¨è¯¢AIè·å¾—çš„ç­”æ¡ˆçš„å·®è·ã€‚</p><p>è¿™é‡Œæ…•é›ªç»™å¤§å®¶ä¸€ä¸ªç®€åŒ–çš„Promptç¼–å†™æ£€æŸ¥å•ï¼Œæ–¹ä¾¿å¿«é€Ÿè‡ªæ£€ï¼š</p><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> ä»»åŠ¡ç›®æ ‡ï¼šæˆ‘è¦è®© AI åšä»€ä¹ˆï¼Ÿ</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> ä¸Šä¸‹æ–‡ï¼šéœ€è¦æä¾›å“ªäº›èƒŒæ™¯ï¼Ÿ</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> è¾“å…¥ï¼šAI éœ€è¦å¤„ç†çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> è¾“å‡ºè¦æ±‚ï¼šå¸Œæœ›ç»“æœçš„å½¢å¼/é£æ ¼/é•¿åº¦ï¼Ÿ</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> è¡¥å……ï¼šæœ‰æ²¡æœ‰æˆ‘æ²¡è¯´æ¸…çš„ï¼ŒAI å¯ä»¥æé†’æˆ–ç»™é€‰é¡¹ã€‚</li></ul><h2 id="5-The-end">5. The end</h2><p>æœ¬æ–‡åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºè®¨è®ºï¼</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•å†™å¥½ä¸€ä¸ªåˆ†ä¸ºå¤šä¸ªæ­¥éª¤çš„Promptï¼Œè®©AIè¾“å‡ºæ›´ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Agentå¼€å‘" scheme="https://blog.musnow.top/tags/Agent%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</title>
    <link href="https://blog.musnow.top/posts/6151856853/"/>
    <id>https://blog.musnow.top/posts/6151856853/</id>
    <published>2025-09-15T00:42:09.000Z</published>
    <updated>2025-09-27T09:22:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ¬¢è¿é˜…è¯»æ…•é›ªæ’°å†™çš„AI Agentä¸“æ ï¼Œæœ¬ä¸“æ ç›®å½•å¦‚ä¸‹</p><ol class="series-items"><li><a href="/posts/4710483697/" title="ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“">ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</a></li><li><a href="/posts/6796656750/" title="ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€">ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€</a></li><li><a href="/posts/6151856853/" title="ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ">ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="/posts/5745961587/" title="ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt">ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt</a></li><li><a href="/posts/4044218607/" title="ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’">ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’</a></li></ol><p>æœ¬æ–‡æ˜¯æœ¬ä¸“æ çš„æ­£æ–‡ç¬¬ä¸€ç¯‡ã€‚</p><h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><p>è¦æƒ³æ›´å¥½çš„æŒæ¡AIï¼Œå¹³æ—¥é‡Œå°±å°‘ä¸äº†å’ŒAIçš„äº¤æµã€‚ä»»ä½•äº‹æƒ…éƒ½æ˜¯è¿™æ ·ï¼Œåªæœ‰ç”¨çš„æ›´å¤šï¼Œæ‰æœ‰å¯èƒ½å˜å¾—æ›´åŠ ç†Ÿç»ƒï¼Œæœ€åè¿›è¡ŒAI Agentå¼€å‘çš„æ—¶å€™ï¼Œä¹Ÿèƒ½å¤Ÿæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœç°åœ¨è¿˜åƒä»å‰ä¸€æ ·åªæ˜¯å•ƒBç«™è§†é¢‘æˆ–è€…ä¹¦ç±æ­»å­¦çš„åŒå­¦ï¼Œå¯èƒ½ä¼šé€æ­¥è¢«AIæ—¶ä»£æ·˜æ±°ã€‚</p><p>æœ¬æ–‡æ”¶é›†äº†å½“å‰æœ€ä¸»æµçš„å¤§æ¨¡å‹ï¼Œä»¥åŠå®ƒä»¬çš„å®˜ç½‘ã€é€‚ç”¨åœºæ™¯ã€‚å»ºè®®å¤§å®¶åœ¨ç¼–ç¨‹å­¦ä¹ è¿‡ç¨‹ä¸­æŠŠè¿™ä¸€å †å¤§æ¨¡å‹å…¨éƒ½è‡ªå·±è¯•è¯•ï¼Œçœ‹çœ‹ä»ä½ çš„è§’åº¦å‡ºå‘ï¼Œå“ªä¸€ä¸ªå¤§æ¨¡å‹çš„ä½“éªŒå’Œæ•ˆæœæœ€å¥½ã€‚</p><h2 id="ä¸»æµå¤§æ¨¡å‹ä¸€è§ˆ">ä¸»æµå¤§æ¨¡å‹ä¸€è§ˆ</h2><p>ä¸‹æ ‡å›Šæ‹¬äº†å½“å‰æœ€ä¸»æµçš„å¤§æ¨¡å‹ï¼Œä»¥åŠå®ƒä»¬çš„é€‚ç”¨åœºæ™¯ã€‚å¤§å®¶éƒ½è¦å¤šå»è¯•è¯•è¿™äº›æ¨¡å‹çš„æ•ˆæœå“¦ï¼</p><table><thead><tr><th style="text-align:center">å¤§æ¨¡å‹</th><th style="text-align:center">æœ€æ–°æ¨¡å‹</th><th style="text-align:center">å…¬å¸</th><th style="text-align:center">é€‚ç”¨åœºæ™¯</th><th style="text-align:center">å¤‡æ³¨</th><th style="text-align:center">å®˜ç½‘</th></tr></thead><tbody><tr><td style="text-align:center">GPT ç³»åˆ—</td><td style="text-align:center">GPT-4.5 Turbo</td><td style="text-align:center">OpenAI ğŸ‡ºğŸ‡¸</td><td style="text-align:center">é€šç”¨å¯¹è¯ã€ä»£ç ã€å¤šæ¨¡æ€</td><td style="text-align:center">GPTåº”è¯¥æ˜¯æœ€æ—©è¿›å…¥å¤§ä¼—è§†é‡çš„å¤§æ¨¡å‹äº†</td><td style="text-align:center"><a href="https://chat.openai.com/">https://chat.openai.com/</a></td></tr><tr><td style="text-align:center">Gemini ç³»åˆ—</td><td style="text-align:center">Gemini 2.5 Pro</td><td style="text-align:center">Google / DeepMind ğŸ‡ºğŸ‡¸</td><td style="text-align:center">é•¿æ–‡æœ¬ã€å¤šæ¨¡æ€ã€æœç´¢å¢å¼º</td><td style="text-align:center">è°·æ­Œçš„Geminiåœ¨é•¿æ–‡æœ¬å¤„ç†è¿™å—éå¸¸ç‰›</td><td style="text-align:center"><a href="https://ai.google">https://ai.google</a><br><a href="https://aistudio.google.com/prompts/new_chat">https://aistudio.google.com/prompts/new_chat</a><br><a href="https://gemini.google.com/gem/brainstormer">https://gemini.google.com/gem/brainstormer</a><br><a href="https://notebooklm.google.com/notebook/">https://notebooklm.google.com/notebook/</a></td></tr><tr><td style="text-align:center">Claude ç³»åˆ—</td><td style="text-align:center">Claude 4 Opus</td><td style="text-align:center">Anthropic ğŸ‡ºğŸ‡¸</td><td style="text-align:center">é•¿æ–‡æ¡£ã€å®‰å…¨å¯¹è¯</td><td style="text-align:center">Claudeæ¨¡å‹åœ¨Agentåœºæ™¯æ˜¯ç›®å‰æœ€å¼ºå¤§çš„æ¨¡å‹</td><td style="text-align:center"><a href="https://anthropic.com">https://anthropic.com</a></td></tr><tr><td style="text-align:center">Llama ç³»åˆ—</td><td style="text-align:center">Llama 4 Maverick</td><td style="text-align:center">Meta ğŸ‡ºğŸ‡¸</td><td style="text-align:center">å¼€æºé€šç”¨ã€ä»£ç ã€æ•°å­¦</td><td style="text-align:center">400Bï¼Œå¯å•†ç”¨ï¼ˆé™æ¡ä»¶ï¼‰</td><td style="text-align:center"><a href="https://ai.meta.com">https://ai.meta.com</a></td></tr><tr><td style="text-align:center">æ–‡å¿ƒä¸€è¨€</td><td style="text-align:center">ERNIE-4.5</td><td style="text-align:center">ç™¾åº¦ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">ä¸­æ–‡æœç´¢ã€çŸ¥è¯†é—®ç­”</td><td style="text-align:center">1.4T å‚æ•°ï¼Œå¤šæ¨¡æ€+çŸ¥è¯†å›¾è°±</td><td style="text-align:center"><a href="https://yiyan.baidu.com">https://yiyan.baidu.com</a></td></tr><tr><td style="text-align:center">é€šä¹‰åƒé—®</td><td style="text-align:center">Qwen2.5-Max</td><td style="text-align:center">é˜¿é‡Œå·´å·´ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">é€šç”¨ã€éŸ³è§†é¢‘ã€å¤šè¯­è¨€</td><td style="text-align:center">720Bï¼Œ20T token é¢„è®­ç»ƒ</td><td style="text-align:center"><a href="https://tongyi.aliyun.com">https://tongyi.aliyun.com</a><br><a href="https://chat.qwenlm.ai/">https://chat.qwenlm.ai/</a></td></tr><tr><td style="text-align:center">æ˜Ÿç«</td><td style="text-align:center">æ˜Ÿç« 4.0 Ultra</td><td style="text-align:center">ç§‘å¤§è®¯é£ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">ä¸­æ–‡è¯­éŸ³ã€æ•™è‚²ã€åŠå…¬</td><td style="text-align:center">å¼ºè¯­éŸ³åˆæˆ/è¯†åˆ«</td><td style="text-align:center"><a href="https://xinghuo.xfyun.cn">https://xinghuo.xfyun.cn</a></td></tr><tr><td style="text-align:center">æ··å…ƒ</td><td style="text-align:center">Hunyuan-Pro</td><td style="text-align:center">è…¾è®¯ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">ç¤¾äº¤ã€æ¸¸æˆã€å®¢æœ</td><td style="text-align:center">åƒäº¿çº§ï¼Œæ¸¸æˆ NPC ä¼˜åŒ–</td><td style="text-align:center"><a href="https://yuanbao.tencent.com">https://yuanbao.tencent.com</a></td></tr><tr><td style="text-align:center">è±†åŒ…</td><td style="text-align:center">è±†åŒ… 1.5 Pro</td><td style="text-align:center">å­—èŠ‚è·³åŠ¨ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">çŸ­è§†é¢‘ã€å®¢æœã€åˆ›ä½œ</td><td style="text-align:center">å¤šæ¨¡æ€ï¼Œé•¿ä¸Šä¸‹æ–‡</td><td style="text-align:center"><a href="https://www.doubao.com">https://www.doubao.com</a></td></tr><tr><td style="text-align:center">Kimi</td><td style="text-align:center">Kimi-1.6</td><td style="text-align:center">æœˆä¹‹æš—é¢ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">é•¿æ–‡æœ¬é˜…è¯»ã€æ³•å¾‹ã€é‡‘è</td><td style="text-align:center">200 ä¸‡æ±‰å­—ä¸Šä¸‹æ–‡</td><td style="text-align:center"><a href="https://www.moonshot.cn">https://www.moonshot.cn</a><br><a href="https://www.kimi.com/">https://www.kimi.com/</a></td></tr><tr><td style="text-align:center">ç™¾å·</td><td style="text-align:center">Baichuan4</td><td style="text-align:center">ç™¾å·æ™ºèƒ½ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">åŒ»ç–—ã€ä¸­æ–‡é—®ç­”</td><td style="text-align:center">åŒ»ç–—åœºæ™¯æ·±åº¦ä¼˜åŒ–</td><td style="text-align:center"><a href="https://www.baichuan-ai.com">https://www.baichuan-ai.com</a></td></tr><tr><td style="text-align:center">DeepSeek</td><td style="text-align:center">DeepSeek-V3</td><td style="text-align:center">æ·±åº¦æ±‚ç´¢ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">é‡‘èã€ä¸­æ–‡è¯­ä¹‰</td><td style="text-align:center">1.6Tï¼Œéƒ¨åˆ†å¼€æº</td><td style="text-align:center"><a href="https://chat.deepseek.com/">https://chat.deepseek.com/</a></td></tr><tr><td style="text-align:center">MiniMax</td><td style="text-align:center">MiniMax-Text-02</td><td style="text-align:center">MiniMax ğŸ‡¨ğŸ‡³</td><td style="text-align:center">å¤šè½®å¯¹è¯ã€è¯­éŸ³åˆæˆ</td><td style="text-align:center">åƒäº¿çº§ï¼Œè¯­éŸ³è‡ªç„¶</td><td style="text-align:center"><a href="https://api.minimax.chat">https://api.minimax.chat</a></td></tr><tr><td style="text-align:center">InternLM</td><td style="text-align:center">InternLM3</td><td style="text-align:center">é›¶ä¸€ä¸‡ç‰© ğŸ‡¨ğŸ‡³</td><td style="text-align:center">å¼€æºé€šç”¨ã€æ•™è‚²</td><td style="text-align:center">è½»é‡é•¿æ–‡æœ¬ï¼Œå¯æœ¬åœ°éƒ¨ç½²</td><td style="text-align:center"><a href="https://github.com/InternLM">https://github.com/InternLM</a></td></tr><tr><td style="text-align:center">ç›˜å¤</td><td style="text-align:center">ç›˜å¤ CV-3.0</td><td style="text-align:center">åä¸º ğŸ‡¨ğŸ‡³</td><td style="text-align:center">å·¥ä¸šè§†è§‰ã€é¥æ„Ÿ</td><td style="text-align:center">toBè¡Œä¸šå®šåˆ¶ï¼Œæˆ‘ä»¬ç”¨ä¸äº†</td><td style="text-align:center"><a href="https://www.huaweicloud.com/product/pangu.html">https://www.huaweicloud.com/product/pangu.html</a></td></tr><tr><td style="text-align:center">Mistral</td><td style="text-align:center">Mistral Large 2</td><td style="text-align:center">Mistral AI ğŸ‡«ğŸ‡·</td><td style="text-align:center">å¤šè¯­è¨€ã€ä»£ç ã€æ¨ç†</td><td style="text-align:center">123Bï¼Œå¼€æºæƒé‡</td><td style="text-align:center"><a href="https://mistral.ai">https://mistral.ai</a></td></tr><tr><td style="text-align:center">Command</td><td style="text-align:center">Command R+</td><td style="text-align:center">Cohere ğŸ‡¨ğŸ‡¦</td><td style="text-align:center">ä¼ä¸šæ£€ç´¢ã€RAG</td><td style="text-align:center">104Bï¼Œå•†ç”¨å‹å¥½</td><td style="text-align:center"><a href="https://cohere.com">https://cohere.com</a></td></tr><tr><td style="text-align:center">Grok</td><td style="text-align:center">Grok-3</td><td style="text-align:center">xAI ğŸ‡ºğŸ‡¸</td><td style="text-align:center">å®æ—¶æ•°æ®ã€ç¤¾äº¤å¯¹è¯</td><td style="text-align:center">X å¹³å°æ·±åº¦é›†æˆ</td><td style="text-align:center"><a href="https://x.ai">https://x.ai</a></td></tr><tr><td style="text-align:center">Falcon</td><td style="text-align:center">Falcon3-40B</td><td style="text-align:center">TII ğŸ‡¦ğŸ‡ª</td><td style="text-align:center">å¤šè¯­è¨€ã€å¼€æº</td><td style="text-align:center">å¯å•†ç”¨ï¼Œå·¥å…·è°ƒç”¨</td><td style="text-align:center"><a href="https://huggingface.co/LLM360">https://huggingface.co/LLM360</a></td></tr><tr><td style="text-align:center">GLM</td><td style="text-align:center">GLM-4-32B</td><td style="text-align:center">æ¸…å&amp;æ™ºæº ğŸ‡¨ğŸ‡³</td><td style="text-align:center">ä¸­è‹±åŒè¯­ã€å·¥å…·è°ƒç”¨</td><td style="text-align:center">å¼€æºï¼Œ32B è½»é‡</td><td style="text-align:center"><a href="https://modelscope.cn/organization/THUDM">https://modelscope.cn/organization/THUDM</a></td></tr><tr><td style="text-align:center">LongCat</td><td style="text-align:center">LongCat-Flash-Chat</td><td style="text-align:center">ç¾å›¢ ğŸ‡¨ğŸ‡³</td><td style="text-align:center">ä¸­è‹±åŒè¯­ã€å·¥å…·è°ƒç”¨</td><td style="text-align:center">ç¾å›¢æ¨å‡ºçš„è‡ªç ”å¤§æ¨¡å‹ï¼ŒTokenè¾“å‡ºé€Ÿåº¦è¶…å¿«ã€‚ç›®å‰APIæ¯å¤©å…è´¹50W Tokens</td><td style="text-align:center"><a href="https://longcat.chat/">https://longcat.chat/</a></td></tr></tbody></table><h3 id="æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹">æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹</h3><p>é™¤äº†ä¸Šé¢è¿™äº›å¯ä»¥åœ¨çº¿ä½¿ç”¨çš„å¤§æ¨¡å‹ï¼Œå¤§å®¶è¿˜å¯ä»¥å°è¯•ä¸€ä¸‹ç”¨<a href="https://ollama.com/">https://ollama.com/</a>å’Œ<a href="https://lmstudio.ai/">https://lmstudio.ai/</a>åœ¨æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹ï¼Œä¾æ®ä½ ç”µè„‘é…ç½®çš„ä¸åŒï¼Œå¯ä»¥åœ¨ollamaçš„æ¨¡å‹å¹¿åœºé‡Œé¢é€‰æ‹©ä¸åŒå‚æ•°é‡çš„æ¨¡å‹ï¼Œå»ºè®®ç›´æ¥ç”¨qwen3æ¥æµ‹è¯•ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama pull qwen3:1.7b</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><ul><li>ä»¥æ¸¸æˆæœ¬ä¸ºä¾‹ï¼Œä½ èƒ½å¤Ÿæœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹ï¼Œå°±çœ‹ä½ çš„æ˜¾å­˜å¤§å°æ˜¯å¤šå°‘ã€‚</li><li>æ¯”å¦‚ä½ æ˜¯ä¸€ä¸ª8GBæ˜¾å­˜çš„è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œä½ å°±å¯ä»¥å°è¯•éƒ¨ç½²4Bçš„æ¨¡å‹ï¼›å¦‚æœä½ æ˜¯ä¸€ä¸ª16GBæ˜¾å­˜çš„æ˜¾å¡ï¼Œå°±å¯ä»¥å°è¯•éƒ¨ç½²7Bæˆ–è€…14Bçš„æ¨¡å‹ã€‚</li><li>å¦‚æœä½ ä¸æ˜¯æ¸¸æˆæœ¬ï¼Œæ˜¯æ ¸æ˜¾å•†åŠ¡æœ¬ï¼Œä¹Ÿå¯ä»¥å°è¯•éƒ¨ç½²ä¸€ä¸‹1.7Bçš„å°æ¨¡å‹ï¼ˆç›´æ¥ç”¨CPUè·‘ï¼‰ï¼Œä¹Ÿæ˜¯å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œèµ·æ¥çš„ã€‚</li><li>å¦‚æœæ˜¯Armçš„MACç”µè„‘ï¼Œéƒ¨ç½²æ¨¡å‹ç›´æ¥çœ‹ä½ çš„MACæœ‰å¤šå°‘å†…å­˜å³å¯ã€‚</li></ul><p>ä½ å¯èƒ½ä¼šé—®ï¼šçº¿ä¸Šçš„è¿™äº›å¹³å°ä¸æ˜¯éƒ½æä¾›äº†APIå—ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å°è¯•æœ¬åœ°éƒ¨ç½²æ¨¡å‹ï¼Ÿå°å‚æ•°çš„æ¨¡å‹ä¸æ˜¯å¾ˆåƒåœ¾å—ï¼Ÿ</p><p>å°å‚æ•°çš„æ¨¡å‹ç¡®å®æ•ˆæœä¸å¦‚äººæ„ï¼Œä½†æ˜¯å¯¹äºæœ¬åœ°éƒ¨ç½²æ¨¡å‹è€Œè¨€ï¼Œæœ€é‡è¦çš„æ˜¯ä½ å®æ“è¿‡ollamaå’ŒLM Studioï¼ŒçŸ¥é“æœ¬åœ°éƒ¨ç½²æ¨¡å‹éœ€è¦åšä»€ä¹ˆæ­¥éª¤ã€‚è¿™å°±å¥½æ¯”ä½ åœ¨æœ¬åœ°æŠ˜è…¾è¿‡linuxã€dockerã€jenkinsè¿™äº›ç¯å¢ƒä¸€æ ·ï¼Œåªæœ‰æœ¬åœ°æŠ˜è…¾è¿‡ï¼Œæœªæ¥å·¥ä½œä¸­é‡åˆ°å®é™…ä½¿ç”¨è¿™äº›å·¥å…·çš„æ—¶å€™ï¼Œæ‰ä¸ä¼šæŠ“çã€‚</p><h2 id="The-end">The end</h2><p>æœ¬æ–‡ä¸»è¦è¿˜æ˜¯ä¸ºå¤§å®¶æ”¶é›†äº†ä¸»æµçš„å¤§æ¨¡å‹ä»¥åŠåœ¨å“ªé‡Œä½¿ç”¨å®ƒä»¬ã€‚åç»­å¦‚æœå‡ºç°äº†æ–°çš„æ€§èƒ½è¿˜ä¸é”™çš„å¤§æ¨¡å‹ï¼Œä¼šç»§ç»­æ›´æ–°æœ¬æ–‡ã€‚</p><p>å¤§å®¶å¹³æ—¥å­¦ä¹ ä¸­è¦å­¦ä¼šå……åˆ†å€ŸåŠ©AIï¼Œä½†ä¹Ÿä¸è¦è¿‡åº¦ä¾èµ–AIï¼Œç‰¹åˆ«æ˜¯åˆå­¦è€…ï¼</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡å°†å¸¦å¤§å®¶äº†è§£å½“å‰ä¸»æµçš„å¤§æ¨¡å‹ï¼Œæ±‡æ€»äº†æ‰€æœ‰èƒ½ä½¿ç”¨è¿™äº›æ¨¡å‹çš„å®˜æ–¹ç½‘ç«™</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Agentå¼€å‘" scheme="https://blog.musnow.top/tags/Agent%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€</title>
    <link href="https://blog.musnow.top/posts/6796656750/"/>
    <id>https://blog.musnow.top/posts/6796656750/</id>
    <published>2025-09-06T14:12:23.000Z</published>
    <updated>2025-09-15T00:59:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ…•é›ªå³å°†æ›´æ–°ä¸€å¥—AI Agentæ™ºèƒ½ä½“å¼€å‘çš„ä¸“æ ï¼Œæœ¬æ–‡æ˜¯è¿™ä¸ªä¸“æ çš„å¼•è¨€ã€‚</p><ol class="series-items"><li><a href="/posts/4710483697/" title="ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“">ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</a></li><li><a href="/posts/6796656750/" title="ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€">ã€Agent.01ã€‘AI Agentæ™ºèƒ½ä½“å¼€å‘ä¸“é¢˜å¼•è¨€</a></li><li><a href="/posts/6151856853/" title="ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ">ã€Agent.02ã€‘å¸‚é¢ä¸Šå¸¸è§çš„å¤§æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="/posts/5745961587/" title="ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt">ã€Agent.03ã€‘å¸¦ä½ å­¦ä¼šå†™ä¸€ä¸ªåŸºç¡€çš„Prompt</a></li><li><a href="/posts/4044218607/" title="ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’">ã€Agent.04ã€‘AIæ—¶ä»£çš„hello worldï¼šè°ƒç”¨OpenAIæ¥å£ï¼Œä¸å¤§æ¨¡å‹äº¤äº’</a></li></ol><h2 id="1-å†™åœ¨å‰é¢">1. å†™åœ¨å‰é¢</h2><p>åœ¨å…ˆå‰çš„<a href="https://blog.musnow.top/posts/4710483697">ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</a>ä¸€æ–‡ä¸­ï¼Œæ…•é›ªç®€è¿°äº†ä¸€ä¸‹å½“å‰AIå‘å±•å¯¹26å±Šæ ¡æ‹›äº§ç”Ÿçš„å½±å“ã€‚</p><p>ç›®å‰æ ¡æ‹›çš„å˜åŒ–ï¼Œè¿˜åªæ˜¯åœ¨ç¬”è¯•ã€é¢è¯•å½¢å¼ä¸Šå‘ç”Ÿçš„å½±å“ï¼Œæš‚æ—¶è¿˜æ²¡æœ‰å‡ºç°åœ¨é¢è¯•å†…å®¹ä¸­è€ƒæ ¸æ ¡æ‹›ç”Ÿå¯¹AI Agentå¼€å‘ç†è§£ç¨‹åº¦çš„æƒ…å†µã€‚ä½†æ…•é›ªè®¤ä¸ºï¼Œå¼€å‘å²—ä¸­å¼€å§‹è€ƒæ ¸AI Agentå¼€å‘ç›¸å…³å†…å®¹ï¼Œ<strong>ä¸€å®šä¼šå‘ç”Ÿ</strong>ï¼Œåªæ˜¯æ—¶é—´é—®é¢˜ç½¢äº†ã€‚</p><p>ä»¥åçš„<strong>å¼€å‘å²—</strong>ï¼ŒåŒ…æ‹¬å‰ç«¯ã€åç«¯ã€å®¢æˆ·ç«¯ã€æµ‹å¼€ï¼Œéƒ½ä¸€å®šä¼šè€ƒæ ¸AI Agentå¼€å‘ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå¦‚ä¸‹å‡ ç‚¹ï¼š</p><ul><li>åŸºç¡€ï¼šç¼–ç¨‹å­¦ä¹ ä¸­æ˜¯å¦ä¼šä½¿ç”¨AIå·¥å…·è¾…åŠ©ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿèƒ½å¦å¾ˆå¥½çš„ä½¿ç”¨ï¼Ÿ<ul><li>ç›®å‰ç¾å›¢ç§‹æ‹›ä¸­å¼•å…¥çš„vibe codingç¯èŠ‚æœ¬è´¨ä¸Šå°±æ˜¯åœ¨è€ƒæ ¸è¿™ä¸€å±‚ï¼Œç®—æ˜¯AIæ—¶ä»£çš„ç ”å‘åŸºæœ¬åŠŸã€‚</li></ul></li><li>åˆçº§ï¼šæ˜¯å¦èƒ½å¤Ÿç¼–å†™ä¸€ä¸ªå¾ˆå¥½çš„Promptï¼ˆPromptå·¥ç¨‹ï¼Œç°åœ¨å˜æˆContextå·¥ç¨‹äº†ï¼‰</li><li>ä¸­çº§ï¼šæ˜¯å¦äº†è§£AIçš„Function Callingå’ŒMCPï¼Ÿæ˜¯å¦è°ƒç”¨è¿‡OpenAIæ ¼å¼æ¥å£ä¸AIäº¤äº’ï¼Ÿ<ul><li>æœ€ä½³å®è·µï¼šä¸ºè‡ªå·±çš„å‰åç«¯é¡¹ç›®å¼•å…¥ä¸€ä¸ª<strong>ç•Œé¢ä½¿ç”¨æ–¹å¼</strong>çš„AIé—®ç­”æœºå™¨äººã€‚</li></ul></li><li>é«˜çº§ï¼šæ˜¯å¦äº†è§£AI Agentï¼Ÿæœ‰æ²¡æœ‰ç¼–å†™è¿‡AI Agentä¸ºè‡ªå·±çš„é¡¹ç›®èµ‹èƒ½ï¼Ÿ<ul><li>æœ€ä½³å®è·µï¼šåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¼•å…¥äº†AI Agentï¼Œå¹¶ä¸”è¿™ä¸ªAgentèƒ½å¤Ÿæ„ŸçŸ¥å½“å‰ç³»ç»Ÿçš„çŠ¶æ€ï¼Œå‘ŠçŸ¥ç”¨æˆ·ä¸‹ä¸€æ­¥åº”è¯¥åšä»€ä¹ˆï¼Œ<strong>æœ€å¥½æ˜¯èƒ½å¤Ÿç›´æ¥å¸®åŠ©ç”¨æˆ·æ“ä½œ</strong>ã€‚</li><li>QAæœ€ä½³å®è·µï¼šåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¼•å…¥AI Agentï¼Œè¿›è¡Œæµ‹è¯•ç”¨ä¾‹ç¼–å†™ã€æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡è·å–ã€ä¼˜åŒ–æµ‹è¯•ç”¨ä¾‹çš„å…¨ç¯èŠ‚ã€‚è¿™éƒ¨åˆ†å¯ä»¥å’ŒCI/CDç»“åˆã€‚</li><li><strong>æ³¨æ„</strong>ï¼Œäº†è§£AI Agentä¸åªæ˜¯äº†è§£Agentå¼€å‘æ¡†æ¶ï¼Œè¿˜éœ€è¦å¯¹ä¸»æµAgentå¯ä»¥è°ƒç”¨çš„å·¥å…·è¿›è¡Œäº†è§£ï¼Œæ¯”å¦‚browser-useã€codebaseã€gitã€å‘½ä»¤è¡Œå·¥å…·ç­‰ç­‰â€¦â€¦</li></ul></li></ul><p>æ…•é›ªè®¤ä¸ºï¼šæ˜å¹´27å±Šç§‹æ‹›å°±ä¼šå¼€å§‹è€ƒæ ¸è¿™äº›å†…å®¹äº†ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ èƒ½å¤Ÿç›¸æ¯”äºå…¶ä»–ç«äº‰å¯¹æ‰‹ï¼Œ<strong>æå‰</strong>äº†è§£AI Agentç›¸å…³çš„ä¿¡æ¯ï¼Œæƒ³åŠæ³•åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¼•å…¥ä¸€ä¸ªAI Agentï¼Œç»å¯¹èƒ½åœ¨äº’è”ç½‘å¤§å‚çš„æ ¡æ‹›ç”Ÿæ‹›è˜ä¸­å¤§å¤§çš„æåˆ†ï¼ˆç‰¹åˆ«æ˜¯æµ‹è¯•å¼€å‘å²—ä½ï¼‰ã€‚</p><p>äº†è§£AIç›¸å…³åŠ¨æ€çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠå›½å†…çš„â€œAIä¸‰å¤§é¡¶ä¼šâ€å¾®ä¿¡å…¬ä¼—å·å…³æ³¨èµ·æ¥ï¼š</p><ol><li>æœºå™¨ä¹‹å¿ƒ</li><li>é‡å­ä½</li><li>æ–°æ™ºå…ƒ</li></ol><p>è¿™ä¸‰ä¸ªå…¬ä¼—å·ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºâ€œé¡¶ä¼šâ€ï¼Œå¹¶ä¸æ˜¯å®ƒä»¬æœ‰å¤šæƒå¨ï¼Œåªæ˜¯è¿™ä¸‰ä¸ªå…¬ä¼—å·åœ¨ä¼ æ’­AIè¡Œä¸šæœ€æ–°å‘å±•åŠ¨æ€ä¸Šéå¸¸åŠæ—¶ï¼Œä¸”æ–‡ä¸­ä¹Ÿä¸åªæ˜¯ç©ºè°ˆç†è®ºï¼Œä¹Ÿä¼šæœ‰å®é™…æµ‹è¯•çš„æ¼”ç¤ºã€‚å¯¹æˆ‘ä»¬äº†è§£æœ€æ–°AIå‘å±•éå¸¸æœ‰å¸®åŠ©ã€‚</p><p>é™¤äº†ä¸Šé¢è¿™ä¸‰ä¸ªâ€œé¡¶ä¼šâ€ï¼ŒInfoQä¹Ÿå¯ä»¥å…³æ³¨ä¸€ä¸‹ã€‚</p><h2 id="2-ä¸“æ å†…å®¹">2. ä¸“æ å†…å®¹</h2><h3 id="2-1-è¯´æ˜">2.1. è¯´æ˜</h3><p>æœ¬ä¸“æ å°†å¸®åŠ©å¤§å®¶ï¼Œä»å†™Promptä¸AIäº¤äº’å¼€å§‹ï¼Œä¸€ç›´åˆ°åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹Agentçš„é¡¹ç›®å®æˆ˜ï¼ˆé€‰è¿™ä¸ªä¸»é¢˜ï¼Œæ˜¯å› ä¸ºå®ƒå’Œè¯­è¨€ã€é¡¹ç›®ä¸å¼ºä¾èµ–ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å‰åç«¯é¡¹ç›®éƒ½å¯ä»¥å¹²ä¸Šå»ï¼‰ã€‚</p><p>æ•´ä¸ªä¸“æ ä¸éœ€è¦ä½ å¯¹AIæœ‰ä»»ä½•äº†è§£ï¼Œåªéœ€è¦äº†è§£PythonåŸºç¡€è¯­æ³•å³å¯ã€‚ä¸ä¼šPythonä¹Ÿæ²¡å…³ç³»ï¼ŒPythonæ˜¯æœ€å¥½å­¦çš„è¯­è¨€äº†ï¼Œç°åœ¨éƒ½æœ‰AIäº†ï¼ŒæŠŠæ–‡ä¸­æ¶‰åŠåˆ°çš„ä»£ç è´´ç»™AIè®©ä»–ç»™ä½ è§£é‡Šè§£é‡Šï¼Œæ˜¯æœ€å¿«çš„å­¦ä¹ æ–¹å¼ã€‚</p><p>åŒæ—¶ï¼Œæ•´ä¸ªä¸“æ çš„æ‰€æœ‰èµ„æ–™éƒ½ä¼šåœ¨æˆ‘çš„ä¸ªäººåšå®¢å’Œæˆ‘çš„Githubä¸Šæ›´æ–°ï¼Œä¸ä¼šæ¶‰åŠåˆ°ä»»ä½•çŸ¥è¯†ä»˜è´¹å†…å®¹ï¼ä¸è¿‡å‘¢ï¼Œåç»­ä¸ºäº†æµ‹è¯•ï¼Œä¼šæ¶‰åŠåˆ°è°ƒç”¨<strong>ç¡…åŸºæµåŠ¨</strong>çš„OpenAI APIï¼Œå„ä½è·Ÿéšæœ¬ä¸“æ å­¦ä¹ çš„æ—¶å€™ï¼Œä¼šåœ¨ç¡…åŸºæµåŠ¨ä¸Šä¼šæœ‰ä¸€å®šAPIè°ƒç”¨è´¹ç”¨æ”¯å‡ºã€‚</p><h3 id="2-2-ç›®å½•">2.2. ç›®å½•</h3><p>æœ¬ä¸“æ ç›®å½•å¦‚ä¸‹ï¼š</p><ol><li>å¼•è¨€ï¼ˆæœ¬æ–‡ï¼‰</li><li>å½“å‰æœ‰å“ªäº›å¸¸è§çš„å¤§æ¨¡å‹å‘¢ï¼Ÿï¼ˆå¤§æ¨¡å‹å¹³å°æ”¶é›†ï¼‰</li><li>å¦‚ä½•å†™å¥½ä¸€ä¸ªPromptï¼ˆå…¶å®æ…•é›ªä¹Ÿä¸æ˜¯å¾ˆä¼šï¼Œæ‰€ä»¥åªæ˜¯æŠ›ç –å¼•ç‰ï¼‰</li><li>ä½¿ç”¨Pythonï¼Œç¼–å†™ç¬¬ä¸€ä¸ªé€šè¿‡OpenAI APIä¸å¤§æ¨¡å‹äº¤äº’çš„ä»£ç ï¼ˆAIæ—¶ä»£çš„hello worldï¼‰</li><li>ä»€ä¹ˆæ˜¯Function Callingå’ŒMCPï¼Ÿï¼ˆè¿™éƒ¨åˆ†å…¶å®å·²ç»æœ‰äº†ï¼Œè§æœ¬ç«™<a href="https://blog.musnow.top/posts/2831928244">MCPåè®®ä»‹ç»</a>)</li><li>ä»€ä¹ˆæ˜¯Agentï¼Ÿï¼ˆæ¦‚å¿µå¼•å…¥ï¼‰</li><li>ä½¿ç”¨OpenAI Agentæ¡†æ¶ï¼Œç¼–å†™ä¸€ä¸ªæœ€ç®€å•çš„AgentèŒƒä¾‹</li><li>å¸¸ç”¨çš„Agentå¯è°ƒç”¨å·¥å…·æœ‰å“ªäº›ï¼Ÿï¼ˆå¼•å…¥ä¸»æµMCPå·¥å…·ï¼‰</li><li>é¡¹ç›®å®æˆ˜ï¼šåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¼•å…¥ä¸€ä¸ªç”¨ä¾‹ç¼–å†™å…¨æµç¨‹Agentã€‚</li></ol><p>æ³¨æ„ï¼Œ<strong>è¯·ä¸è¦æŠŠOpenAI APIå’ŒOpenAPIç»™ææ··äº†</strong>ï¼ŒOpenAI APIä¸“é—¨æŒ‡ä»£OpenAIå…¬å¸å‘å¸ƒçš„ä¸AIäº¤äº’çš„APIè¯·æ±‚æ ¼å¼ï¼Œè€ŒOpenAPIå«ä¹‰æ˜¯æŸä¸ªç³»ç»Ÿå¯¹å¤–å¼€æ”¾çš„APIã€‚æœ¬è´¨ä¸Šï¼ŒOpenAI APIä¹Ÿæ˜¯OpenAPIçš„ä¸€ç§ã€‚</p><h3 id="2-3-æµ‹è¯•ç”¨ä¾‹Agentå®æˆ˜">2.3. æµ‹è¯•ç”¨ä¾‹Agentå®æˆ˜</h3><h4 id="2-3-1-Agentå·¥ä½œæµç¨‹å›¾">2.3.1. Agentå·¥ä½œæµç¨‹å›¾</h4><p>å…¶ä¸­é’ˆå¯¹é¡¹ç›®å®æˆ˜ä¸­çš„<strong>ç”¨ä¾‹ç¼–å†™Agent</strong>åšä¸€å®šè§£é‡Šï¼Œå¸¸è§çš„ç”¨ä¾‹ç¼–å†™Agentæ¶‰åŠåˆ°å¦‚ä¸‹ç¯èŠ‚</p><pre><code class="highlight mermaid">flowchart TD    A([Agentå¯åŠ¨]) --&gt; C[ç”Ÿæˆ/æ›´æ–°æµ‹è¯•ç”¨ä¾‹]    C --&gt; D[è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•]    D --&gt; E[æ”¶é›†è¦†ç›–ç‡æŠ¥å‘Š]    E --&gt; F&#123;è¦†ç›–ç‡è¾¾æ ‡?&#125;    F --&gt;|å¦| G[å®šä½æœªè¦†ç›–ä»£ç ]    G --&gt; H[æ™ºèƒ½è¡¥å……æµ‹è¯•ç”¨ä¾‹]    H --&gt; D    F --&gt;|æ˜¯| I[ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š]    I --&gt; J([Agentä¼‘çœ /ç­‰å¾…ä¸‹æ¬¡è§¦å‘])        style A fill:#90EE90    style J fill:#FFB6C1</code></pre><p>åœ¨ä¼ ç»Ÿæ—¶ä»£ï¼Œä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œ<strong>éƒ½æ¶‰åŠåˆ°äººå»åš</strong>ã€‚å³ä¾¿ä¼ ç»Ÿçš„CI/CDå·¥å…·ï¼ˆå¦‚Jenkinsï¼‰èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®Œæˆè¿è¡Œæµ‹è¯•+è¦†ç›–ç‡æŠ¥å‘Šå¡æ§çš„æ­¥éª¤ï¼Œç”¨ä¾‹ç¼–å†™ã€è¦†ç›–ç‡æŠ¥å‘Šåˆ†æã€è¡¥å……ç”¨ä¾‹çš„ç¯èŠ‚ä¹Ÿè¿˜æ˜¯éœ€è¦äººå»åšã€‚</p><p>ç°åœ¨AI Agentçš„è¯ç”Ÿï¼Œè®©æµ‹è¯•ç”¨ä¾‹ç¼–å†™çš„æ‰€æœ‰çš„æµç¨‹éƒ½å¯ä»¥å®ç°Agentâ€œè‡ªå›å½’â€äº†ã€‚æ‰€è°“è‡ªå›å½’ï¼Œå°±æ˜¯Agentèƒ½å¤Ÿæ ¹æ®æµ‹è¯•ç”¨ä¾‹è¿è¡Œç»“æœï¼ˆè°å¤±è´¥äº†ï¼Ÿï¼‰å’Œè¦†ç›–ç‡æŠ¥å‘Šï¼ˆå“ªé‡Œæ²¡è¦†ç›–åˆ°ï¼Ÿï¼‰åŠ¨æ€çš„ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ï¼Œç›´åˆ°è¾¾æˆæˆ‘ä»¬è®¾å®šçš„è¦†ç›–ç‡æŒ‡æ ‡ã€‚äººåªéœ€è¦å»è®¾å®šä½•æ—¶è§¦å‘è¿™ä¸ªæµç¨‹ï¼Œå‰©ä¸‹çš„æ‰€æœ‰äº‹æƒ…éƒ½ç”±AIä»£åŠ³ã€‚</p><p>åœ¨ä¼ ç»Ÿçš„å¯¹è¯å¼AIäº¤äº’çš„æ¨¡å¼ä¸‹ï¼Œæ˜¯æ— æ³•å®ç°AIè‡ªå›å½’ç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„ã€‚è¿™ä¸ªéå¸¸ç®€å•çš„æµç¨‹å›¾ï¼Œç›´æ¥ä½“ç°äº†AI Agentå¯¹æ•´ä¸ªè¡Œä¸šçš„å·¨å¤§å½±å“ã€‚ä½ æƒ³æƒ³ï¼ŒåŸæœ¬éœ€è¦ä¸€ä¸ªå¯¹é¡¹ç›®æœ‰äº†è§£çš„åŒå­¦æ‰å¯ä»¥ç¼–å†™è¿™ä¸ªé¡¹ç›®çš„æµ‹è¯•ç”¨ä¾‹ã€‚ç°åœ¨AIæ¥äº†ï¼Œåªè¦ä½ ä¼šå†™Agentï¼Œç›´æ¥å’”å’”ç¼–å†™ä¸€ä¸ªAgentå·¥ä½œæµå’Œå¯¹äºPromptï¼Œä¸€å¯åŠ¨ï¼ŒAIæ¡†æ¡†å¹²ï¼Œå‹æ ¹ä¸éœ€è¦äººçš„ä»‹å…¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ£€æŸ¥AIå·¥ä½œçš„ç»“æœå¯¹ä¸å¯¹å°±è¡Œäº†ã€‚</p><p>é•¿æœŸæ¥çœ‹ï¼ŒAI Agentçš„å¼•å…¥å¯¹é¡¹ç›®å¼€å‘æ•ˆç‡çš„æå‡æ˜¯éå¸¸å¤§çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨æ‰€æœ‰äº’è”ç½‘å…¬å¸éƒ½åœ¨æ•´AIä¸“é¡¹ï¼ŒAIç›¸å…³çš„æ–°é—»æ›´æ˜¯å¸¸å¸¸åˆ·å±ã€‚</p><h4 id="2-3-2-ä»€ä¹ˆæ˜¯æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡ï¼Ÿ">2.3.2. ä»€ä¹ˆæ˜¯æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡ï¼Ÿ</h4><p>å¯¹ä¸äº†è§£æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡æŒ‡æ ‡çš„åŒå­¦åšä¸€ä¸ªç®€å•çš„è§£é‡Šã€‚</p><p>è¦†ç›–ç‡æŒ‡æ ‡åŒ…å«å‡½æ•°è¦†ç›–ç‡ã€è¡Œè¦†ç›–ç‡ã€åˆ†æ”¯è¦†ç›–ç‡ï¼š</p><ul><li>å‡½æ•°è¦†ç›–ç‡ï¼šè¿è¡Œé¡¹ç›®åï¼Œæœ‰å“ªäº›å‡½æ•°è¢«è°ƒç”¨äº†?</li><li>è¡Œè¦†ç›–ç‡ï¼šè¿è¡Œé¡¹ç›®åï¼Œæœ‰å“ªäº›ä»£ç è¡Œè¢«æ‰§è¡Œäº†ï¼Ÿ</li><li>åˆ†æ”¯è¦†ç›–ç‡ï¼ˆè¿›é˜¶ï¼‰ï¼šè¿è¡Œé¡¹ç›®åï¼Œä»£ç ä¸­ifåˆ¤æ–­ç›¸å…³çš„åˆ†æ”¯å‘½ä¸­äº†å‡ ä¸ªï¼Ÿ</li></ul><p>ç¼–ç¨‹è¯­è¨€æ˜¯Cã€C++ã€Object-Cçš„é¡¹ç›®ï¼Œå¸¸ç”¨çš„è¦†ç›–ç‡å·¥å…·æ˜¯<a href="https://github.com/linux-test-project/lcov">lcov</a>ã€‚æœ¬ç«™ä¹‹å‰ç¼–å†™è¿‡lcovå·¥å…·å®‰è£…é…ç½®çš„åšå®¢ï¼š<a href="https://blog.musnow.top/posts/1274282021">å®‰è£…locv</a>ï¼Œå­¦C++æ–¹å‘çš„åŒå­¦å¯ä»¥å…ˆè¯•è¯•å¼€å¯è‡ªå·±é¡¹ç›®çš„è¦†ç›–ç‡ç»Ÿè®¡å¹¶æ”¶é›†ä¸€ä¸‹lcovæŠ¥å‘Šã€‚</p><blockquote><p>JAVAè¿™è¾¹å¸¸ç”¨çš„è¦†ç›–ç‡å·¥å…·æ˜¯<a href="https://www.jacoco.org/jacoco/">jacoco</a>ï¼Œå­¦JAVAçš„åŒå­¦å¯ä»¥å»äº†è§£ä¸€ä¸‹ã€‚</p></blockquote><p>é’ˆå¯¹ä¸€ä¸ªé¡¹ç›®ï¼Œå¸¸è§çš„æµ‹è¯•æ–¹å¼åŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼ˆæ¥å£æµ‹è¯•ï¼‰ã€ç³»ç»Ÿæµ‹è¯•ã€‚å…¶ä¸­ï¼Œ<strong>å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•</strong>æ˜¯èƒ½å¤Ÿè·å–åˆ°æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡çš„ã€‚æœ¬Agentå®æˆ˜é¡¹ç›®å°†ä»¥å•å…ƒæµ‹è¯•ä¸ºä¾‹è¿›è¡ŒAgentç”¨ä¾‹ç¼–å†™ï¼Œè¿™ä¹Ÿæ˜¯èƒ½ç»™ä½ çš„é¡¹ç›®åŠ ä¸Šä¸€ä¸ªAI Agentçš„æœ€å¿«ã€æœ€ç¨³å¦¥çš„æ–¹å¼ã€‚</p><h2 id="3-The-end">3. The end</h2><p>ç”±äºä¸“æ æ¶‰åŠåˆ°çš„å†…å®¹æ¯”è¾ƒå¤šï¼Œæ…•é›ªå¹³æ—¶å·¥ä½œä¹ŸæŒºç¹å¿™çš„ï¼Œåªæœ‰å‘¨æœ«æœ‰æ—¶é—´æ›´æ–°ã€‚æ‰€ä»¥æ•´ä¸ªä¸“æ çš„æ›´æ–°éšç¼˜ã€‚æˆ‘å°½é‡åœ¨26å¹´çš„æš‘æœŸå®ä¹ æ‹›è˜ï¼ˆ27å±Šæš‘æœŸå®ä¹ æ‹›è˜ï¼‰å¼€å§‹ä¹‹å‰å®Œæˆæ•´ä¸ªä¸“æ ã€‚</p><p>æ‰€æœ‰å†…å®¹éƒ½æ˜¯æ…•é›ªæœ¬äººå¯¹AI Agentå¼€å‘çš„æ„šè§ï¼Œä»…ä¾›å‚è€ƒï¼Œä¸ä¿è¯æœ‰æ•ˆæ€§ï¼æ›´ä¸ä¿è¯å­¦äº†æœ¬é¡¹ç›®ä¸€å®šèƒ½åœ¨é¢è¯•ä¸­æœ‰å¤§ä¼˜åŠ¿ï¼</p>]]></content>
    
    
    <summary type="html">æ…•é›ªå³å°†æ›´æ–°ä¸€å¥—AI Agentæ™ºèƒ½ä½“å¼€å‘çš„ä¸“æ ï¼Œæœ¬æ–‡æ˜¯è¿™ä¸ªä¸“æ çš„å¼•è¨€</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Agentå¼€å‘" scheme="https://blog.musnow.top/tags/Agent%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€AIã€‘AIå¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“</title>
    <link href="https://blog.musnow.top/posts/4710483697/"/>
    <id>https://blog.musnow.top/posts/4710483697/</id>
    <published>2025-08-31T07:12:29.000Z</published>
    <updated>2025-09-14T00:21:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€å•èŠèŠå½“å‰AIå‘å±•å¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“ï¼Œæœ¬æ–‡ä»…ä¸ºæ…•é›ªçš„ä¸ªäººè§‚ç‚¹ï¼Œä»…ä¾›å‚è€ƒï¼Œè¯·å‹¿æ–­ç« å–ä¹‰ã€‚æœ‰ä¸åŒçš„è§‚ç‚¹ï¼Œæ¬¢è¿è¯„è®ºåŒºè®¨è®ºã€‚</p><p>å¦‚æœä½ ä¸æƒ³çœ‹æ…•é›ªè¯­å¥ä¸é€šé¡ºçš„çæ¯”æ¯”ï¼Œè¯·ç›´æ¥è·³åˆ°æœ€åçœ‹å°ç»“ã€‚</p><h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><p>æ—©åœ¨å‡ åå¹´å‰ï¼Œäººç±»å°±å·²ç»é¢„è§åˆ°äººå·¥æ™ºèƒ½è“¬å‹ƒå‘å±•çš„æœªæ¥ã€‚â€œäººå·¥æ™ºèƒ½å–ä»£äººç±»â€è¿™ä¸€è§‚ç‚¹ï¼Œæ›´æ˜¯ä¸å°‘å½±è§†ä½œå“ä¸æ–‡å­¦ä½œå“ä¸­åå¤æ¢è®¨çš„æ ¸å¿ƒä¸»é¢˜ã€‚ä»ã€Š2001å¤ªç©ºæ¼«æ¸¸ã€‹ä¸­çš„æ™ºèƒ½è®¡ç®—æœºHALï¼Œåˆ°ã€Šç»ˆç»“è€…ã€‹ç³»åˆ—ä¸­çš„å¤©ç½‘ç³»ç»Ÿï¼Œå†åˆ°è¿‘å¹´æ¥å±‚å‡ºä¸ç©·çš„äººå·¥æ™ºèƒ½é¢˜æç”µå½±ä¸å°è¯´ï¼Œç¤¾ä¼šå¯¹äººå·¥æ™ºèƒ½çš„æƒ³è±¡å¾€å¾€å¸¦æœ‰æ·±æ·±çš„å¿§è™‘ä¸è­¦æƒ•ã€‚è¿™äº›ä½œå“ä¸ä»…åæ˜ äº†äººç±»å¯¹ç§‘æŠ€é£é€Ÿå‘å±•çš„æ†§æ†¬ï¼ŒåŒæ—¶ä¹ŸæŠ˜å°„å‡ºäººä»¬å¯¹äººå·¥æ™ºèƒ½å¯èƒ½å¸¦æ¥çš„å¤±æ§é£é™©ã€å°±ä¸šå†²å‡»ä¹ƒè‡³ä¼¦ç†å›°å¢ƒçš„æ‹…å¿§ã€‚éšç€ç°å®ä¸­çš„äººå·¥æ™ºèƒ½é€æ­¥èµ°å‡ºå®éªŒå®¤ï¼Œè¿›å…¥ç”Ÿäº§ã€ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ï¼Œè¿™ä¸€è¯é¢˜å·²ä¸å†åªæ˜¯è™šæ„ä¸–ç•Œä¸­çš„è®¾æƒ³ï¼Œè€Œæ˜¯çœŸå®ä¸–ç•Œå¿…é¡»ç›´é¢çš„é—®é¢˜ã€‚</p><p>å¦‚æœä½ åœ¨2025å¹´æœ‰å…³æ³¨è¿‡å¤§æ¨¡å‹çš„å‘å±•ï¼Œä½ å¤§æ¦‚å¬è¯´è¿‡ï¼Œä»Šå¹´æ˜¯å¤§æ¨¡å‹è¿…çŒ›å‘å±•çš„ä¸€å¹´ï¼Œè¦æˆ‘è¯´ï¼ŒçœŸçš„å¯ä»¥ç®—ä½œâ€œæŠ€æœ¯çˆ†ç‚¸â€çš„ä¸€å¹´ã€‚ä¸ç®¡æ˜¯DeepSeekå¼€æºå¼•çˆ†ä¸šç•Œå¯¹å¼€æºå¤§è¯­è¨€æ¨¡å‹çš„å…³æ³¨ï¼Œè¿˜æ˜¯cursorã€copliotã€claude-codeç­‰å·¥å…·çš„ç«çƒ­ï¼Œéƒ½æ˜¯è¿™â€œæŠ€æœ¯çˆ†ç‚¸â€çš„ä¸€éƒ¨åˆ†ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/3a8db7a94b2b6fc9d75d2c6c8c5d5011.webp" alt="image.png"></p><p>å¤§æ¨¡å‹ä¸ºæˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»å’Œå­¦ä¹ å·¥ä½œéƒ½å¸¦æ¥äº†ç§ç§ä¾¿åˆ©ï¼Œè™½ä¹‹è€Œæ¥çš„ï¼Œå°±æ˜¯å¤§æ¨¡å‹çš„å‡ºç°å¯¹æ•´ä¸ªè®¡ç®—æœºè¡Œä¸šçš„å·²æœ‰å·¥ä½œæµç¨‹çš„â€œæŒ‘æˆ˜â€ï¼Œè¿™ä¹ŸåŒ…æ‹¬äº†æœ¬æ–‡çš„ä¸»é¢˜ï¼Œå³å¤§æ¨¡å‹å¯¹è®¡ç®—æœºæ ¡æ‹›çš„æŒ‘æˆ˜ã€‚</p><h2 id="æœ€æ–°åŠ¨æ€">æœ€æ–°åŠ¨æ€</h2><p>2025å¹´8æœˆï¼Œ2026å±Šç§‹æ‹›å·²ç»å…¨é¢å¼€å§‹ï¼Œä»ç‰›å®¢ç½‘ä¸Šçš„å·²æœ‰ä¿¡æ¯ï¼Œæ…•é›ªå‘ç°äº†ä¸‹é¢å‡ ä¸ªå˜åŠ¨ï¼š</p><ol><li>ç¾å›¢å¼€å§‹åœ¨ç¬”è¯•å’Œé¢è¯•ä¸­ç›´æ¥å¼•å…¥å¤§æ¨¡å‹ï¼Œé¢è¯•æ–°å¢AI Codingè€ƒå¯Ÿï¼Œç¬”è¯•ç›´æ¥å‡ºç°äº†å…è®¸ä½¿ç”¨AIè¾…åŠ©çš„ç®—æ³•é¢˜ï¼š<a href="https://www.nowcoder.com/feed/main/detail/4ecf6fe9bada45128a2b819aeceac39d?sourceSSR=search">å¸–å­1</a>,<a href="https://www.nowcoder.com/feed/main/detail/3bb17f9dc7874b1ba2f8ebd8153c9b31?sourceSSR=search">å¸–å­2</a>ï¼›</li><li>ç¾å›¢å¼€å‘å²—ç¬”è¯•é¢˜ä¸­å‡ºç°äº†AIè®­ç»ƒç›¸å…³çš„é¢˜ç›®ï¼š<a href="https://www.nowcoder.com/exam/test/90945132/detail?pid=63140272&amp;examPageSource=Company&amp;subTabName=written_page&amp;testCallback=https%3A%2F%2Fwww.nowcoder.com%2Fexam%2Fcompany%3FquestionJobId%3D10%26subTabName%3Dwritten_page&amp;testclass=%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91">ç‰›å®¢çœŸé¢˜</a>ï¼›</li><li>å¤§å‚é¢è¯•è¦æ±‚é—­çœ¼ç­”é¢˜ï¼š<a href="https://mp.weixin.qq.com/s/uFUp5ryvBdlQjGcFAbviiQ">å¸–å­</a>;</li><li>æ‹¼å¤šå¤šé¢è¯•å¼•å…¥åŒæœºä½ï¼š<a href="https://www.nowcoder.com/feed/main/detail/ebb09f6feede4afda3aad880877236ea?sourceSSR=search">å¸–å­1</a>,<a href="https://www.nowcoder.com/feed/main/detail/e9f3a07f055e43288377b1799a423833?sourceSSR=search">å¸–å­2</a>ï¼›</li><li>ä¼¼ä¹æ›´å¤šå¤§å‚ä¹Ÿè¦è·Ÿå›¢å¼€å¯åŒæœºä½é¢è¯•â€¦â€¦</li><li>å…¶ä»–çš„ä¿¡æ¯è¿˜æ²¡æ”¶é›†åˆ°å‘¢ï¼Œå¦‚æœæœ‰å¯ä»¥è¡¥å¿åœ¨è¯„è®ºåŒºã€‚</li></ol><p>å‰ä¸¤é¡¹å˜åŠ¨ï¼Œè¯´æ˜ç¾å›¢åœ¨æ ¡æ‹›ä¸­<strong>ç›´æ¥å¼€å§‹è€ƒå¯Ÿæ ¡æ‹›ç”Ÿçš„AIä½¿ç”¨èƒ½åŠ›äº†</strong>ã€‚</p><p>å¤§æ¨¡å‹è¯­è¨€å‡ºç°ä¹‹åï¼Œä¼ ç»Ÿçš„åªé äººå»è€ƒè™‘å¦‚ä½•ç¼–ç¨‹çš„æ—¶ä»£å·²ç»è¿‡å»äº†ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç±»å¤§æ¨¡å‹ï¼Œç›´æ¥æŠŠè‡ªå·±çš„éœ€æ±‚ç‚¹å‘ç»™ä»–ï¼Œè®©AIç»™ä½ å†™ä¸€å¥—ä»£ç å‡ºæ¥ï¼Œç„¶åå†è€ƒè™‘å¾€å“ªé‡Œæ’å…¥ã€‚æœ‰äº†cursorè¿™ç±»å·¥å…·ä¹‹åï¼Œç”šè‡³è€ƒè™‘åœ¨å“ªé‡Œæ’å…¥çš„äº‹æƒ…éƒ½ä¸éœ€è¦åšäº†ï¼Œæ•´ä¸ªéœ€æ±‚éƒ½å¯ä»¥è®©AIè‡ªå·±å†™å‡ºæ¥ï¼Œæˆ‘ä»¬åªéœ€è¦å»æ£€æŸ¥ä¸€ä¸‹AIå†™çš„å¯¹ä¸å¯¹å°±è¡Œäº†ã€‚</p><p>æ­¤æ—¶ï¼Œæ¯ä¸ªäººçš„æ•ˆç‡éƒ½èƒ½åœ¨å¤§æ¨¡å‹çš„å¸®åŠ©ä¸‹æ€¥å‰§æå‡ï¼Œä¼ ç»Ÿçš„ç»éªŒç§¯ç´¯è¢«è¿…é€Ÿç¼©çŸ­ã€‚ç°åœ¨ä¸€ä¸ªåŒå­¦çš„ç¼–ç¨‹èƒ½åŠ›å¥½ä¸å¥½ï¼Œæ•ˆç‡é«˜ä¸é«˜ï¼Œå¯ä»¥ç›´æ¥å’Œä»–ä¼šä¸ä¼šä½¿ç”¨AIã€æ€ä¹ˆä½¿ç”¨AIã€ç”¨çš„å¥½ä¸å¥½æŒ‚é’©ã€‚å…ˆå‰ç«è¿‡ä¸€æ®µæ—¶é—´çš„â€œpromptå·¥ç¨‹å¸ˆâ€ä¾¿æ˜¯è¿™é¡¹èƒ½åŠ›çš„ç›´æ¥ä½“ç°ï¼ˆåªä¸è¿‡åœ¨ç½‘ä¸Šæ€•æ˜¯æ›´å¤šä½“ç°åœ¨å–è¯¾ä¸Šäº†â€¦â€¦ï¼‰</p><blockquote><p>å¦‚æœä½ ä¸çŸ¥é“æˆ–è€…æ²¡æœ‰ä½¿ç”¨è¿‡cursorè¿™ç±»å·¥å…·ï¼Œç°åœ¨å¿…é¡»è¦å»äº†è§£å¹¶ä½¿ç”¨ä¸€ä¸‹äº†ã€‚è€ƒè™‘åˆ°cursorä¹‹ç±»çš„ä»·æ ¼è¾ƒè´µï¼Œä½ å¯ä»¥å…ˆè¯•ç”¨ä¸€ä¸‹ç¾å›¢çš„<a href="https://nocode.cn/">nocode</a>å’Œé˜¿é‡Œçš„<a href="https://lingma.aliyun.com/">é€šçµä¹‰ç </a>æ’ä»¶ï¼Œè¿™ä¸¤ä¸ªçš„æ•ˆæœå’Œcursoréƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè€Œä¸”<strong>å…è´¹</strong>ï¼Œå…ˆç”¨ä»–ä»¬é”»ç‚¼ä¸€ä¸‹è‡ªå·±ä½¿ç”¨AIè¾…åŠ©ç¼–ç¨‹çš„èƒ½åŠ›å§ã€‚</p></blockquote><p>è€Œåä¸¤é¡¹å˜åŠ¨ï¼Œå°±æ˜¯AIä½œå¼Šç›¸å…³çš„é—®é¢˜äº†ã€‚æ­£å¦‚AIå¯ä»¥å¸®æˆ‘ä»¬å®Œæˆç¼–ç¨‹å·¥ä½œï¼ŒAIåœ¨é¢è¯•è¿‡ç¨‹ä¸­å¸®é¢è¯•è€…å›ç­”å…«è‚¡é‚£æ›´æ˜¯ä¸€ä¸ªä¿¡æ‰‹æ‹ˆæ¥ï¼Œè¿™å°±å¯¼è‡´é¢è¯•å®˜è¾›è¾›è‹¦è‹¦è€ƒå¯Ÿçš„ä¸€ä¸ªåŒå­¦ï¼Œå¯èƒ½æœ€åå‘ç°æ˜¯é ä½œå¼Šè¿›çš„å…¬å¸ï¼Œæœ¬èº«æ˜¯ä¸ªæ°´è´§ï¼Œé‚£å¤šéš¾å—ï¼Ÿ</p><p>å‰æ’æé†’ï¼Œä½œå¼Šè¿™ä»¶äº‹å¹¶ä¸æ˜¯æœ‰AIä¹‹åæ‰å‡ºç°çš„ï¼Œçº¿ä¸Šé¢è¯•ä½œå¼Šå·²ç»æ˜¯è§æ€ªä¸æ€ªäº†ï¼Œåªä¸è¿‡AIè®©ä½œå¼Šçš„æ‰‹æ®µä»â€œåœºå¤–æ´åŠ©â€è¿™ç§å®¹æ˜“è¢«å‘ç°çš„ä½œå¼Šæ‰‹æ®µå˜æˆäº†æ›´éš¾å‘ç°çš„â€œå•äººä½œæˆ˜â€ã€‚è¿™å¯¹éœ€è¦æ‹›è˜çš„å…¬å¸æ¥è¯´æ˜¯ä¸åˆ©çš„ï¼Œä¸ºäº†è½¬å«è¿™é£é™©ï¼Œåªæœ‰ä¸‰ç§æ‰‹æ®µï¼š</p><ul><li>ä½¿ç”¨æ›´ä¸¥è‹›çš„åä½œå¼Šæªæ–½ï¼Œæ¯”å¦‚çº¿ä¸Šé¢è¯•è¦æ±‚åŒæœºä½ã€è¦æ±‚å€™é€‰è€…é—­çœ¼ç­”é¢˜â€¦â€¦</li><li>æ–¥å·¨èµ„åœ¨å…¨å›½å„åœ°ç»„ç»‡çº¿ä¸‹é¢è¯•ï¼Œæ¯”å¦‚åä¸ºã€‚</li><li>ç»§ç»­ç‹ ç‹ åŠ å¤§é¢è¯•çš„éš¾åº¦ï¼</li></ul><p>é¢è¯•è¿™ä»¶äº‹æœ¬èº«å°±æ˜¯å‰äººæŒ–å‘åäººè·³å‘çš„ä¸åˆ©ä¹‹ä¸¾ï¼Œé™¤äº†é‚£ä¸ªè€ƒä½œå¼Šæ‹¿åˆ°äº†offerçš„åŒå­¦çœŸæ­£å¾—åˆ©äº†ï¼Œå‰©ä¸‹çš„æ•´ä¸ªæ ¡æ‹›ç¯å¢ƒéƒ½è¢«ä½œå¼Šç ´åäº†ã€‚</p><p>æ…•é›ªå‘Šè¯«æ‰€æœ‰åŒå­¦ï¼šä¸è¦æœ‰ä¾¥å¹¸å¿ƒç†ï¼æ ¡æ‹›é¢è¯•ä½œå¼Šåœ¨ä»»ä½•å…¬å¸éƒ½æ˜¯æ— æ³•å¿å—çš„çº¢çº¿é—®é¢˜ï¼Œä¸€æ—¦æœ‰äººä¸¾æŠ¥ä½ ï¼Œæˆ–è€…ä½ åœ¨å…¥èŒä¹‹åè¢«æ€€ç–‘æŸ¥å‡ºæœ‰ä½œå¼Šå«Œç–‘ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸¢äº†offer+è¢«æ‹‰é»‘çš„ç»“å±€ã€‚</p><blockquote><p><strong>çº¯çŒœæƒ³ï¼Œä¸æ˜¯çœŸçš„</strong>ï¼šç»å¤§éƒ¨åˆ†å…¬å¸éƒ½æ˜¯ç”¨çš„ç‰›å®¢ç½‘æä¾›çš„è€ƒè¯•ç³»ç»Ÿï¼Œæ¯ä¸ªå…¬å¸éƒ½è¦æ±‚å€™é€‰äººç»‘å®šäº†æ‰‹æœºå·æˆ–è€…èº«ä»½è¯å·ã€‚æ­¤æ—¶ç‰›å®¢ç½‘ä»æŠ€æœ¯è§’åº¦ä¸Šçœ‹å®Œå…¨æœ‰èƒ½åŠ›ä¸ºå„ä¸ªä½¿ç”¨ç‰›å®¢ç½‘ç¬”è¯•ç³»ç»Ÿçš„å…¬å¸æä¾›â€œè”banâ€æœåŠ¡ï¼Œç›´æ¥æŠŠæœ‰è¿‡ä½œå¼Šå«Œç–‘çš„åŒå­¦æ ‡è®°å‡ºæ¥ï¼Œæ‰€æœ‰å…¬å¸éƒ½èƒ½ç›´æ¥è‡ªåŠ¨æ‹‰é»‘è¿™ååŒå­¦äº†ã€‚</p><p>è¯´ä¸å®šç‰›å®¢ç½‘ç°åœ¨å°±æœ‰è¿™é¡¹â€œè”banâ€æœåŠ¡å‘¢ï¼Ÿåªä¸è¿‡æˆ‘ä»¬è¿™äº›å€™é€‰è€…ä¸çŸ¥é“è€Œå·²ã€‚</p></blockquote><p>å…¶å®è¿˜æ˜¯é‚£å¥è¯ï¼šåœ¨ä»»ä½•æ—¶å€™éƒ½ä¸è¦æƒ³ç€é ä½œå¼Šæ‹¿offerï¼</p><h2 id="å°ç»“">å°ç»“</h2><p>ä¸Šé¢å­å­äº†é‚£ä¹ˆå¤šæ²¡ç”¨çš„ä¸œè¥¿ï¼Œæœ€ç»ˆå°ç»“å…¶å®ä¹Ÿå°±ä¸¤ç‚¹ï¼š</p><ol><li>æœªæ¥çš„æ ¡æ‹›é¢è¯•ï¼Œä¼šä»è€ƒå¯Ÿå…«è‚¡ã€é¡¹ç›®å˜æˆè¿å¸¦è€ƒå¯Ÿå€™é€‰è€…æ˜¯å¦ä¼šé«˜æ•ˆåœ°ä½¿ç”¨AIå·¥å…·ã€‚</li><li>AIçš„å‡ºç°è®©æ ¡æ‹›é¢è¯•ä½œå¼Šçš„æƒ…å†µå˜å¤šï¼Œå¤§å‚åªä¼šé‡‡å–æ›´ä¸¥è‹›çš„ç­›é€‰æœºåˆ¶æ’é™¤ä½œå¼Šçš„â€œæ°´è´§â€ã€‚</li></ol><p>æ‰“é“è¿˜éœ€è‡ªèº«ç¡¬ï¼Œæˆ‘ä»¬åªæœ‰è·Ÿå¾—ä¸Šæ—¶ä»£ï¼Œæ‰èƒ½ä¸è¢«æ—¶ä»£æŠ›å¼ƒã€‚å»ºè®®å¤§å®¶åœ¨ç¼–ç¨‹å­¦ä¹ ï¼Œèµ°åˆ°é¡¹ç›®ç¼–å†™ç¯èŠ‚çš„æ—¶å€™ï¼Œå°±å¯ä»¥å¼•å…¥AIå·¥å…·ä¸ºè‡ªå·±çš„é¡¹ç›®ç¼–å†™å·¥ä½œèµ‹èƒ½äº†ã€‚æœ€å¥½æ˜¯èƒ½èåˆä¸€ä¸ªAI Agentåˆ°ä½ çš„é¡¹ç›®ä¸­å»ï¼Œæˆä¸ºä½ é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå“ªåœ¨é¢è¯•ç¯èŠ‚ç»å¯¹ä¼šå¤§åŠ åˆ†ã€‚</p><p>ä½†æ˜¯ï¼ä¹Ÿä¸è¦è¿‡åº¦ä¾èµ–AIï¼Œå¦‚æœä½ åœ¨åˆšå¼€å§‹å­¦ä¹ ï¼Œç¼–å†™hello worldçš„è¿™ä¸ªé˜¶æ®µå°±å¼€å§‹ç”¨AIå·¥å…·å¸®ä½ çœ‹ç¼–è¯‘å™¨æŠ¥é”™äº†ï¼Œé‚£ä¼šå¤§å¤§é™ä½ä½ çš„é—®é¢˜å®šä½å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œåœ¨ç¼–ç¨‹å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œè¿™é¡¹èƒ½åŠ›æ˜¯éå¸¸é‡è¦çš„ï¼å‰æœŸå­¦ä¹ çš„æ—¶å€™ï¼Œæœ€å¥½æ˜¯ä¸è¦å€ŸåŠ©AIçš„è¾…åŠ©ï¼åˆ«æ¡äº†èŠéº»ä¸¢äº†è¥¿ç“œå“¦~</p>]]></content>
    
    
    <summary type="html">ç®€å•èŠèŠå½“å‰AIå‘å±•å¯¹26å±Šè®¡ç®—æœºæ ¡æ‹›çš„å½±å“ï¼ˆçº¯çº¯ç²¹ç²¹çš„ä¸ªäººè§‚ç‚¹ï¼‰</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="æµ‹è¯•å¼€å‘" scheme="https://blog.musnow.top/tags/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€winã€‘å…³é—­windowsç³»ç»Ÿåˆ‡æ¢è¾“å…¥æ³•çš„å…¶ä»–å¿«æ·é”®ï¼ˆé™¤äº†win+ç©ºæ ¼ï¼‰</title>
    <link href="https://blog.musnow.top/posts/9373074383/"/>
    <id>https://blog.musnow.top/posts/9373074383/</id>
    <published>2025-08-24T07:52:44.000Z</published>
    <updated>2025-08-24T08:34:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†å‘Šè¯‰å¤§å®¶å¦‚ä½•å…³é—­windowsç³»ç»Ÿåˆ‡æ¢è¾“å…¥æ³•çš„å…¶ä»–å¿«æ·é”®ï¼Œé¿å…æ‰“æ¸¸æˆçš„æ—¶å€™è¢«å¡è¾“å…¥æ³•å›°æ‰°ã€‚</p><h2 id="1-å†™åœ¨å‰é¢">1. å†™åœ¨å‰é¢</h2><p>å…ˆè¯´è¯´ä»€ä¹ˆæ˜¯å¡è¾“å…¥æ³•å§ï¼šå¡è¾“å…¥æ³•çš„é—®é¢˜é€šå¸¸åœ¨<strong>å›½å¤–æ¸¸æˆ</strong>ä¸Šæ¯”è¾ƒå¸¸è§ï¼Œå›½å†…ç½‘æ¸¸ä¸€èˆ¬å¯¹ä¸­æ–‡è¾“å…¥æ³•éƒ½åšäº†ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½è®©ç©å®¶åœ¨æ¸¸æˆå†…çš„èŠå¤©æ¡†é‡Œé¢æ‰“ä¸­æ–‡ã€‚å›½å¤–æ¸¸æˆå› ä¸ºæ²¡æœ‰è€ƒè™‘è¿‡ä¸­æ–‡èŠå¤©çš„é—®é¢˜ï¼ˆæ¯”å¦‚æˆ˜åœ°2042ï¼‰ï¼Œåœ¨ä¸­æ–‡è¾“å…¥æ³•çš„æƒ…å†µä¸‹æŒ‰é”®ç›˜ä¼šå¼¹å‡ºè¾“å…¥æ³•è¾“å…¥æ¡†ï¼Œç›´æ¥æ— æ³•æ“æ§æ¸¸æˆã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨<code>win+ç©ºæ ¼</code>å¿«æ·é”®åˆ‡æ¢ä¸åŒçš„è¾“å…¥æ³•ï¼Œæ‰“æ¸¸æˆçš„æ—¶å€™ä¸ºäº†ä¸å¡è¾“å…¥æ³•ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªENGè‹±æ–‡è¾“å…¥æ³•ï¼Œåœ¨æ‰“æ¸¸æˆä¹‹å‰åˆ‡æ¢è¿‡å»ï¼Œç„¶åé”æ‰é”®ç›˜çš„winé”®ä½ï¼Œè¿™æ ·åœ¨æ‰“æ¸¸æˆçš„æ—¶å€™æ‰ä¸ä¼šå¡è¾“å…¥æ³•ã€‚</p><p>ä½†æ˜¯ï¼Œwindowså…¶å®ä¸æ­¢ä¸€ä¸ªåˆ‡æ¢è¾“å…¥æ³•çš„å¿«æ·é”®ï¼Œé»˜è®¤è¿˜æœ‰å¦å¤–ä¸¤ä¸ªå¿«æ·é”®ä¹Ÿæ˜¯ä¼šåœ¨æ¸¸æˆé‡Œé¢è¢«è¯¯è§¦çš„ã€‚</p><ul><li>ctrl+alt</li><li>ctrl+ç©ºæ ¼</li></ul><p>å’±ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆwinè¦è®¾è®¡å¤šå‡ ä¸ªå¿«æ·é”®å‡ºæ¥ï¼Œåªç•™ä¸€ä¸ªwin+ç©ºæ ¼ä¸å¥½å—ï¼Ÿä¸è¿‡å¥½åœ¨å¦å¤–è¿™ä¸¤ä¸ªå¿«æ·é”®æ˜¯å¯ä»¥åˆ é™¤çš„ï¼Œè¯¦ç»†æ“ä½œå‚è€ƒåæ–‡ã€‚</p><h2 id="2-å¦‚ä½•å®‰è£…è‹±æ–‡è¾“å…¥æ³•">2. å¦‚ä½•å®‰è£…è‹±æ–‡è¾“å…¥æ³•</h2><p>æ—¢ç„¶æåˆ°äº†å¡è¾“å…¥æ³•çš„é—®é¢˜ï¼Œé¡ºå¸¦å°±æŠŠå®‰è£…ENGè¾“å…¥æ³•çš„æ•™ç¨‹ä¹Ÿæä¸€å˜´å§ã€‚åœ¨windowsè®¾ç½®é‡Œé¢ï¼ˆwin10å’Œwin11é€šç”¨ï¼‰æœç´¢â€œè¯­è¨€å’ŒåŒºåŸŸâ€ï¼Œæ‰¾åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œç‚¹å‡»æ·»åŠ è¯­è¨€ï¼Œåœ¨è¯­è¨€åˆ—è¡¨é‡Œé¢æ‰¾åˆ°è‹±è¯­(ç¾å›½)ï¼Œæ·»åŠ ä¸€ä¸‹å°±å¯ä»¥äº†</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/196e1ec70d7fa6d396be486c454eb50e.webp" alt="image.png"></p><p>æ­¤æ—¶ä½ çš„ç”µè„‘å³ä¸‹è§’è¯­è¨€æ ä¼šå‡ºç°è‹±è¯­ç¾å›½è¾“å…¥æ³•çš„é€‰é¡¹ï¼Œå¦‚æœå‡ºç°äº†è¿™ä¸ªé€‰é¡¹é‚£å°±okäº†ï¼Œæ‰“æ¸¸æˆçš„æ—¶å€™åˆ‡æ¢è¿‡å»å°±è¡Œäº†ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/e068176739c6e19ac494b38a80deaa96.webp" alt="image.png"></p><h2 id="3-å…³æ‰é™¤äº†win-ç©ºæ ¼å¤–çš„å…¶ä»–åˆ‡æ¢è¾“å…¥æ³•å¿«æ·é”®">3. å…³æ‰é™¤äº†win+ç©ºæ ¼å¤–çš„å…¶ä»–åˆ‡æ¢è¾“å…¥æ³•å¿«æ·é”®</h2><p>æ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ï¼Œè¯´è¯´æ€ä¹ˆå…³æ‰å…¶ä»–åˆ‡æ¢è¾“å…¥æ³•çš„å¿«æ·é”®ã€‚</p><p>å³ä¸‹è§’å…ˆåˆ‡åˆ°winç³»ç»Ÿè‡ªå¸¦çš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œå³é”®è¿›å…¥è¾“å…¥æ³•æŒ‰é”®é…ç½®ï¼ˆæˆ–è€…ç›´æ¥åœ¨ç³»ç»Ÿé‡Œé¢æœ<code>æ—¶é—´å’Œè¯­è¨€-è¯­è¨€å’ŒåŒºåŸŸ-æŒ‰é”®</code>ï¼‰</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/09c31a606abbddb9f88cf02f05ef1bf2.webp" alt="image.png"></p><p>è¿™ä¸ªæ“ä½œä¼šæ‰“å¼€win11è®¾ç½®é‡Œé¢çš„<code>æ—¶é—´å’Œè¯­è¨€-è¯­è¨€å’ŒåŒºåŸŸ-æŒ‰é”®</code>ï¼Œåœ¨è¿™é‡Œé¢ï¼ŒæŠŠctrl+ç©ºæ ¼å’Œctrlè¿™ä¸¤ä¸ªä¸­è‹±æ–‡æ¨¡å¼åˆ‡æ¢çš„å¿«æ·é”®éƒ½ç»™å–æ¶ˆå‹¾é€‰</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/9156e2698ed1ce0d227e6584599fea1e.webp" alt="image.png"></p><p>éšåå†å›åˆ°<code>æ—¶é—´å’Œè¯­è¨€-è¾“å…¥-é«˜çº§é”®ç›˜è®¾ç½®-è¾“å…¥è¯­è¨€çƒ­é”®</code>é‡Œé¢ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ§åˆ¶é¢æ¿</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/7c708f44a2750c1ab108f8d445a3a5b9.webp" alt="image.png"></p><p>æ‰¾åˆ°<strong>é«˜çº§é”®è®¾ç½®</strong>ï¼Œè¿™é‡Œå°±èƒ½çœ‹åˆ°å¦å¤–çš„è¾“å…¥æ³•æ§åˆ¶å¿«æ·é”®äº†ã€‚å»ºè®®æŠŠè¿™é‡Œé¢æ‰€æœ‰æ“ä½œçš„å¿«æ·é”®å…¨éƒ½åˆ æ‰ï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/443bd63aad72da98226a83eb04794cda.webp" alt="image.png"></p><p>é€‰ä¸­ä¸€ä¸ªé€‰é¡¹ï¼Œç‚¹å‡»æ›´æ”¹æŒ‰é”®é¡ºåºï¼Œåœ¨å¼¹æ¡†ä¸­æŠŠå¯ç”¨æŒ‰é”®é¡ºåºå–æ¶ˆå‹¾é€‰ï¼Œå°±å¯ä»¥åˆ æ‰è¿™ä¸ªå¿«æ·é”®äº†</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/2a040984c4240d4f4e6d27df4b0f8238.webp" alt="image.png"></p><p>ç‚¹å‡»ç¡®å®šï¼Œå›åˆ°ä¸Šçº§èœå•ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå¿«æ·é”®æ˜¯<strong>æ— </strong>äº†ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/a4bcd6d41ced6bd2b84e0fba40022a8b.webp" alt="image.png"></p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šé«˜çº§é”®è®¾ç½®é‡Œé¢çš„â€œä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¾“å…¥æ³• - è¾“å…¥æ³•/éè¾“å…¥æ³•åˆ‡æ¢â€è¿™ä¸ªé¡¹ç›®æ˜¯æ²¡æœ‰åŠæ³•æ”¹æˆ<strong>æ— </strong>çš„ã€‚å³ä¾¿ä¿®æ”¹ä»¥åå½“å‰æ˜¾ç¤ºæˆæ— ï¼ˆæˆªå›¾é‡Œé¢çš„æ ·å­ï¼‰ï¼Œä½†æ˜¯ç‚¹å‡»å³ä¸‹è§’<strong>åº”ç”¨</strong>ä¹‹ååˆä¼šå˜æˆ<code>ctrl+ç©ºæ ¼</code>ã€‚</p><p>æˆ‘çš„ä¸ªäººç†è§£ï¼šè¿™ä¸ªå¿«æ·é”®å¯ä»¥ä¸ç”¨ç®¡ä»–ï¼Œå› ä¸ºè¿™ä¸ªé€‰é¡¹â€œä¼¼ä¹â€ä¸ä¼šæœ‰ä»€ä¹ˆå®é™…å½±å“ï¼Œ<strong>æˆ‘ä»¬åœ¨æ‰“æ¸¸æˆçš„æ—¶å€™å·²ç»åˆ‡æ¢æˆENGè¾“å…¥æ³•äº†</strong>ï¼Œä¸åœ¨â€œä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¾“å…¥æ³•â€ä¸‹ï¼Œæ‰€ä»¥è¿™ä¸ªå¿«æ·é”®æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚</p><h2 id="4-å†™åœ¨æœ€åçš„ç¢ç¢å¿µ">4. å†™åœ¨æœ€åçš„ç¢ç¢å¿µ</h2><p>åæ­£åˆ é™¤äº†ä¸Šé¢å‡ ä¸ªå¿«æ·é”®ä¹‹åå°±OJBKäº†ï¼Œä¸å†ä¼šåœ¨æ‰“æ¸¸æˆçš„æ—¶å€™åˆè«åå…¶å¦™çš„ä»ENGè¾“å…¥æ³•å˜æˆä¸­æ–‡è¾“å…¥æ³•äº†ã€‚</p><h3 id="4-1-å’‹çŸ¥é“è‡ªå·±é”®ç›˜èƒ½ä¸èƒ½é”WINå‘¢ï¼Ÿ">4.1. å’‹çŸ¥é“è‡ªå·±é”®ç›˜èƒ½ä¸èƒ½é”WINå‘¢ï¼Ÿ</h3><p>å¦‚æœä½ çš„ç”µè„‘é”®ç›˜è¿é”WINé”®çš„åŠŸèƒ½éƒ½æ²¡æœ‰ï¼Œ<strong>é‚£ä½œä¸ºä¸€å—æ¸¸æˆé”®ç›˜å®ƒæ˜¯éå¸¸éå¸¸éå¸¸ä¸åˆæ ¼çš„ã€‚</strong> åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½ å·²ç»è¢«å¡ä¸­æ–‡è¾“å…¥æ³•æˆ–è€…åœ¨æ¸¸æˆé‡Œè¯¯è§¦winå¼¹å‡ºå¼€å§‹èœå•çš„é—®é¢˜å›°æ‰°è¿‡ï¼Œä½œä¸ºæ¸¸æˆç©å®¶ï¼Œè¿˜æ˜¯å»ºè®®ä½ æ›´æ¢ä¸€å—é”®ç›˜ã€‚ç°åœ¨100å…ƒä»·ä½çš„å›½äº§æœºæ¢°é”®ç›˜åº”è¯¥éƒ½æ˜¯å¸¦äº†é”WINè¿™ä¸ªåŠŸèƒ½çš„ï¼Œè´­ä¹°ä¹‹å‰å¯ä»¥é—®é—®å®¢æœã€‚</p><p>å¦‚æœä½ ä¸çŸ¥é“è‡ªå·±çš„é”®ç›˜æœ‰æ²¡æœ‰é”WINé”®çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼éªŒè¯ï¼š</p><ul><li>å…ˆçœ‹çœ‹ä½ çš„é”®ç›˜ä¸Šæœ‰æ²¡æœ‰FNåŠŸèƒ½é”®ï¼Œ<strong>å¦‚æœæœ‰</strong>ï¼Œå°è¯•æŒ‰å‡ºFN+WINã€‚æŒ‰äº†ä¹‹åï¼Œå†å•å‡»WINï¼Œæ­¤æ—¶å¦‚æœæ²¡æœ‰å¼¹å‡ºwindowsçš„å¼€å§‹èœå•ï¼Œè¯´æ˜è¿™ä¸ªé”®ç›˜æ˜¯æœ‰é”WINåŠŸèƒ½çš„ï¼Œè¿™ä¸ªæ—¶å€™å·²ç»é”ä¸Šäº†ï¼Œå†æ¬¡æŒ‰FN+WINå°±å¯ä»¥æ¢å¤ä¸é”WINçš„çŠ¶æ€ã€‚</li><li>éƒ¨åˆ†é”®ç›˜çš„é”WINåŠŸèƒ½å¯èƒ½æ˜¯<strong>è¿å‡»ä¸¤æ¬¡WIN</strong>æˆ–è€…<strong>é•¿æŒ‰WIN</strong>è§¦å‘ï¼Œä½†æ˜¯è¿™ç§æ¯”è¾ƒå°‘è§ï¼Œå› ä¸ºè¿å‡»ä¸¤æ¬¡WINæˆ–è€…é•¿æŒ‰WINéƒ½æ˜¯æœ‰å¯èƒ½åœ¨æ¸¸æˆé‡Œé¢è¯¯è§¦çš„ã€‚</li><li>å¦‚æœä½ çš„é”®ç›˜ä¸Šæ²¡æœ‰FNåŠŸèƒ½é”®ä½ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯ä¸æ”¯æŒé”WINçš„ï¼Œåªèƒ½å»ºè®®æ¢é”®ç›˜å–½ã€‚</li></ul><p>å¦å¤–ï¼Œå¦‚æœä½ æ˜¯æœ€è¿‘å‡ å¹´è´­ä¹°çš„<strong>æ¸¸æˆæœ¬</strong>ï¼Œå¯ä»¥å»æ¸¸æˆæœ¬è‡ªå¸¦çš„æ§åˆ¶è½¯ä»¶é‡Œé¢æ‰¾ä¸€ä¸‹é€‰é¡¹ã€‚æˆ‘çš„å°è±¡ä¸­ï¼Œè”æƒ³æ‹¯æ•‘è€…çš„å®˜æ–¹æ§åˆ¶å°é‡Œé¢æ˜¯æœ‰é”æ‰ç¬”è®°æœ¬è‡ªå¸¦é”®ç›˜çš„WINé”®ä»¥åŠç¬”è®°è‡ªå¸¦è§¦æ§æ¿çš„é€‰é¡¹çš„ã€‚å…¶ä»–å“ç‰Œçš„æ¸¸æˆæœ¬ä¸å¤ªæ¸…æ¥šï¼Œå¦‚æœä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºè¡¥å……ã€‚</p><h3 id="4-2-å…³äºç¬”è®°æœ¬æ˜¯å¦éœ€è¦å¤–æ¥é”®ç›˜">4.2. å…³äºç¬”è®°æœ¬æ˜¯å¦éœ€è¦å¤–æ¥é”®ç›˜</h3><p>è¿™é‡Œå†å†ç¨å¾®å¤šå˜´ä¸€ä¸‹ï¼šå‡ ä¹æ‰€æœ‰æ¸¸æˆæœ¬åœ¨æ‰“æ¸¸æˆçš„é«˜æ€§èƒ½çŠ¶æ€ä¸‹ï¼Œé”®ç›˜éƒ½æ˜¯ä¼šè¶…è¿‡38Â°Cç”šè‡³è¿˜æœ‰40Â°Cä»¥ä¸Šçš„ï¼Œä¸ºäº†é¿å…ä½æ¸©çƒ«ä¼¤ï¼Œå¼ºçƒˆå»ºè®®è´­ä¹°å¤–ç½®é”®ç›˜ï¼ä¸è¦ä½¿ç”¨æ¸¸æˆæœ¬è‡ªå¸¦é”®ç›˜ç©æ¸¸æˆï¼</p><p>åˆšåˆšå»æœäº†ç¬”å§è¯„æµ‹å®¤å‡ æ¬¾2025å¹´æ–°å‡ºçš„æ¸¸æˆæœ¬ï¼Œä¸å¾—ä¸è¯´æ—¶ä»£å˜å•¦ï¼Œç°åœ¨æ¸¸æˆæœ¬é”®ç›˜ç«Ÿç„¶èƒ½æ§åˆ¶åœ¨35Â°Cä»¥ä¸‹äº†ï¼Œå®åœ¨æ˜¯éš¾èƒ½å¯è´µã€‚</p><blockquote><p>å¤‡æ³¨ï¼šåç¡•å¤©é€‰6Proå·²ç»ç®—æ˜¯ä¸­ç«¯æ¸¸æˆæœ¬æ‰›æŠŠå­æœºå‹äº†ï¼Œå¦‚æœä¹°çš„ä¸æ˜¯è¿™ä¸ªå‹å·ï¼Œé”®ç›˜æ¸©åº¦æ§åˆ¶ä¼°è®¡ä¸ä¼šè¿™ä¹ˆå¥½ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/e51ea71d8a83c3f8d210f102a0e87c0a.webp" alt="image.png"></p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè§†é¢‘é‡Œé¢æ˜¯åœ¨å®¤æ¸©25Â°Cç¯å¢ƒä¸‹æµ‹è¯•çš„ï¼Œå¦‚æœä½ çš„å®¤æ¸©é«˜äºè¿™ä¸ªæ¸©åº¦ï¼Œç¬”è®°æœ¬çš„æ¸©åº¦è‚¯å®šä¼šä¸Šå‡çš„ã€‚ç°åœ¨ä¸€å—å›½äº§æœºæ¢°é”®ç›˜80å…ƒå°±èƒ½åˆ°æ‰‹äº†ï¼Œæ‰‹æ„Ÿæ€ä¹ˆè¯´éƒ½æ¯”ç¬”è®°æœ¬è‡ªå¸¦çš„é”®ç›˜å¥½ï¼Œè¿˜æ˜¯å»ºè®®å¤§å®¶ä¸è¦çœè¿™ä¸ªé’±äº†ï¼Œé•¿æœŸåœ¨æ‰“æ¸¸æˆã€é«˜è´Ÿè½½å·¥ä½œçš„æ—¶å€™æ¥è§¦é«˜æ¸©çš„ç¬”è®°æœ¬é”®ç›˜è‚¯å®šæ˜¯ä¸å¥½çš„ã€‚</p><p>å¦‚æœä½ çš„æ¡Œå­å®åœ¨æ²¡åœ°æ–¹æ”¾é”®ç›˜ï¼Œå¯ä»¥ä¹°ä¸€ä¸ª <strong>50cm*25cm,é«˜åº¦å¤§äº11cm</strong> çš„æ˜¾ç¤ºå™¨æ”¯æ¶ï¼ˆæŸå®å…³é”®è¯æœâ€œæ˜¾ç¤ºå™¨æ”¯æ¶â€æˆ–è€…â€œç¬”è®°æœ¬æ”¯æ¶â€åº”è¯¥éƒ½èƒ½æœåˆ°ï¼Œ20å…ƒå·¦å³ï¼‰æŠŠç¬”è®°æœ¬æ¶èµ·æ¥ï¼Œé”®ç›˜æ”¾åœ¨æ”¯æ¶ä¸‹æ–¹ï¼Œè¿™æ ·æ—¢èƒ½æŠŠç¬”è®°æœ¬å±å¹•æ‹‰çš„ç¦»è‡ªå·±è¿‘ä¸€ç‚¹ï¼Œåˆå¯ä»¥ç”¨å¤–æ¥é”®ç›˜ï¼Œå²‚ä¸ç¾å“‰ã€‚</p><p><strong>è¿˜å¾—æé†’ä¸€ä¸‹å„ä½è½»è–„æœ¬ç”¨æˆ·</strong>ï¼šåˆ«ä»¥ä¸ºè½»è–„æœ¬è‡ªå¸¦é”®ç›˜å°±ä¸ä¼šæœ‰ä½æ¸©çƒ«ä¼¤é£é™©å•¦ï¼è½»è–„æœ¬å’Œå…¨èƒ½æœ¬ç”±äºæ•£çƒ­æ¨¡ç»„æ›´å°ï¼Œåœ¨é«˜è´Ÿè½½çš„æƒ…å†µä¸‹ç¬”è®°æœ¬é”®ç›˜æ¸©åº¦<strong>åªä¼šæ¯”æ¸¸æˆæœ¬æ›´é«˜</strong>ï¼é™¤éæ˜¯ä¸å·æ€§èƒ½é‡Šæ”¾çš„é«˜ç«¯è½»è–„æœ¬ã€‚</p><p>æ…•é›ªç”¨è¿‡ä¸¤æ¬¾è½»è–„æœ¬ï¼Œåœ¨é«˜æ¸©çš„æ—¶å€™é”®ç›˜é‚£æ˜¯<strong>ç¢°éƒ½ç¢°ä¸å¾—</strong>ï¼Œå½“æ—¶çƒ«çš„æˆ‘ä¸å¾—å·²ä¸´æ—¶è´­ç½®äº†ä¸€æ¬¾é”®ç›˜é¡¶ä¸Šï¼Œæ‰è§£å†³é—®é¢˜ã€‚ä¸å¾—ä¸è¯´ç‹—ä¸œæ¬¡æ—¥è¾¾è¿˜æ˜¯å¾ˆçˆ½çš„ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œåªè¦ä½ åœ¨ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘çš„æ—¶å€™ï¼Œ<strong>æ„Ÿè§‰ç¬”è®°æœ¬é”®ç›˜æœ‰ç‚¹æ¸©çƒ­</strong>ï¼Œè¿˜æ˜¯å¼ºçƒˆå»ºè®®ä¹°å—å¤–æ¥é”®ç›˜å§ï¼Œå“ªæ€•æ˜¯30å…ƒçš„è–„è†œé”®ç›˜ä¹Ÿå¥½ã€‚æ¯”èµ·ä½ çš„ç¬”è®°æœ¬ç”µè„‘æ¥è¯´ï¼Œå¤–æ¥é”®ç›˜çš„é’±çœŸçš„æ˜¯å°é’±å•¦ï¼Œåˆ«å› å°å¤±å¤§ï¼é¡¶å¤šç”¨å¤–æ¥é”®ç›˜çš„æ—¶å€™éº»çƒ¦ç‚¹ã€‚</p><h2 id="THE-END">THE END</h2><p>æ„Ÿè°¢å¤§å®¶çœ‹åˆ°æœ€åï¼Œåˆæ°´äº†ä¸€æœŸåšå®¢ï¼ˆä¸æ˜¯ï¼‰ï¼Œè‡³å°‘æ²¡è®©ç«™ç‚¹å†·ä¸‹æ¥ã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡å°†å‘Šè¯‰å¤§å®¶å¦‚ä½•å…³é—­windowsç³»ç»Ÿåˆ‡æ¢è¾“å…¥æ³•çš„å…¶ä»–å¿«æ·é”®ï¼Œé¿å…æ‰“æ¸¸æˆçš„æ—¶å€™è¢«å¡è¾“å…¥æ³•å›°æ‰°ã€‚</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="ç”µè„‘ä½¿ç”¨å°è´´å£«" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/"/>
    
    
    <category term="Windows" scheme="https://blog.musnow.top/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>ã€Nginxã€‘é…ç½®nginxæ‹¦æˆªéæµè§ˆå™¨è¯·æ±‚</title>
    <link href="https://blog.musnow.top/posts/9909449770/"/>
    <id>https://blog.musnow.top/posts/9909449770/</id>
    <published>2025-08-09T07:56:25.000Z</published>
    <updated>2025-08-13T00:27:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚é¢˜ï¼Œæˆ‘ç”¨nginxä»£ç†çš„artalkï¼Œæ„Ÿè§‰æœ€è¿‘æœ‰å¾ˆå¤šä¸åƒæ˜¯çœŸäººå‘å‡ºæ¥çš„è¯„è®ºåˆ°æˆ‘çš„åšå®¢é‡Œé¢ï¼Œ</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/b639f6443b797bb4a6d51d5c00bc3d69.webp" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/3420114cfc6d6ddde103334c4d1eae47.webp" alt="image.png"></p><p>çœ‹äº†ä¸€ä¸‹1panelé‡Œé¢ngnixçš„æ—¥å¿—ï¼Œåœ¨ä¹‹å‰çš„é”™è¯¯æ—¥å¿—é‡Œé¢çœ‹åˆ°äº†å¾ˆå¤špython requestså‘å‡ºæ¥çš„è¯·æ±‚ï¼Œæ˜æ˜¾ä¸æ˜¯çœŸäººå‘çš„ï¼ˆä»–ç”šè‡³ä¸æ„¿æ„æ¨¡æ‹Ÿä¸€ä¸‹æµè§ˆå™¨çš„refererï¼‰</p><p>åœ¨nginxåå‘ä»£ç†é…ç½®çš„locationä½“å†…çš„<strong>æœ€å¼€å¤´</strong>åŠ ä¸Šå¦‚ä¸‹å†…å®¹ï¼Œç›´æ¥æ‹¦æˆªæ‰è¿™äº›éæµè§ˆå™¨çš„UA</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœ User-Agent ä¸­åŒ…å«è¿™äº›å­—æ®µï¼Œç›´æ¥æ‹’ç»ï¼ˆéæµè§ˆå™¨è¯·æ±‚ï¼‰</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$http_user_agent</span> <span class="regexp">~* (curl|wget|httpie|python|Go-http-client|okhttp|java|bot|spider|crawler|Postman|Apache-HttpClient|HeadlessChrome|xx032_))</span> &#123;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">403</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•æµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½å¤Ÿæ‹¦æˆªï¼Œé¦–å…ˆæ˜¯ç›´æ¥æµè§ˆå™¨è®¿é—®åšå®¢ç«™ç‚¹ï¼Œartalkè¯„è®ºæ­£å¸¸ï¼Œé‚£å°±æ²¡é—®é¢˜ã€‚</p><p>ç„¶åç”¨curlæ¨¡æ‹Ÿä¸€ä¸‹è¯·æ±‚ï¼Œnginxè®¾ç½®äº†ä¹‹åä¼šç›´æ¥403æ‹’ç»ï¼Œé…ç½®æˆåŠŸã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl <span class="string">&quot;https://artk.musnow.top&quot;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class="line">&lt;hr&gt;&lt;center&gt;openresty&lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¦è§£å†³å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ‹¦æˆªçš„æ—¶å€™ä¸èƒ½æŠŠuptimerobotçš„uptimeæ£€æµ‹å™¨ä¹Ÿç»™æ‹¦æˆªæ‰ï¼ˆå› ä¸ºuptimerobotè¿”å›403ä¹Ÿæ˜¯è®¤ä¸ºæœåŠ¡downäº†çš„ï¼Œå¿…é¡»è¿”å›200ï¼‰</p><p>å®˜ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°uptimerobotä½¿ç”¨çš„æ˜¯User-Agentï¼š<a href="https://help.uptimerobot.com/en/articles/11358489-what-is-the-uptimerobot-user-agent-string">æ–‡æ¡£é“¾æ¥</a></p><blockquote><p>The user agent we use is: Mozilla/5.0+(compatible; UptimeRobot/2.0; <a href="http://www.uptimerobot.com/">http://www.uptimerobot.com/</a>)|</p></blockquote><p>æ‰€ä»¥åªéœ€è¦ä¿®æ”¹nginxé…ç½®ä¸ºå¦‚ä¸‹å°±å¯ä»¥äº†ï¼Œå…ˆè¿‡æ»¤æ‰uptimerobotå†åˆ¤æ–­å…¶ä»–uaã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###### éæµè§ˆå™¨è¯·æ±‚æ‹¦æˆª ######</span></span><br><span class="line"><span class="comment"># 1. é»˜è®¤ä¸æ‹¦æˆª</span></span><br><span class="line"><span class="attribute">set</span> <span class="variable">$block_request</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment"># 2. å¦‚æœ User-Agent åŒ¹é…é»‘åå•ï¼Œå°±æ ‡è®°ä¸ºéœ€è¦æ‹¦æˆª</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$http_user_agent</span> <span class="regexp">~* (curl|wget|httpie|python|Go-http-client|okhttp|java|bot|spider|crawler|Postman|Apache-HttpClient|HeadlessChrome|xx032_))</span> &#123;</span><br><span class="line">    <span class="attribute">set</span> <span class="variable">$block_request</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 3. ä¾‹å¤–ï¼šå¦‚æœæ˜¯ UptimeRobotï¼Œåˆ™å–æ¶ˆæ‹¦æˆªæ ‡è®°</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$http_user_agent</span> <span class="regexp">~* &quot;UptimeRobot&quot;)</span> &#123;</span><br><span class="line">    <span class="attribute">set</span> <span class="variable">$block_request</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 4. æœ€ç»ˆåˆ¤æ–­ï¼šå¦‚æœæ ‡è®°ä»ç„¶ä¸º1ï¼Œåˆ™æ‰§è¡Œæ‹¦æˆª</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$block_request</span> = <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">403</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">###### éæµè§ˆå™¨è¯·æ±‚æ‹¦æˆª ######</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡ï¼Œä¸Šè¿°æ‹¦æˆªåªæ˜¯æ²»æ ‡ä¸æ²»æœ¬ï¼Œè„šæœ¬é‡Œé¢å†™ä¸ªuaå°±å¯ä»¥ç»•è¿‡è¿™ä¸€å±‚ã€‚æˆ‘ä¸»è¦æ˜¯æƒ³æ‹¦æˆªé‚£äº›æ¼”éƒ½ä¸æ¼”çš„è„šæœ¬ï¼Œç›´æ¥è¯·æ±‚å¤´æ˜¯python requestsçœŸæ¶å¿ƒäººå§ã€‚</p><p>å¦å¤–ï¼Œæ ¹æ®AIæä¾›çš„å»ºè®®ï¼Œä¸Šè¿°çš„nginxé…ç½®æ€§èƒ½ä¼šæ¯”è¾ƒå·®ï¼Œæ›´æ¨èåœ¨httpé…ç½®é‡Œé¢ä½¿ç”¨mapæ¥å¤„ç†ã€‚ä½†æ˜¯æˆ‘çš„ä¸ªäººç«™ç‚¹æ—¥æ´»ç‰¹åˆ«ä½ï¼Œä¹Ÿä¸åœ¨ä¹è¿™ä¸ªæ€§èƒ½å·®è·äº†ã€‚ä¸»è¦æ˜¯åœ¨locationé‡Œé¢å†™è¿™ä¸€å±‚æ‹¦æˆªæ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œæˆ‘å¯ä»¥ç›´æ¥åœ¨1panelçš„é¢æ¿é‡Œé¢ä¿®æ”¹ï¼Œå¦‚æœè®¾ç½®æˆmapéœ€è¦åœ¨nginxçš„æ ¹é…ç½®æ–‡ä»¶httpå—é‡Œé¢å†™ï¼Œå¤ªéº»çƒ¦äº†ã€‚</p>]]></content>
    
    
    <summary type="html">é…ç½®nginxæ‹¦æˆªéæµè§ˆå™¨è¯·æ±‚ï¼Œé¿å…æœ‰è„šæœ¬åˆ·Artalkè¯„è®º</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/tags/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    <category term="Hexo" scheme="https://blog.musnow.top/tags/Hexo/"/>
    
    <category term="Nginx" scheme="https://blog.musnow.top/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ã€JAVAã€‘SDKMANç¯å¢ƒç®¡ç†å·¥å…·</title>
    <link href="https://blog.musnow.top/posts/4576584980/"/>
    <id>https://blog.musnow.top/posts/4576584980/</id>
    <published>2025-08-02T10:42:04.000Z</published>
    <updated>2025-08-04T00:12:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†ç¯å¢ƒç®¡ç†å·¥å…·SDKMANï¼Œä»–å¯ä»¥è¾…åŠ©æˆ‘ä»¬ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„JDKã€Gradleå’ŒMavenç¯å¢ƒï¼Œå¹¶å¯å¿«æ·åˆ‡æ¢ã€‚</p><h2 id="1-å‰è¨€">1. å‰è¨€</h2><p>åœ¨å®é™…å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦é…ç½®ä¸æ‡‚JDKç‰ˆæœ¬çš„ç¯å¢ƒï¼ŒåŒæ—¶è¿™äº›JAVAçš„é¡¹ç›®æœ‰äº›ä½¿ç”¨äº†Gradleç®¡ç†ä¾èµ–é¡¹ï¼Œæœ‰äº›åˆä½¿ç”¨çš„æ˜¯Mavenï¼Œä¸åŒé¡¹ç›®ä¹‹é—´ä½¿ç”¨çš„å·¥å…·é“¾ç‰ˆæœ¬ä¹Ÿä¸ä¸€å®šç›¸åŒï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å®‰è£…ä¸åŒç‰ˆæœ¬çš„ä¾èµ–å·¥å…·ã€‚</p><p>å¦‚æœå®Œå…¨ä¾é æˆ‘ä»¬<strong>äººå·¥</strong>å»å®‰è£…ä¸åŒç‰ˆæœ¬çš„å·¥å…·é“¾å¹¶è‡ªå·±å»é€‰å®šå·¥å…·æ‰€åœ¨ç›®å½•å’Œè®¾ç½®è¯¸å¦‚<code>JAVA_HOME</code>ç¯å¢ƒå˜é‡ï¼Œå°±å¾ˆå®¹æ˜“å‡ºé”™ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼Œç¼–ç¨‹å¼€å‘è¿™è¾¹å¾ˆå¤šçº¯å‘½ä»¤è¡Œçš„å·¥å…·æ˜¯å¾ˆéš¾å¸è½½å¹²å‡€çš„ï¼Œçº¯é è‡ªå·±äººå·¥ç®¡ç†ï¼Œè¿˜éå¸¸å®¹æ˜“æŠŠè‡ªå·±ç”µè„‘ä¸Šçš„ç¯å¢ƒå¼„å¾—ä¸€å›¢ç³Ÿã€‚</p><p>ä¹‹å‰æœ¬ç«™å·²ç»ç»™å¤§å®¶å¼•å…¥è¿‡äº†ä¸åŒç‰ˆæœ¬pythonçš„ç®¡ç†å·¥å…·<a href="https://blog.musnow.top/posts/4192678800">uv</a>ï¼Œuvä¸ä»…å¯ä»¥ç®¡ç†ä¸åŒç‰ˆæœ¬çš„pythonï¼Œè¿˜å¯ä»¥å¸®æˆ‘ä»¬ä»£ç†python venvè™šæ‹Ÿç¯å¢ƒå’Œä¾èµ–ä¸‹è½½ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¿«æ·å¯åŠ¨æŸä¸ªé¡¹ç›®ã€‚</p><h2 id="2-ä¸‹è½½å®‰è£…">2. ä¸‹è½½å®‰è£…</h2><blockquote><p>å®˜ç½‘ï¼š<a href="https://sdkman.io/">https://sdkman.io/</a></p></blockquote><p>å®‰è£…sdkmanéå¸¸ç®€å•ã€‚ç›´æ¥ç”¨å¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s <span class="string">&quot;https://get.sdkman.io&quot;</span> | bash</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsdkmanæ˜¯å¯¹ç±»unixç³»ç»Ÿè®¾è®¡çš„ï¼Œæ‰€ä»¥å¹¶ä¸æ”¯æŒwindowsã€‚åœ¨macä¸Šå®‰è£…sdkmanä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…homebrewã€‚</p><p>å®‰è£…å®Œæ¯•äº†ä¹‹åï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªsourceå‘½ä»¤è®©sdkmanç”Ÿæ•ˆï¼ˆæ³¨æ„è·¯å¾„ä¸­çš„å‚æ•°æ˜¯ä½ è‡ªå·±çš„ç”¨æˆ·åï¼Œsdkmançš„å®‰è£…å·¥å…·å®‰è£…ç»“æŸåä¼šæ‰“å°å‡ºè¿™ä¸ªsourceå‘½ä»¤ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> <span class="string">&quot;/Users/mothra/.sdkman/bin/sdkman-init.sh&quot;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>sdk help</code>å‘½ä»¤ç¡®å®šæ˜¯å¦å·²ç»å®‰è£…æˆåŠŸï¼Œåç»­çš„æ“ä½œéƒ½æ˜¯ç”¨sdkå‘½ä»¤æ¥æ‰§è¡Œã€‚</p><h2 id="3-åŸºæœ¬ä½¿ç”¨">3. åŸºæœ¬ä½¿ç”¨</h2><h3 id="3-1-ä¸‹è½½ä¸åŒç‰ˆæœ¬çš„å·¥å…·">3.1. ä¸‹è½½ä¸åŒç‰ˆæœ¬çš„å·¥å…·</h3><p>sdkmanå¯ä»¥ç®¡ç†Mavenã€Gradleå’ŒJDKçš„ç‰ˆæœ¬ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹èƒ½å¤Ÿç›´æ¥é€šè¿‡sdkmanå®‰è£…çš„ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk list å·¥å…·ç±»å‹</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ä½¿ç”¨<code>sdk list java</code>å°±èƒ½å¾—åˆ°å¯ä»¥å®‰è£…çš„JDKç‰ˆæœ¬</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/3a639a4e4f859936e0212781054817b5.webp" alt="image.png"></p><p>è¿™é‡Œä¼˜å…ˆæ¨èå®‰è£…äºšé©¬é€Šçš„JDKï¼Œå› ä¸ºå…¶æ¯”è¾ƒå®Œå–„è¿˜å…è´¹å•†ç”¨ã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯å®‰è£…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk install java 17.0.14-amzn</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ä¸‹è½½æºä¸åœ¨å›½å†…ï¼Œæ‰€ä»¥ä¸‹è½½çš„æ—¶å€™å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜å‡ºç°æ³¢åŠ¨ï¼Œä½ æ‡‚çš„~</p><p>ä¸‹è½½Gradleä¹Ÿæ˜¯åŒç†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sdk list gradle         <span class="comment"># æŸ¥çœ‹å¯ä»¥å®‰è£…çš„ç‰ˆæœ¬</span></span><br><span class="line">sdk install gradle 7.5  <span class="comment"># gradleæ²¡æœ‰ä¸åŒçš„æä¾›å•†ï¼Œæ‰€ä»¥åªéœ€è¦ç‰ˆæœ¬å·å°±è¡Œäº†</span></span><br></pre></td></tr></table></figure><h3 id="3-2-é€‰æ‹©ä¸åŒç‰ˆæœ¬çš„å·¥å…·">3.2. é€‰æ‹©ä¸åŒç‰ˆæœ¬çš„å·¥å…·</h3><p>é€‰æ‹©å·¥å…·æœ‰ä¸¤ä¸ªæ–¹å¼ï¼Œä¸€ä¸ªæ˜¯åœ¨å½“å‰ç»ˆç«¯ä¸´æ—¶ç”Ÿæ•ˆï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å…¨å±€ç”Ÿæ•ˆï¼ˆé»˜è®¤å€¼ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sdk use å·¥å…· å·¥å…·ç‰ˆæœ¬</span><br><span class="line">sdk default å·¥å…· å·¥å…·ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘æƒ³åœ¨å½“å‰ç»ˆç«¯ä½¿ç”¨JDK17ï¼Œé‚£å°±ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ã€‚æƒ³å…¨å±€è®¾ç½®å°±æŠŠuseæ”¹æˆdefaultå³å¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk use java 17.0.14-amzn</span><br></pre></td></tr></table></figure><h3 id="3-3-æ·»åŠ å·²æœ‰çš„JDK">3.3. æ·»åŠ å·²æœ‰çš„JDK</h3><p>å¦‚æœåœ¨ä¸‹è½½sdkmanä¹‹å‰å·²ç»æœ‰JDKäº†ï¼ˆæ¯”å¦‚ideaè‡ªåŠ¨ä¸‹è½½çš„JDKï¼‰ï¼Œè€Œä¸”åç»­è¿˜æƒ³ä½¿ç”¨è¿™ä¸ªJDKï¼Œè¦æ€ä¹ˆåšï¼Ÿ</p><blockquote><p>Python uvå·¥å…·èƒ½è‡ªåŠ¨æ‰«æå‡ºå·²æœ‰çš„pythonè§£æå™¨å®‰è£…è·¯å¾„ï¼Œä½†æ˜¯sdkmanæ²¡æœ‰æ‰«æåŠŸèƒ½ã€‚</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“å½“å‰å·²ç»å®‰è£…çš„JDKçš„ä½ç½®åœ¨å“ªé‡Œï¼Œå¦‚æœä½ ä¹‹å‰é…ç½®è¿‡<code>JAVA_HOME</code>ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‰¾åˆ°å®ƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/libexec/java_home -V</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘çš„macä¸Šå½“å‰ä½¿ç”¨çš„æ˜¯ideaä¸‹è½½çš„JDK</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ /usr/libexec/java_home -V</span><br><span class="line">Matching Java Virtual Machines (1):</span><br><span class="line">    23.0.1 (arm64) <span class="string">&quot;Oracle Corporation&quot;</span> - <span class="string">&quot;OpenJDK 23.0.1&quot;</span> /Users/mothra/Library/Java/JavaVirtualMachines/openjdk-23.0.1/Contents/Home</span><br><span class="line">/Users/mothra/Library/Java/JavaVirtualMachines/openjdk-23.0.1/Contents/Home</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æƒ³ç”¨sdkmanç®¡ç†è¿™ä¸ªJDKï¼Œéœ€è¦å°†è¿™ä¸ªhomeè·¯å¾„åŠ åˆ°sdkmançš„ç®¡ç†ç›®å½•<code>~/.sdkman/candidates</code>ä¸‹ã€‚è¿™ä¸ªç›®å½•ä¸­ä¼šæœ‰sdkmanå®‰è£…çš„å„ç±»JDKï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªè·¯å¾„ä¸‹æ·»åŠ è½¯è¿æ¥ï¼ŒæŠŠæˆ‘ä»¬è‡ªå·±å®‰è£…çš„JDKå¼•å…¥è¿›æ¥ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /Users/mothra/.sdkman/var/metadata  <span class="comment"># ç¼“å­˜ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.sdkman/candidates/java</span><br><span class="line"><span class="built_in">cd</span> ~/.sdkman/candidates/java</span><br><span class="line"><span class="comment"># ç›´æ¥åˆ©ç”¨ç¯å¢ƒå˜é‡æŒ‡å‘çš„è·¯å¾„ï¼Œè½¯è¿æ¥åˆ°sdkmanç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">ln</span> -s <span class="variable">$JAVA_HOME</span> 23.0.1-openjdk</span><br><span class="line"><span class="comment"># åˆ·æ–°</span></span><br><span class="line">sdk flush java</span><br><span class="line"><span class="comment"># ä½¿ç”¨</span></span><br><span class="line">sdk use java 23.0.1-openjdk</span><br></pre></td></tr></table></figure><p>å‘½ä»¤æ‰§è¡Œè¾“å‡ºå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~/.sdkman/candidates/java             </span><br><span class="line">â¯ ln -s $JAVA_HOME 23.0.1-openjdk</span><br><span class="line"></span><br><span class="line">~/.sdkman/candidates/java             </span><br><span class="line">â¯ sdk use java 23.0.1-openjdk</span><br><span class="line">Setting java version 23.0.1-openjdk as default.</span><br><span class="line"></span><br><span class="line">Using java version 23.0.1-openjdk in this shell.</span><br></pre></td></tr></table></figure><p>åˆ·æ–°äº†ä¹‹åï¼Œæ˜¯å¯ä»¥åœ¨<code>sdk list java</code>çš„æœ€åº•éƒ¨çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„è¿™ä¸ªJDKçš„ï¼Œå…¶ä¼šè¢«æ˜¾ç¤ºä¸ºUnclassifiedæœªåˆ†ç»„çŠ¶æ€</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/08/66323a66427a5f7f7491620945f24db0.webp" alt="image.png"></p><p>é™¤äº†ä¸Šé¢è¿™ç§æ‰‹åŠ¨è½¯è¿æ¥çš„æ–¹å¼ï¼Œæ›´æ¨èçš„æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨installå‘½ä»¤çš„ç¬¬ä¸‰ä¸ªå‚æ•°pathæ¥ç›´æ¥æŒ‡å®šå®‰è£…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdk install java åå­— è·¯å¾„</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç¡®è®¤ä½ æŒ‡å®šçš„JDKæ‰€åœ¨pathæ˜¯å­˜åœ¨çš„ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â¯ sdk install java 23openjdk <span class="variable">$JAVA_HOME</span></span><br><span class="line">Linking java 23openjdk to /Users/mothra/.sdkman/candidates/java/current</span><br><span class="line">Done installing!</span><br></pre></td></tr></table></figure><p>å®‰è£…äº†ä»¥ååŒæ ·æ˜¯ä½¿ç”¨<code>sdk use java 23openjdk</code>æŒ‡å®šåå­—æ¥ä½¿ç”¨è¿™ä¸ªJDK</p><h2 id="4-The-end">4. The end</h2><p>åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œsdkmançš„åŸºæœ¬ä½¿ç”¨å°±æ˜¯ä¸Šé¢çš„å‡ ä¸ªå‘½ä»¤ï¼Œå¾ˆç®€å•çš„æ“ä½œï¼Œå°±è§£å†³äº†æˆ‘ä»¬è‡ªå·±ç®¡ç†ç¯å¢ƒçš„ç§ç§éº»çƒ¦ã€‚</p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsdkmanè®¾ç½®çš„ç¯å¢ƒåªåœ¨ç»ˆç«¯é‡Œé¢ç”Ÿæ•ˆï¼Œideaé‡Œé¢çš„é¡¹ç›®JDKå’ŒGradleè®¾ç½®å¤§æ¦‚ç‡<strong>ä¸ä¼š</strong>è·Ÿç€sdkmanè®¾ç½®çš„ç‰ˆæœ¬èµ°ï¼Œè¿˜æ˜¯éœ€è¦åœ¨ideaé‡Œé¢å•ç‹¬è®¾ç½®çš„ï¼</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†ç¯å¢ƒç®¡ç†å·¥å…·SDKMANï¼Œä»–å¯ä»¥è¾…åŠ©æˆ‘ä»¬ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„JDKã€Gradleå’ŒMavenç¯å¢ƒï¼Œå¹¶å¯å¿«æ·åˆ‡æ¢ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="æµ‹è¯•å¼€å‘é‚£äº›äº‹" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E9%82%A3%E4%BA%9B%E4%BA%8B/"/>
    
    
    <category term="æµ‹è¯•å¼€å‘" scheme="https://blog.musnow.top/tags/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/"/>
    
    <category term="JAVA" scheme="https://blog.musnow.top/tags/JAVA/"/>
    
  </entry>
  
  <entry>
    <title>ã€SLAMã€‘åœ¨ROSä¸‹å‘å¸ƒORB_SLAM2çš„ä½å§¿ï¼ˆRGB-Dï¼‰</title>
    <link href="https://blog.musnow.top/posts/1101664024/"/>
    <id>https://blog.musnow.top/posts/1101664024/</id>
    <published>2025-05-31T09:10:00.000Z</published>
    <updated>2025-06-02T01:46:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä¿®æ”¹ORB_SLAM2çš„ROS Demoï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å»ºå›¾çš„åŒæ—¶å‘å¸ƒä½å§¿ã€‚æœ¬æ–‡åªæ¶‰åŠROS RGB-Dçš„ä»£ç ä¿®æ”¹ã€‚</p><h2 id="ä¿®æ”¹ä»£ç ">ä¿®æ”¹ä»£ç </h2><p>ç›´æ¥è¿›å…¥æ­£é¢˜ï¼Œéœ€è¦ä¿®æ”¹çš„ä»£ç æ–‡ä»¶æ˜¯<code>Examples/ROS/ORB_SLAM2/src/ros_rgbd.cc</code>è¿™ä¸ªdemoæ–‡ä»¶ã€‚ORB_SLAM2æœ¬èº«å…¶å®å·²ç»å­˜æ”¾äº†ç›¸æœºçš„ä½å§¿å’Œè·¯å¾„æ•°æ®äº†ï¼Œä¹Ÿæä¾›äº†è·å–æ•°æ®çš„æ¥å£ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†å…¶è½¬æˆROSèƒ½å¤Ÿæ”¯æŒçš„æ ¼å¼å¹¶é€šè¿‡Topicå‘å¸ƒå‡ºå»ã€‚</p><p>é¦–å…ˆæ·»åŠ å¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tf/transform_broadcaster.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../../../include/Converter.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;nav_msgs/Path.h&gt;</span></span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ImageGrabberç±»åæ–¹ï¼Œmainå‡½æ•°ä¹‹å‰å…¨å±€å£°æ˜ä¸‹é¢ä¸‰ä¸ªå˜é‡ï¼Œæ³¨æ„æ˜¯<strong>å…¨å±€å£°æ˜</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros::Publisher pose_pub;</span><br><span class="line">nav_msgs::Path rgbd_path;</span><br><span class="line">ros::Publisher rgbd_path_pub;</span><br></pre></td></tr></table></figure><p>mainå‡½æ•°ä¸­<code>ros::spin();</code>ä¹‹<strong>å‰</strong>æ–°å¢å¦‚ä¸‹ä»£ç ï¼Œè¿™é‡Œè®¾ç½®äº†æˆ‘ä»¬å‘å¸ƒä½å§¿å’Œè·¯å¾„çš„ä¸¤ä¸ªTopicï¼Œåç»­éœ€è¦åœ¨rvizé‡Œé¢è®¢é˜…è¿™ä¸¤ä¸ªTopicæ¥çœ‹åˆ°å‘å¸ƒçš„ä½å§¿æ•°æ®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line">pose_pub = nh.<span class="built_in">advertise</span>&lt;geometry_msgs::PoseStamped&gt;(<span class="string">&quot;ORB_SLAM/pose&quot;</span>, <span class="number">5</span>);</span><br><span class="line"><span class="comment">// å‘å¸ƒè·¯å¾„</span></span><br><span class="line">rgbd_path_pub = nh.<span class="built_in">advertise</span>&lt;nav_msgs::Path&gt;(<span class="string">&quot;ORB_SLAM/path&quot;</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure><p>åœ¨<code>ImageGrabber::GrabRGBD</code>å‡½æ•°çš„æœ€åä¿®æ”¹ï¼Œä¿®æ”¹å’Œæ·»åŠ å¦‚ä¸‹å†…å®¹ã€‚è¿™é‡Œæ˜¯ç”¨äº†ä¸€ä¸ª<code>cv::Mat</code>å­˜æ”¾äº†<code>mpSLAM-&gt;TrackRGBD</code>å‡½æ•°çš„è¿”å›ç»“æœï¼ˆä¹‹å‰æ˜¯æ²¡æœ‰ç”¨å˜é‡å­˜æ”¾çš„ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line">cv::Mat Tcw;</span><br><span class="line">Tcw = mpSLAM-&gt;<span class="built_in">TrackRGBD</span>(cv_ptrRGB-&gt;image, cv_ptrD-&gt;image, cv_ptrRGB-&gt;header.stamp.<span class="built_in">toSec</span>());</span><br><span class="line"><span class="keyword">if</span> (!Tcw.<span class="built_in">empty</span>()) <span class="comment">// æ³¨æ„éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œå¯èƒ½ä¸ºç©º</span></span><br><span class="line">&#123;</span><br><span class="line">    geometry_msgs::PoseStamped pose;</span><br><span class="line">    pose.header.stamp = ros::Time::<span class="built_in">now</span>();</span><br><span class="line">    pose.header.frame_id = <span class="string">&quot;map&quot;</span>; <span class="comment">// æ³¨æ„è¿™é‡Œï¼Œå¿…é¡»æ˜¯mapè€Œä¸æ˜¯path</span></span><br><span class="line"></span><br><span class="line">    cv::Mat Rwc = Tcw.<span class="built_in">rowRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">colRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">t</span>(); <span class="comment">// Rotation information</span></span><br><span class="line">    cv::Mat twc = -Rwc * Tcw.<span class="built_in">rowRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">col</span>(<span class="number">3</span>);      <span class="comment">// translation information</span></span><br><span class="line">    vector&lt;<span class="type">float</span>&gt; q = ORB_SLAM2::Converter::<span class="built_in">toQuaternion</span>(Rwc);</span><br><span class="line"></span><br><span class="line">    tf::Transform new_transform;</span><br><span class="line">    new_transform.<span class="built_in">setOrigin</span>(tf::<span class="built_in">Vector3</span>(twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">0</span>), twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">1</span>), twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">2</span>)));</span><br><span class="line">    <span class="function">tf::Quaternion <span class="title">quaternion</span><span class="params">(q[<span class="number">0</span>], q[<span class="number">1</span>], q[<span class="number">2</span>], q[<span class="number">3</span>])</span></span>;</span><br><span class="line">    new_transform.<span class="built_in">setRotation</span>(quaternion);</span><br><span class="line">    tf::<span class="built_in">poseTFToMsg</span>(new_transform, pose.pose);</span><br><span class="line">    pose_pub.<span class="built_in">publish</span>(pose); <span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘å¸ƒè·¯å¾„</span></span><br><span class="line">    rgbd_path.header.frame_id = <span class="string">&quot;map&quot;</span>;</span><br><span class="line">    rgbd_path.header.stamp = ros::Time::<span class="built_in">now</span>();</span><br><span class="line">    rgbd_path.poses.<span class="built_in">push_back</span>(pose);</span><br><span class="line">    rgbd_path_pub.<span class="built_in">publish</span>(rgbd_path);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå°±ä¿®æ”¹å®Œæˆäº†ï¼Œå…ˆä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>build.sh</code>è„šæœ¬ç¼–è¯‘ORB_SLAM2æ™®é€šç‰ˆæœ¬ï¼Œç„¶åä½¿ç”¨<code>build_ros.sh</code>è„šæœ¬ç¼–è¯‘ROSç‰ˆæœ¬ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ORB_SLAM2 <span class="comment"># å…ˆè¿›å…¥æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">export</span> ROS_PACKAGE_PATH=<span class="variable">$ROS_PACKAGE_PATH</span>:<span class="variable">$PWD</span>/Examples/ROS/ORB_SLAM2</span><br><span class="line">./build.sh</span><br><span class="line">./build_ros.sh</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ç»™å‡ºå®Œæ•´çš„demoä»£ç ï¼Œä¹Ÿå¯ä»¥åœ¨<a href="https://github.com/musnows/ORB_SLAM2/commit/9e018fc5baea03f707e9d75d58c4b14471c375d6">Github</a>æŸ¥çœ‹ã€‚</p><details class="toggle" ><summary class="toggle-button" style="">ä¿®æ”¹åros_rgbd.ccçš„å®Œæ•´ä»£ç </summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ros/ros.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cv_bridge/cv_bridge.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;message_filters/subscriber.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;message_filters/time_synchronizer.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;message_filters/sync_policies/approximate_time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../../../include/System.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tf/transform_broadcaster.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../../../include/Converter.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;nav_msgs/Path.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ImageGrabber</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ImageGrabber</span>(ORB_SLAM2::System *pSLAM) : <span class="built_in">mpSLAM</span>(pSLAM) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">GrabRGBD</span><span class="params">(<span class="type">const</span> sensor_msgs::ImageConstPtr &amp;msgRGB, <span class="type">const</span> sensor_msgs::ImageConstPtr &amp;msgD)</span></span>;</span><br><span class="line"></span><br><span class="line">    ORB_SLAM2::System *mpSLAM;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ros::Publisher pose_pub;</span><br><span class="line">nav_msgs::Path rgbd_path;</span><br><span class="line">ros::Publisher rgbd_path_pub;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ros::<span class="built_in">init</span>(argc, argv, <span class="string">&quot;RGBD&quot;</span>);</span><br><span class="line">    ros::<span class="built_in">start</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (argc != <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cerr &lt;&lt; endl</span><br><span class="line">             &lt;&lt; <span class="string">&quot;Usage: rosrun ORB_SLAM2 RGBD path_to_vocabulary path_to_settings&quot;</span> &lt;&lt; endl;</span><br><span class="line">        ros::<span class="built_in">shutdown</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create SLAM system. It initializes all system threads and gets ready to process frames.</span></span><br><span class="line">    <span class="function">ORB_SLAM2::System <span class="title">SLAM</span><span class="params">(argv[<span class="number">1</span>], argv[<span class="number">2</span>], ORB_SLAM2::System::RGBD, <span class="literal">true</span>)</span></span>;</span><br><span class="line">    SLAM.<span class="built_in">LoadMap</span>(<span class="string">&quot;/home/bill/work/3dslam/orb_slam2/MapPointandKeyFrame.bin&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function">ImageGrabber <span class="title">igb</span><span class="params">(&amp;SLAM)</span></span>;</span><br><span class="line"></span><br><span class="line">    ros::NodeHandle nh;</span><br><span class="line"></span><br><span class="line">    <span class="function">message_filters::Subscriber&lt;sensor_msgs::Image&gt; <span class="title">rgb_sub</span><span class="params">(nh, <span class="string">&quot;/camera/rgb/image_raw&quot;</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function">message_filters::Subscriber&lt;sensor_msgs::Image&gt; <span class="title">depth_sub</span><span class="params">(nh, <span class="string">&quot;/camera/depth/image_raw&quot;</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">typedef</span> message_filters::sync_policies::ApproximateTime&lt;sensor_msgs::Image, sensor_msgs::Image&gt; sync_pol;</span><br><span class="line">    <span class="function">message_filters::Synchronizer&lt;sync_pol&gt; <span class="title">sync</span><span class="params">(sync_pol(<span class="number">10</span>), rgb_sub, depth_sub)</span></span>;</span><br><span class="line">    sync.<span class="built_in">registerCallback</span>(boost::<span class="built_in">bind</span>(&amp;ImageGrabber::GrabRGBD, &amp;igb, _1, _2));</span><br><span class="line">    pose_pub = nh.<span class="built_in">advertise</span>&lt;geometry_msgs::PoseStamped&gt;(<span class="string">&quot;ORB_SLAM/pose&quot;</span>, <span class="number">5</span>); <span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line">    rgbd_path_pub = nh.<span class="built_in">advertise</span>&lt;nav_msgs::Path&gt;(<span class="string">&quot;ORB_SLAM/path&quot;</span>, <span class="number">10</span>);       <span class="comment">// å‘å¸ƒè·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    ros::<span class="built_in">spin</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Stop all threads</span></span><br><span class="line">    SLAM.<span class="built_in">Shutdown</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Save camera trajectory</span></span><br><span class="line">    SLAM.<span class="built_in">SaveKeyFrameTrajectoryTUM</span>(<span class="string">&quot;KeyFrameTrajectory.txt&quot;</span>);</span><br><span class="line">    SLAM.<span class="built_in">SaveMap</span>(<span class="string">&quot;MapPointandKeyFrame.bin&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ros::<span class="built_in">shutdown</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ImageGrabber::GrabRGBD</span><span class="params">(<span class="type">const</span> sensor_msgs::ImageConstPtr &amp;msgRGB, <span class="type">const</span> sensor_msgs::ImageConstPtr &amp;msgD)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Copy the ros image message to cv::Mat.</span></span><br><span class="line">    cv_bridge::CvImageConstPtr cv_ptrRGB;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        cv_ptrRGB = cv_bridge::<span class="built_in">toCvShare</span>(msgRGB);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (cv_bridge::Exception &amp;e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ROS_ERROR</span>(<span class="string">&quot;cv_bridge exception: %s&quot;</span>, e.<span class="built_in">what</span>());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cv_bridge::CvImageConstPtr cv_ptrD;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        cv_ptrD = cv_bridge::<span class="built_in">toCvShare</span>(msgD);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (cv_bridge::Exception &amp;e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ROS_ERROR</span>(<span class="string">&quot;cv_bridge exception: %s&quot;</span>, e.<span class="built_in">what</span>());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line">    cv::Mat Tcw;</span><br><span class="line">    Tcw = mpSLAM-&gt;<span class="built_in">TrackRGBD</span>(cv_ptrRGB-&gt;image, cv_ptrD-&gt;image, cv_ptrRGB-&gt;header.stamp.<span class="built_in">toSec</span>());</span><br><span class="line">    <span class="keyword">if</span> (!Tcw.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        geometry_msgs::PoseStamped pose;</span><br><span class="line">        pose.header.stamp = ros::Time::<span class="built_in">now</span>();</span><br><span class="line">        pose.header.frame_id = <span class="string">&quot;map&quot;</span>; <span class="comment">// æ³¨æ„è¿™é‡Œï¼Œå¿…é¡»æ˜¯mapè€Œä¸æ˜¯path</span></span><br><span class="line"></span><br><span class="line">        cv::Mat Rwc = Tcw.<span class="built_in">rowRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">colRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">t</span>(); <span class="comment">// Rotation information</span></span><br><span class="line">        cv::Mat twc = -Rwc * Tcw.<span class="built_in">rowRange</span>(<span class="number">0</span>, <span class="number">3</span>).<span class="built_in">col</span>(<span class="number">3</span>);      <span class="comment">// translation information</span></span><br><span class="line">        vector&lt;<span class="type">float</span>&gt; q = ORB_SLAM2::Converter::<span class="built_in">toQuaternion</span>(Rwc);</span><br><span class="line"></span><br><span class="line">        tf::Transform new_transform;</span><br><span class="line">        new_transform.<span class="built_in">setOrigin</span>(tf::<span class="built_in">Vector3</span>(twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">0</span>), twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">1</span>), twc.<span class="built_in">at</span>&lt;<span class="type">float</span>&gt;(<span class="number">0</span>, <span class="number">2</span>)));</span><br><span class="line">        <span class="function">tf::Quaternion <span class="title">quaternion</span><span class="params">(q[<span class="number">0</span>], q[<span class="number">1</span>], q[<span class="number">2</span>], q[<span class="number">3</span>])</span></span>;</span><br><span class="line">        new_transform.<span class="built_in">setRotation</span>(quaternion);</span><br><span class="line">        tf::<span class="built_in">poseTFToMsg</span>(new_transform, pose.pose);</span><br><span class="line">        pose_pub.<span class="built_in">publish</span>(pose); <span class="comment">// å‘å¸ƒä½å§¿</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘å¸ƒè·¯å¾„</span></span><br><span class="line">        rgbd_path.header.frame_id = <span class="string">&quot;map&quot;</span>;</span><br><span class="line">        rgbd_path.header.stamp = ros::Time::<span class="built_in">now</span>();</span><br><span class="line">        rgbd_path.poses.<span class="built_in">push_back</span>(pose);</span><br><span class="line">        rgbd_path_pub.<span class="built_in">publish</span>(rgbd_path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><p>æˆªä¸ªå›¾ï¼Œè¯æ˜ä¸€ä¸‹ä¿ºçš„ä»£ç æ˜¯èƒ½æ­£å¸¸ç¼–è¯‘çš„ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/33ecd0262d5239e316d208e49c1f4230.webp" alt="image.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ 77%] Linking CXX executable ../Stereo</span><br><span class="line">[ 88%] Linking CXX executable ../RGBD</span><br><span class="line">[ 88%] Built target Stereo</span><br><span class="line">[ 88%] Built target RGBD</span><br><span class="line">[100%] Linking CXX executable ../MonoAR</span><br><span class="line">[100%] Built target MonoAR</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ•ˆæœ">æµ‹è¯•æ•ˆæœ</h2><p>å…ˆåœ¨ä¸€ä¸ªç»ˆç«¯é‡Œé¢æ‰§è¡Œroscoreå‘½ä»¤ï¼Œåœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯é‡Œé¢ä½¿ç”¨<strong>rviz</strong>å‘½ä»¤å¯åŠ¨å‰ç«¯æŸ¥çœ‹å™¨ã€‚</p><p>å¦å¤–å†å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œä»¥RGBDæ¨¡å¼å¯åŠ¨ORB_SLAM2ç¨‹åºï¼Œæ³¨æ„éœ€è¦ä¿®æ”¹TUM1.yamlæ–‡ä»¶ä¸­çš„DepthMapFactorä¸º<code>1.0</code>ï¼Œè¯¥å‚æ•°ROSéœ€è¦ä¿®æ”¹ä¸º<code>1.0</code>ï¼Œç›´æ¥è¿è¡Œæ˜¯<code>5000.0</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:$PWD/Examples/ROS/ORB_SLAM2</span><br><span class="line">rosrun ORB_SLAM2 RGBD Vocabulary/ORBvoc.txt Examples/RGB-D/TUM<span class="number">1.</span>yaml</span><br></pre></td></tr></table></figure><p>åœ¨å·¦ä¸‹è§’addé‡Œé¢é€‰æ‹©<code>by topic</code>ï¼Œè®¢é˜…æˆ‘ä»¬åˆšåˆšåœ¨ORB_SLAM2ä¸­å‘å¸ƒçš„ä¸¤ä¸ªtopicï¼Œæ³¨æ„éœ€è¦å¯åŠ¨ORB_SLAM2ä¹‹åæ‰èƒ½çœ‹åˆ°è¿™ä¸¤ä¸ªtopicã€‚</p><blockquote><p>ä¸‹å›¾æ˜¯ä»å‚è€ƒåšå®¢é‡Œé¢å€Ÿæ¥çš„ï¼Œå› ä¸ºæˆ‘è‡ªå·±å¿˜è®°æˆªå›¾äº†ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/290a78acf0230dc816889465607c7ab3.webp" alt="image.png"></p><p>rvizè®¢é˜…å®Œæ¯•è¿™ä¸¤ä¸ªtopicä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹æ’­æ”¾tumæ•°æ®é›†çš„bagæ–‡ä»¶äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rosbag play \</span><br><span class="line">    datasets/TUM/rgbd_dataset_freiburg1_desk.bag \</span><br><span class="line">    /camera/rgb/image_color:=/camera/rgb/image_raw \</span><br><span class="line">    /camera/depth/image:=/camera/depth/image_raw</span><br></pre></td></tr></table></figure><p>èƒ½å¤Ÿè§‚å¯Ÿåˆ°çº¢è‰²çš„ç®­å¤´ä»£è¡¨ç›¸æœºä½å§¿ï¼Œç»¿è‰²çº¿æ¡ä»£è¡¨ç›¸æœºèµ°è¿‡çš„è·¯å¾„ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/4726ebdf968856e3c73fef762580daad.webp" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/fceab2ff6e68086b764c316f5fae8a1b.webp" alt="image.png"></p><p>è‡³æ­¤ï¼Œä½å§¿å‘å¸ƒåŠŸèƒ½æµ‹è¯•æˆåŠŸã€‚</p><h2 id="å‚è€ƒåšå®¢">å‚è€ƒåšå®¢</h2><p>è¿™é‡Œè¦æé†’ä¸€ä¸‹ï¼Œå‚è€ƒåšå®¢ä¸­ç»™å‡ºçš„ä»£ç æ˜¯é”™çš„ï¼Œä¸»è¦æ˜¯frame_idè®¾ç½®çš„ä¸å¯¹ï¼Œåœ¨æˆ‘çš„æµ‹è¯•ç¯å¢ƒä¸­frame_idå¿…é¡»è¦è®¾ç½®ä¸ºmapï¼Œè€Œä¸æ˜¯pathã€‚å¦‚æœä½ åœ¨ä¿®æ”¹äº†ä»£ç ä¹‹åé‡åˆ°äº†<code>Fix Frame [map] does not exist</code>çš„æŠ¥é”™ï¼Œå°±è¯´æ˜ä½ çš„frame_idè®¾ç½®é”™è¯¯äº†ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/1c22f2d0bf3f055aa645d5a3ef503d19.webp" alt="image.png"></p><p>å‚è€ƒåšå®¢ï¼š</p><ul><li><a href="https://blog.csdn.net/YiYeZhiNian/article/details/109384099">blog.csdn.net/YiYeZhiNian/article/details/109384099</a></li><li><a href="https://blog.csdn.net/qinqinxiansheng/article/details/108288646">blog.csdn.net/qinqinxiansheng/article/details/108288646</a></li><li><a href="https://github.com/raulmur/ORB_SLAM2/issues/597">github.com/raulmur/ORB_SLAM2/issues/597</a></li></ul>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä¿®æ”¹ORB_SLAM2çš„ROS Demoï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å»ºå›¾çš„åŒæ—¶å‘å¸ƒä½å§¿ã€‚æœ¬æ–‡åªæ¶‰åŠROS RGB-Dçš„ä»£ç ä¿®æ”¹ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="é¡¹ç›®å¼€å‘è®°å½•" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="Linux" scheme="https://blog.musnow.top/tags/Linux/"/>
    
    <category term="SLAM" scheme="https://blog.musnow.top/tags/SLAM/"/>
    
  </entry>
  
  <entry>
    <title>ã€SLAMã€‘ä½¿ç”¨evoå·¥å…·æ¥ç»˜åˆ¶ORB_SLAM2è½¨è¿¹å›¾ï¼Œè¯„ä¼°ATE&#92;RPEæŒ‡æ ‡</title>
    <link href="https://blog.musnow.top/posts/2657887526/"/>
    <id>https://blog.musnow.top/posts/2657887526/</id>
    <published>2025-05-29T04:09:24.000Z</published>
    <updated>2025-05-31T12:48:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨evoå·¥å…·æ¥ç»˜åˆ¶ORB_SLAM2çš„è½¨è¿¹å›¾å’Œè¿›è¡ŒATE\RPEè¯„ä¼°ã€‚</p><blockquote><p>å‚è€ƒåšå®¢ï¼š<a href="https://zhaoxuhui.top/blog/2021/03/27/evo-slam-trajectory-evaluation.html">SLAMè½¨è¿¹ç²¾åº¦è¯„ä»·å·¥å…·evoç®€ä»‹ä¸ä½¿ç”¨</a></p></blockquote><h2 id="1-è¯´æ˜">1. è¯´æ˜</h2><p>ä¸ºäº†è®©SLAMå»ºå›¾çš„ç»“æœèƒ½å¤Ÿæ›´å¥½çš„å±•ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨githubå¼€æºçš„evoå·¥å…·é›†<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>æ¥å¯¹ORB_SLAM2ç”Ÿæˆçš„ç›¸æœºè½¨è¿¹è¿›è¡Œç»˜åˆ¶ï¼Œå±•ç°å‡ºç»˜åˆ¶åçš„ç»“æœå›¾ã€‚åŒæ—¶è¿›è¡Œapeå’Œrpeè¯„ä¼°ï¼Œè¯„ä¼°ç»“æœä¹Ÿæ˜¯æˆ‘ä»¬SLAMç³»ç»Ÿå’Œå…¶ä»–SLAMç³»ç»Ÿè¿›è¡Œå¯¹æ¯”çš„é‡è¦æŒ‡æ ‡ã€‚</p><p>githubå¼€æºåœ°å€ï¼š<a href="https://github.com/MichaelGrupp/evo">https://github.com/MichaelGrupp/evo</a></p><h2 id="2-å·¥å…·å®‰è£…">2. å·¥å…·å®‰è£…</h2><p>evoå·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨pipæ¥å®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼Œä½¿ç”¨äº†æ¸…åé•œåƒæºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install evo -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™æŠ¥é”™äº†ï¼Œæç¤ºæ˜¯ç¼ºå°‘äº†Fortran compilerã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">customize UnixCCompiler</span><br><span class="line">customize UnixCCompiler using build_clib</span><br><span class="line">building &#x27;dfftpack&#x27; library</span><br><span class="line">error: library dfftpack has Fortran sources but no Fortran compiler found</span><br></pre></td></tr></table></figure><p>å’¨è¯¢GPTåï¼Œè¯´æ˜¯éœ€è¦å®‰è£…gfortranåŒ…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install -y gfortran</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå®‰è£…gfortrançš„æ—¶å€™è¿ä¸ä¸Šports.ubuntu.comç«™ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹é•œåƒæºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sed -i <span class="string">&#x27;s#ports.ubuntu.com#mirrors.ustc.edu.cn/ubuntu-ports#g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure></blockquote><p>é»˜è®¤æƒ…å†µä¸‹pipä¼šæŠŠevoå·¥å…·å®‰è£…åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦æŠŠè¿™ä¸ªç›®å½•æ”¾å…¥PATHä¸­æ‰èƒ½ä½¿ç”¨evoå‘½ä»¤ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/.local/bin/</span><br></pre></td></tr></table></figure><h2 id="3-å·¥å…·ä½¿ç”¨">3. å·¥å…·ä½¿ç”¨</h2><h3 id="3-1-è½¨è¿¹ç»˜åˆ¶">3.1. è½¨è¿¹ç»˜åˆ¶</h3><p>ç»˜åˆ¶è½¨è¿¹çš„å‘½ä»¤å¦‚ä¸‹ï¼Œè¿™é‡Œçš„å‚æ•°åŒ…å«äº†ORB_SLAM2è¿è¡Œåäº§ç”Ÿçš„ç›¸æœºè½¨è¿¹ç»“æœCameraTrajectory.txtï¼Œä»¥åŠç”¨ä½œå‚è€ƒï¼ˆrefï¼‰çš„TUMæ•°æ®é›†groundtruthçœŸå®å€¼ã€‚åŒæ—¶æä¾›<code>-a</code>é€‰é¡¹æ¥å¯¹é½ç›¸æœºè½¨è¿¹ç»“æœå’ŒTUMæ•°æ®é›†å¯¹çœŸå®å€¼ï¼Œ<code>--plot</code>å‚æ•°ä»£è¡¨æˆ‘ä»¬å½“å‰éœ€è¦åšçš„æ“ä½œæ˜¯æ˜¾ç¤ºè½¨è¿¹å›¾ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">evo_traj tum \</span><br><span class="line">    CameraTrajectory.txt \</span><br><span class="line">    --ref=datasets/TUM/rgbd_dataset_freiburg1_desk/groundtruth.txt \</span><br><span class="line">    --plot -a</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°è“è‰²çš„æ˜¯æˆ‘ä»¬è¿è¡Œå‡ºæ¥çš„ç»“æœï¼Œç°è‰²è™šçº¿æ˜¯TUMæ•°æ®é›†çš„çœŸå®å€¼ï¼ŒäºŒè€…åŸºæœ¬æ‹Ÿåˆï¼Œæ•ˆæœä¸é”™ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/95e2da1799dad391d8d747a7e1da8472.webp" alt="image.png"></p><p>å›¾ä¸­å‡ºç°äº†ä¸€ä¸ªæŠ¥é”™ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬æ²¡æœ‰åŠæ³•æŒªåŠ¨GUIä¸­çš„å›¾åƒï¼ˆæœ¬æ¥æ˜¯å¯ä»¥3DæŒªåŠ¨çš„ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QStandardPaths: wrong ownership on runtime directory /run/user/1000, 1000 instead of 0</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•å°±æ˜¯ä¿®æ”¹ä¸‹é¢ä¸¤ä¸ªç›®å½•çš„æƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown root:root /run/user/1000</span><br><span class="line">sudo chmod 700 /run/user/1000</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¹‹åé‡æ–°å¯åŠ¨å·¥å…·ï¼Œå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºå¹¶ä¸”ç§»åŠ¨äº†</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/8c8e54456d51520e90ae4e1aaece45f7.webp" alt="image.png"></p><h3 id="3-2-ATE-RPEè¯„ä¼°">3.2. ATE\RPEè¯„ä¼°</h3><p>é™¤äº†ç»˜åˆ¶è½¨è¿¹å›¾å¤–ï¼Œevoå·¥å…·è¿˜å¯ä»¥ç”¨æ¥è¾“å‡ºORB_SLAM2è¿è¡Œç»“æœçš„<strong>ç»å¯¹ä½å§¿è¯¯å·®ATE</strong>ï¼Œå¯¹åº”çš„å‘½ä»¤æ˜¯evo_apeã€‚å¦‚æœè¦æ˜¾ç¤º<strong>ç›¸å¯¹ä½å§¿è¯¯å·®RPE</strong>å°±ç”¨evo_rpeå‘½ä»¤ã€‚</p><p>æœ¬æ–‡åªæ¶‰åŠevoå·¥å…·ä½¿ç”¨ï¼Œå…³äºATEå’ŒRPEè¿™ä¸¤ä¸ªæŒ‡æ ‡çš„å«ä¹‰ï¼Œå¯ä»¥å»å‚è€ƒTUMé’ˆå¯¹SLAMç³»ç»Ÿæ€§èƒ½è¯„ä¼°çš„è®ºæ–‡ï¼šA benchmark for the evaluation of RGB-D SLAM systems<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ã€‚</p><p>åœ¨æˆ‘å‚è€ƒçš„evoå·¥å…·ä½¿ç”¨åšå®¢ä¸­æœ‰ä¸‹é¢è¿™ä¸€å¥è¯ï¼š</p><blockquote><p>å¤§å¤šæ•°ä¸­è®ºæ–‡çš„æŒ‡æ ‡ä¸ºæµ‹é‡ç»å¯¹è¯¯å·®ï¼Œåœ¨è¿›è¡Œè¯„ä¼°æ—¶ï¼Œè‹¥ç»è¿‡äº†ç¼©æ”¾ï¼Œåœ¨å‘½ä»¤è¡Œä¸­åº”å°†çœŸå®è½¨è¿¹ï¼ˆå‚è€ƒè½¨è¿¹ï¼‰æ”¾åœ¨ä¼°è®¡è½¨è¿¹ï¼ˆè®¡ç®—è½¨è¿¹ï¼‰å‰æ–¹ï¼Œé¿å…åœ¨ç¼©æ”¾æ—¶å‚è€ƒè½¨è¿¹é”™è¯¯è€Œé€ æˆè¯¯å·®è¢«é”™è¯¯ç¼©æ”¾ã€‚</p></blockquote><p>è¯´äººè¯å°±æ˜¯åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªä½å§¿è¯„ä¼°å‘½ä»¤çš„æ—¶å€™ï¼Œgroundtruthå¿…é¡»è¦åœ¨CameraTrajectory<strong>ä¹‹å‰</strong>ä¼ å…¥ã€‚ç¤ºä¾‹å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">evo_ape tum \</span><br><span class="line">    datasets/TUM/rgbd_dataset_freiburg1_desk/groundtruth.txt \</span><br><span class="line">    CameraTrajectory.txt \</span><br><span class="line">    --plot -as</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¹‹åä¼šç»˜åˆ¶å‡ºä¸€å¼ APEçš„ç»“æœå›¾ï¼Œå±•ç°äº†æ•´ä½“çš„APEæ³¢åŠ¨ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/bcfc6d91837927a0b2aa5c21b72ea9c1.webp" alt="image.png"></p><p>ç»ˆç«¯ä¸­ä¼šæ˜¾ç¤ºå„é¡¹æŒ‡æ ‡çš„è®¡ç®—ç»“æœï¼š</p><ul><li><code>max</code>ï¼šæœ€å¤§è¯¯å·®ï¼›</li><li><code>mean</code>ï¼šå¹³å‡è¯¯å·®ï¼›</li><li><code>median</code>ï¼šè¯¯å·®ä¸­ä½æ•°ï¼›</li><li><code>min</code>ï¼šæœ€å°è¯¯å·®ï¼›</li><li><code>rmse</code>ï¼šå‡æ–¹æ ¹è¯¯å·®ï¼›</li><li><code>sse</code>ï¼šå’Œæ–¹å·®ã€è¯¯å·®å¹³æ–¹å’Œï¼›</li><li><code>std</code>ï¼šæ ‡å‡†å·®ã€‚</li></ul><p>ä¸‹é¢è¿™ä¸ªæ˜¯ORB_SLAM2é’ˆå¯¹tum fr1/deskåºåˆ—çš„çš„è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">APE w.r.t. translation part (m)</span><br><span class="line">(with Sim(3) Umeyama alignment)</span><br><span class="line"></span><br><span class="line">       max    0.070657</span><br><span class="line">      mean    0.012891</span><br><span class="line">    median    0.010890</span><br><span class="line">       min    0.001658</span><br><span class="line">      rmse    0.015674</span><br><span class="line">       sse    0.140522</span><br><span class="line">       std    0.008916</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨è®ºæ–‡ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨RMSEè¿™ä¸ª<strong>å‡æ–¹æ ¹è¯¯å·®</strong>æ¥ä½œä¸ºSLAMç³»ç»Ÿç²¾åº¦çš„å¯¹æ¯”æŒ‡æ ‡ï¼Œè¯¥æŒ‡æ ‡è¶Šä½ä»£è¡¨ç³»ç»Ÿè¯¯å·®è¶Šä½ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿè¶Šä¼˜ç§€ã€‚</p><h2 id="4-The-end">4. The end</h2><p>æœ¬æ–‡å¯¹evoå·¥å…·çš„ç®€å•ä»‹ç»å°±åˆ°è¿™é‡Œå•¦ã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Grupp M. evo: Python package for the evaluation of odometry and SLAM [EB/OL]. <a href="https://github.com/MichaelGrupp/evo">https://github.com/MichaelGrupp/evo</a>, 2017. <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>J. Sturm, N. Engelhard, F. Endres, W. Burgard and D. Cremers, â€œA benchmark for the evaluation of RGB-D SLAM systems,â€ 2012 IEEE/RSJ International Conference on Intelligent Robots and Systems, Vilamoura-Algarve, Portugal, 2012, pp. 573-580, doi: <a href="https://cvg.cit.tum.de/_media/spezial/bib/sturm12iros.pdf">10.1109/IROS.2012.6385773</a>. <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨evoå·¥å…·æ¥ç»˜åˆ¶ORB_SLAM2çš„è½¨è¿¹å›¾å’Œè¿›è¡ŒATE&#92;RPEè¯„ä¼°ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="é¡¹ç›®å¼€å‘è®°å½•" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="Linux" scheme="https://blog.musnow.top/tags/Linux/"/>
    
    <category term="SLAM" scheme="https://blog.musnow.top/tags/SLAM/"/>
    
  </entry>
  
  <entry>
    <title>ã€Macã€‘æ‹’ç»parallels toolboxï¼Œä»æˆ‘åšèµ·ï¼</title>
    <link href="https://blog.musnow.top/posts/9085567599/"/>
    <id>https://blog.musnow.top/posts/9085567599/</id>
    <published>2025-05-26T00:57:24.000Z</published>
    <updated>2025-05-26T01:53:09.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ˜¯ä¸ªçº¯åæ§½æ–‡ï¼Œå†™çš„æ¯”è¾ƒéšæ„ï¼Œä»…ä»£è¡¨ä¸ªäººè§‚ç‚¹ã€‚</p></blockquote><p>å‰å‡ å¤©ï¼Œä¸ºäº†å°è¯•parallelsè™šæ‹Ÿæœºçš„â€œèåˆæ¨¡å¼â€ï¼Œå»å®˜ç½‘é‡æ–°ä¸‹äº†æœ€æ–°ç‰ˆæœ¬çš„parallelsè™šæ‹Ÿæœºï¼ˆAppStoreé‡Œé¢çš„ç‰ˆæœ¬æ˜¯æ²¡æœ‰èåˆæ¨¡å¼çš„ï¼‰ï¼Œå½“æ—¶ä¹°macbook airé€äº†ä¸¤å¹´çš„æ ‡å‡†ç‰ˆï¼Œå¯ä»¥ç›´æ¥æ¿€æ´»ä½¿ç”¨ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œâ€œèåˆæ¨¡å¼â€å°±æ˜¯å¯ä»¥ç›´æ¥åœ¨macé‡Œé¢ä»¥åŸç”Ÿè½¯ä»¶çš„æ–¹å¼æ‰“å¼€windowsè™šæ‹Ÿæœºé‡Œé¢çš„è½¯ä»¶ï¼Œè½¯ä»¶çª—å£ç›´æ¥åœ¨macé‡Œé¢æ‰“å¼€è€Œä¸æ˜¯åœ¨è™šæ‹Ÿæœºé‡Œé¢æ‰“å¼€ï¼Œä½†å°è¯•ä¹‹åå‘ç°<strong>è½¯ä»¶ä¼šéå¸¸ç³Š</strong>ï¼Œä¸ªäººè®¤ä¸ºæ•ˆæœè¿˜ä¸å¦‚ç›´æ¥åˆ‡æ¢æ¡Œé¢åœ¨è™šæ‹Ÿæœºé‡Œé¢ç”¨ã€‚åªæ˜¯å°è¯•äº†ä¸€å°ä¼šä¹‹åå°±å…³é—­äº†èåˆæ¨¡å¼ã€‚</p><p>ä½†æ˜¯ï¼Œé—®é¢˜å°±æ¥äº†ï¼Œéšç€è¿™ä¸ªå®˜ç½‘ä¸‹è½½çš„parallelsä¸€åŒå®‰è£…çš„ï¼Œè¿˜æœ‰ä¸€ä¸ª<strong>parallels toolbox</strong>ï¼Œæˆ‘æœ¬æ¥ä»¥ä¸ºè¿™ä¸ªæ˜¯ç”¨æ¥æ§åˆ¶è™šæ‹Ÿæœºçš„è½¯ä»¶ï¼Œæ‰€ä»¥å°±ç›´æ¥å…è®¸å®‰è£…äº†ã€‚æ²¡æƒ³åˆ°å®‰è£…äº†ä¹‹åæ˜¯ä¸€ç³»åˆ—çƒ¦äººäº‹æƒ…çš„å¼€å§‹ã€‚</p><blockquote><p>å®é™…ä¸Šï¼š<code>parallels tools</code>æ˜¯åœ¨è™šæ‹Ÿæœºå†…éƒ¨å®‰è£…çš„ï¼Œç”¨äºæ§åˆ¶è™šæ‹Ÿæœºï¼Œå®ç°å‰ªè´´æ¿åŒæ­¥ç­‰åŠŸèƒ½ã€‚<code>parallels toolbox</code>æ˜¯åœ¨macä¸Šå®‰è£…çš„ä¸€ä¸ªç”¨æ¥ä¼˜åŒ–macä½¿ç”¨çš„è½¯ä»¶ï¼Œå’Œè™šæ‹Ÿæœºæ²¡æœ‰ä»»ä½•å…³ç³»ï¼</p></blockquote><p>æˆ‘æœ‰å¦å¤–ä¸€å°windowså°å¼æœºï¼Œæ›´æ–°å®Œæ¯•parallelsè™šæ‹Ÿæœºä¹‹åå°±å»æ‰“æ¸¸æˆäº†ï¼Œç¬¬äºŒå¤©å›æ¥ç»§ç»­ç”¨macï¼Œä¸€çœ‹ï¼Œæˆ‘é ï¼Œ<strong>æ¡Œé¢ä¸Šçš„æ–‡ä»¶å¤¹æ€ä¹ˆéƒ½æ²¡äº†</strong>ï¼Ÿæˆ‘çš„æ¯•è®¾è®ºæ–‡å’Œä»£ç å¯éƒ½åœ¨æ¡Œé¢ä¸Šå•Šï¼Œè›‹ç³•äº†ï¼</p><p>ç¬¬ä¸€ååº”æ˜¯æ›´æ–°parallelsè™šæ‹Ÿæœºé‡æ–°åˆå§‹åŒ–windowsçš„æ—¶å€™æŠŠæ¡Œé¢çš„ä¸œè¥¿éƒ½æ¸…ç©ºäº†ï¼ˆå› ä¸ºæˆ‘åœ¨è¿™æ®µæ—¶é—´åªåšè¿‡è¿™ä¸€ä¸ªå¯èƒ½å½±å“ç”µè„‘çš„æ“ä½œï¼‰ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹windowsè™šæ‹Ÿæœºé‡Œé¢çš„å›æ”¶ç«™å’Œmacè‡ªå·±çš„åƒåœ¾æ¡¶ï¼Œéƒ½æ²¡æœ‰æ¡Œé¢æ–‡ä»¶å¤¹ï¼Œå¹²ï¼éš¾é“æ–‡ä»¶ä¸¢äº†ï¼Ÿ</p><blockquote><p>è¿™é‡Œå°±å¾—æä¸€å˜´<a href="https://blog.musnow.top/posts/3543423459/">å¤‡ä»½</a>çš„é‡è¦æ€§äº†ï¼Œè™½ç„¶æˆ‘çš„ä¸œè¥¿éƒ½æ”¾åœ¨äº†æ¡Œé¢ä¸Šï¼Œä½†æ˜¯æˆ‘çš„æ¯•è®¾è®ºæ–‡æ˜¯ç”¨wpsåŒæ­¥è¿‡çš„ï¼Œæ¯•è®¾ä»£ç ä¹Ÿæœ‰gitï¼Œå³ä¾¿è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹éƒ½ä¸¢äº†ï¼Œä¹Ÿä¸ä¼šé€ æˆå®é™…ä¸Šçš„æ•°æ®ä¸¢å¤±ï¼Œä½†çƒ¦äººå’Œæ¼ç«æ˜¯è‚¯å®šçš„ï¼</p></blockquote><p>èµ¶å¿«æ‰“å¼€vscodeè®°å½•é‡Œé¢æ¡Œé¢ä¸Šçš„å·¥ä½œç©ºé—´ï¼Œæ­£å¸¸æ‰“å¼€â€¦â€¦è¯¶ï¼Ÿæ–‡ä»¶æ²¡ä¸¢ï¼Ÿ</p><p>å†lsçœ‹ä¸€ä¸‹ï¼Œå¾—å˜ï¼Œæ¡Œé¢ä¸Šçš„æ–‡ä»¶å¤¹éƒ½åœ¨ï¼Œè¿˜å¥½è¿˜å¥½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â¯ ls ~/Desktop</span><br><span class="line">final  docker</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯éƒ½åœ¨ï¼Œä¸ºä»€ä¹ˆä¸æ˜¾ç¤ºå‘¢ï¼Ÿ</p><p>é‚£å°±åªèƒ½æ˜¯è¢«è®¾ç½®æˆäº†éšè—æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨<code>command+shift+.</code>è¿™ä¸ªå¿«æ·é”®ï¼Œå¯ä»¥åœ¨è®¿è¾¾é‡Œé¢åˆ‡æ¢æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶å¤¹ï¼Œåˆ‡æ¢äº†ä¹‹åæ¡Œé¢ä¸Šçš„æ–‡ä»¶å¤¹å°±ä»¥æš—è‰²æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œç¡®å®æ˜¯è¢«éšè—äº†ã€‚</p><p>é‚£å°±å–æ¶ˆéšè—æ–‡ä»¶å¤¹å§ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œé¢æ‰§è¡Œä¸€ä¸‹chflagså‘½ä»¤æ¥è®¾ç½®æˆ–å–æ¶ˆéšè—æ–‡ä»¶å¤¹ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chflags nohidden ~/Desktop <span class="comment"># å–æ¶ˆéšè—æ–‡ä»¶å¤¹</span></span><br><span class="line">chflags hidden ~/Desktop   <span class="comment"># éšè—æ–‡ä»¶å¤¹</span></span><br></pre></td></tr></table></figure><p>å¥½çš„ï¼Œé—®é¢˜æ˜¯è§£å†³äº†ï¼Œä½†è¿˜å¾—æ‰¾åˆ°ç½ªé­ç¥¸é¦–ã€‚</p><p>é‚£å°±æ˜¯å‰é¢æåˆ°çš„parallels toolboxäº†ï¼Œè¿™ä¸ªè½¯ä»¶æœ‰ä¸€ä¸ªâ€œæ¼”ç¤ºæ¨¡å¼â€ï¼Œåœ¨macè¿æ¥åˆ°ç¬¬äºŒå—å±å¹•çš„æ—¶å€™ï¼Œ<strong>éšè—æ¡Œé¢ä¸Šæ‰€æœ‰æ–‡ä»¶</strong>ã€‚ä»è¿™ä¸ªåŠŸèƒ½çš„åç§°å’Œæ„ä¹‰æ¥çœ‹ï¼Œå®ƒè‚¯å®šæ˜¯æœ‰ç‚¹ç”¨çš„ï¼Œåœ¨ä¼šè®®æ¼”ç¤ºçš„æ—¶å€™æ¡Œé¢ä¸Šçš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨éšè—ï¼Œä¸ä¼šè¢«å…¶ä»–äººçœ‹åˆ°ä½ æ”¾åœ¨æ¡Œé¢ä¸Šçš„æ–‡ä»¶ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/5f5f638c492b44fda55b311fad6cf94f.webp" alt="image.png"></p><p>ä½†æ˜¯ï¼<strong>é—®é¢˜å°±åœ¨äºè¿™ä¸ªæ¼”ç¤ºæ¨¡å¼åœ¨å¼€å¯æ—¶æ²¡æœ‰ä»»ä½•è¯´æ˜</strong>ï¼Œå®ƒä¿®æ”¹äº†ä»€ä¹ˆè®¾ç½®ä½ éƒ½éœ€è¦ç‚¹è¿›è¿™ä¸ªæ¼”ç¤ºæ¨¡å¼çš„è®¾ç½®é‡Œé¢æ‰èƒ½çœ‹åˆ°ï¼Œåœ¨çŠ¶æ€æ ä¹Ÿä¸ä¼šæœ‰ä»»ä½•ç°åœ¨æ­£å¤„äºæ¼”ç¤ºæ¨¡å¼çš„æç¤ºï¼Œåªæœ‰ä¸€ä¸ªparallels toolboxçš„å›¾æ ‡ã€‚</p><p>è€Œä¸”å®‰è£…äº†parallels toolboxä¹‹åï¼Œ<strong>æ¼”ç¤ºæ¨¡å¼å°±ä¼šè‡ªåŠ¨å¼€å¯</strong>ï¼Œé€€å‡ºparallels toolboxè½¯ä»¶ä¹Ÿ<strong>ä¸ä¼š</strong>æŠŠæ¡Œé¢çš„éšè—æ–‡ä»¶å¤¹æ¢å¤ã€‚å¯¹äºåƒæˆ‘è¿™ç§macé•¿æœŸé“¾æ¥æ˜¾ç¤ºå™¨çš„ç”¨æˆ·è€Œè¨€ï¼Œè¿™ä¸ªå·¥å…·åœ¨å®‰è£…äº†ä¹‹åçš„æ•ˆæœå°±æ˜¯æ¡Œé¢ä¸Šçš„æ–‡ä»¶å¤¹è«åå…¶å¦™çš„æ¶ˆå¤±äº†ï¼Œè¿™èƒ½ä¸å“äººå—ï¼</p><p>é—®é¢˜è¿˜ä¸æ­¢è¿™ä¸€ä¸ªï¼Œparallels toolboxè½¯ä»¶åŒæ—¶ä¿®æ”¹äº†æˆ‘çš„ç”µæºè®¡åˆ’ï¼Œè€Œä¸”è‚¯å®šæ˜¯ç³»ç»Ÿè®¾ç½®é‡Œé¢æ²¡æœ‰çš„ç”µæºè®¡åˆ’ï¼Œå¯¼è‡´æˆ‘çš„macç°åœ¨åœ¨é”å±é˜¶æ®µä¸ä¼šè‡ªåŠ¨ç†„å±ï¼ˆåŸæœ¬åœ¨é”å±é¡µé¢ä¸Šè¿‡20åˆ†é’Ÿåä¼šè‡ªåŠ¨å…³é—­å±å¹•çš„ï¼‰ï¼Œè¿™ä¹Ÿå¾ˆçƒ¦äººï¼Œå¯¼è‡´æˆ‘æ™šä¸Šè¦ä¹ˆæŠŠæ˜¾ç¤ºå™¨å…³äº†è¦ä¹ˆæ‰‹åŠ¨ç‚¹å‡»macçš„ç¡çœ æŒ‰é’®æˆ–è€…ç›´æ¥æŠŠmacå…³æœºã€‚å¸è½½äº†parallels toolboxä¹‹åé‡å¯ç”µè„‘æ‰æ¢å¤ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œparallels toolboxè½¯ä»¶è™½ç„¶æä¾›äº†ä¸€äº›å¯èƒ½æœ‰å¸®åŠ©çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒå¯¹ç³»ç»Ÿè®¾ç½®çš„<strong>æ— å£°ä¿®æ”¹</strong>éå¸¸è‡´å‘½ï¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹ç”µè„‘ä½¿ç”¨ä¸å¤Ÿç†Ÿæ‚‰çš„å°ç™½ï¼Œå®‰è£…è™šæ‹Ÿæœºæ—¶æ— æ„ä¸­å®‰è£…äº†è¿™ä¸ªè½¯ä»¶çš„æ—¶å€™ï¼Œææ€•å¾ˆéš¾æ„è¯†åˆ°è‡ªå·±çš„ç”µè„‘å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Œå…‰æ˜¯æ¡Œé¢æ–‡ä»¶å¤¹æ¶ˆå¤±äº†è¿™ä¸€ç‚¹å°±å¤Ÿè®©äººèƒ†æˆ˜å¿ƒæƒŠçš„ï¼Œæˆ‘å½“æ—¶çœŸçš„è¢«å“åˆ°äº†ã€‚</p><p>parallels toolboxè¦ä¹ˆåœ¨å¼€å¯è¿™äº›è¾…åŠ©åŠŸèƒ½çš„æ—¶å€™å¼¹çª—æ˜ç¡®è¯´æ˜æ¯ä¸ªåŠŸèƒ½çš„ä½œç”¨ï¼ˆæˆ‘ç”šè‡³éƒ½ä¸è®°å¾—æ¼”ç¤ºæ¨¡å¼å¼€å¯çš„æ—¶å€™æœ‰æ²¡æœ‰å¼¹çª—æç¤ºäº†ï¼Œå°è±¡é‡Œæ˜¯å®Œå…¨æ²¡æœ‰çš„ï¼‰ï¼Œè¦ä¹ˆå°±åˆ«è‡ªåŠ¨å¼€å¯è¿™äº›åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯<strong>æ¼”ç¤ºæ¨¡å¼</strong>åŠŸèƒ½ã€‚</p><p>çœŸæ— è¯­â€¦â€¦</p>]]></content>
    
    
    <summary type="html">è¢«parallels toolboxçš„æ¼”ç¤ºæ¨¡å¼åŠŸèƒ½ç»™å‘æƒ¨äº†ï¼Œæ‹’ç»parallels toolboxï¼Œä»æˆ‘åšèµ·ï¼</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="ç”µè„‘ä½¿ç”¨å°è´´å£«" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/"/>
    
    
    <category term="MacBook" scheme="https://blog.musnow.top/tags/MacBook/"/>
    
  </entry>
  
  <entry>
    <title>ã€Hexoã€‘å°†ä»£ç å—ä¸­tabæ›¿æ¢ä¸ºç©ºæ ¼ï¼ˆä¿®æ”¹tab_replaceï¼‰</title>
    <link href="https://blog.musnow.top/posts/7827607861/"/>
    <id>https://blog.musnow.top/posts/7827607861/</id>
    <published>2025-05-16T02:00:57.000Z</published>
    <updated>2025-08-02T09:08:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡ä¿®æ”¹hexoé…ç½®æ–‡ä»¶å°†ä»£ç å—ä¸­å‡ºç°çš„tabåˆ¶è¡¨ç¬¦æ”¹æˆ4ä¸ªç©ºæ ¼ã€‚</p><h2 id="é—®é¢˜">é—®é¢˜</h2><p>æœ€è¿‘å‘ç°æœ¬ç«™éƒ¨åˆ†ä»£ç å—ä¸­ç¼©è¿›è¿‡äºç¦»è°±ï¼Œæ¯”å¦‚<a href="https://blog.musnow.top/posts/4192678800/">python uv</a>è¿™ç¯‡åšå®¢ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/05/b261108bc9763f858aaa8977257a14e0.webp" alt="image.png"></p><p>æ£€æŸ¥äº†æ­¤å¤„çš„mdæºç ä¹‹åå‘ç°ï¼Œä»£ç å—ä¸­çš„ç¼©è¿›æ˜¯tabè€Œä¸æ˜¯ç©ºæ ¼ï¼Œæ‰€ä»¥å¯¼è‡´é‡‡ç”¨äº†htmlé»˜è®¤çš„8ä¸ªç©ºæ ¼æ¥å±•ç¤ºtabï¼Œå¯¼è‡´ç¼©è¿›è¿‡é•¿ã€‚</p><h2 id="è§£å†³">è§£å†³</h2><blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_41948288/article/details/138728709">https://blog.csdn.net/qq_41948288/article/details/138728709</a></p></blockquote><p>hexoä¸­ä»£ç å—çš„æ¸²æŸ“æ˜¯ç”±hexoæœ¬èº«è´Ÿè´£çš„ï¼Œç»å¤§éƒ¨åˆ†ä¸»é¢˜å¹¶æ²¡æœ‰å¼•å…¥ç‹¬ç«‹çš„ä»£ç å—æ¸²æŸ“æœºåˆ¶ã€‚æ‰€ä»¥ä»£ç å—çš„é…ç½®é¡¹æ˜¯åœ¨hexoè‡ªå·±çš„<code>_config.yaml</code>é…ç½®æ–‡ä»¶ä¸­ã€‚</p><p>hexo <code>_config.yaml</code>é…ç½®æ–‡ä»¶ï¼ˆæˆ‘çš„æ˜¯åœ¨ç¬¬50è¡Œï¼‰çš„highlightå°±æ˜¯ä»£ç å—çš„é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">exclude_languages:</span> [<span class="string">&#x27;mermaid&#x27;</span>] <span class="comment"># æ¸²æŸ“çš„æ—¶å€™å¿½ç•¥ä»£ç è¯­è¨€</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­æœ‰ä¸€ä¸ªé€‰é¡¹æ˜¯tab_replaceï¼Œé»˜è®¤æ˜¯ç©ºï¼Œä¸ä¼šåšä»»ä½•æ›¿æ¢æ“ä½œã€‚å°†å…¶ä¿®æ”¹ä¸º4ä¸ªç©ºæ ¼å³å¯ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tab_replace:</span> <span class="string">&#x27;    &#x27;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼Œé‡æ–°è¿›è¡Œhexo clå’Œhexo gï¼Œå°±å¯ä»¥è§‚å¯Ÿåˆ°ç”Ÿæ•ˆåçš„ä»£ç å—ï¼Œä¸å†å‡ºç°è¿‡é•¿çš„ç¼©è¿›äº†</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;å·¥å…·åç§°&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uv&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="string">&quot;--directory&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;å·¥ä½œè·¯å¾„&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;run&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;test.py&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>é—®é¢˜è§£å†³</p>]]></content>
    
    
    <summary type="html">é€šè¿‡ä¿®æ”¹hexoé…ç½®æ–‡ä»¶å°†ä»£ç å—ä¸­å‡ºç°çš„tabåˆ¶è¡¨ç¬¦æ”¹æˆ4ä¸ªç©ºæ ¼ï¼Œå…¨ä¸»é¢˜é€šç”¨</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/tags/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    <category term="Hexo" scheme="https://blog.musnow.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>ã€MCPã€‘äº†è§£è¿œç¨‹MCPè°ƒç”¨èƒŒåä½¿ç”¨çš„SSEåè®®</title>
    <link href="https://blog.musnow.top/posts/2725694758/"/>
    <id>https://blog.musnow.top/posts/2725694758/</id>
    <published>2025-04-20T06:47:57.000Z</published>
    <updated>2025-08-11T13:46:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†è¿œç¨‹MCPä½¿ç”¨çš„SSEåè®®ï¼Œé€šè¿‡wiresharkæŠ“åŒ…çš„æ–¹å¼äº†è§£MCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´é€šè¿‡SSEåè®®äº¤äº’æ¶‰åŠåˆ°çš„è¯·æ±‚ä¸å“åº”ã€‚</p><h2 id="1-ä»€ä¹ˆæ˜¯SSEåè®®ï¼Ÿ">1. ä»€ä¹ˆæ˜¯SSEåè®®ï¼Ÿ</h2><blockquote><p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/1894024642395619635">ç§‘æ™®ä¸€ä¸‹MCPæ—¶ä»£é‡è¦çš„SSEåè®®</a>ã€<a href="https://blog.csdn.net/aerror/article/details/146208818">å…³äºMCP SSE æœåŠ¡å™¨çš„å·¥ä½œåŸç†</a></p></blockquote><p>MCPçš„è¿œç¨‹æœåŠ¡æ˜¯é€šè¿‡SSEï¼ˆServer-Sent Eventsï¼‰å¯åŠ¨çš„ï¼ŒSSEæ˜¯ä¸€ä¸ªåŸºäºHTTPçš„é•¿è¿æ¥åè®®ã€‚SSEåœ¨é€»è¾‘ä¸Šæ˜¯ä¸€ä¸ªç”±å®¢æˆ·ç«¯å‘èµ·ã€ç”±æœåŠ¡å™¨åŒæ„è€Œå»ºç«‹çš„<strong>ä»æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘æ¶ˆæ¯çš„å•å‘ç®¡é“</strong>ã€‚è¿™ä¸ªç®¡é“å»ºç«‹ä¹‹åï¼Œ<strong>å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘æ¶ˆæ¯æ—¶ç”¨ä¼ ç»Ÿæ–¹å¼å‘</strong>ï¼ŒæœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å‘æ¶ˆæ¯æ—¶ç”¨è¿™ä¸ªç®¡é“å‘ï¼ŒåŒæ–¹å°±å¯ä»¥çµæ´»åœ°è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>MCP SSEå®¢æˆ·ç«¯ä¼šå‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œç¬¬ä¸€ä¸ªè¯·æ±‚æ˜¯<code>/sse</code>è·¯å¾„ï¼Œè¿™æ˜¯å»ºç«‹SSEé•¿è¿æ¥çš„ç¬¬ä¸€æ­¥ã€‚æœåŠ¡ç«¯ä¼šä½¿ç”¨chunkedæ–¹å¼æ¥å›ä¼ æ•°æ®ï¼Œæ¯æ¬¡ä¸å‘Šè¯‰å®¢æˆ·ç«¯æ•°æ®é‡æœ‰å¤šå°‘ï¼Œè®©å®¢æˆ·ç«¯ä¿æŒè¿æ¥å§‹ç»ˆè”é€šï¼Œå³ç»´æŠ¤äº†ä¸€ä¸ªé•¿è¿æ¥ã€‚åç»­æ¯ä¸€æ¬¡æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯çš„é€šè®¯ï¼Œéƒ½ä¼šé‡‡ç”¨äº‹ä»¶å­—èŠ‚æ•°ã€äº‹ä»¶åç§°eventã€dataä¸‰ä¸ªå­—æ®µæ¥é€šä¿¡ï¼ˆæœåŠ¡ç«¯å‘é€ç»™å®¢æˆ·ç«¯ï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">äº‹ä»¶å­—èŠ‚æ•°ï¼ˆåå…­è¿›åˆ¶ï¼‰</span><br><span class="line">event: äº‹ä»¶åç§°</span><br><span class="line">data: äº‹ä»¶æ•°æ®</span><br><span class="line">&lt;è¿™é‡Œä¸€å®šä¼šæœ‰ä¸€ä¸ªç©ºè¡Œï¼Œä½œä¸ºå•ä¸ªäº‹ä»¶ç»“æŸæ ‡å¿—&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ç¬¬ä¸€è¡Œæ˜¯æ¶ˆæ¯çš„å­—èŠ‚æ•°ï¼Œä»¥åå…­è¿›åˆ¶ç»™å‡ºã€‚ä»ç¬¬äºŒè¡Œeventå¼€å§‹ä¸€ç›´åˆ°dataç»“æŸï¼Œéƒ½æ˜¯è¿™ä¸ªäº‹ä»¶å­—èŠ‚æ•°çš„é•¿åº¦èŒƒå›´å†…ï¼ˆä¸åŒ…æ‹¬æœ«å°¾çš„<code>\r\n</code>ï¼‰</p><blockquote><p>2025.08.11 å¤‡æ³¨ï¼šåœ¨æ›´æ–°ä¹‹å‰çš„åšå®¢ä¸­ï¼Œç¬¬ä¸€è¡Œçš„<strong>äº‹ä»¶å­—èŠ‚æ•°</strong>è¢«æˆ‘é”™è¯¯çš„ç†è§£ä¸ºäº†ä¸å˜çš„äº‹ä»¶IDï¼Œåœ¨æ­¤å¯¹å—è¯¯å¯¼çš„è¯»è€…è¡¨ç¤ºæŠ±æ­‰ï¼æ„Ÿè°¢è¯„è®ºåŒºç½‘å‹çš„æŒ‡æ­£ï¼</p></blockquote><h2 id="2-å®é™…æµ‹è¯•ï¼šè¿è¡ŒMCPæœåŠ¡ç«¯å’ŒQwenAgent">2. å®é™…æµ‹è¯•ï¼šè¿è¡ŒMCPæœåŠ¡ç«¯å’ŒQwenAgent</h2><p>å› ä¸ºä½¿ç”¨sseè¿œç¨‹æ–¹å¼å¯åŠ¨mcpæœåŠ¡ç«¯æ—¶æ˜¯åœ¨æœ¬åœ°å›ç¯åœ°å€å¯åŠ¨çš„ï¼Œ æ‰€ä»¥å¯ä»¥é€šè¿‡wiresharkå·¥å…·ç›‘å¬åˆ°æˆ‘ä»¬æœ¬åœ°å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´ä¼ è¾“çš„è¯·æ±‚ä¸å“åº”ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥è¿›ä¸€æ­¥äº†è§£mcpæ¯ä¸€æ­¥éƒ½è¯·æ±‚äº†ä»€ä¹ˆï¼Œå“åº”äº†ä»€ä¹ˆã€‚</p><p>é¦–å…ˆæ˜¯ç”¨sseæ¨¡å¼å¯åŠ¨æˆ‘ä»¬çš„mcpæœåŠ¡ç«¯demoï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹python sdkä¸­çš„<code>mcp-python-sdk/examples/servers/simple-tool</code>ï¼Œè®¾ç½®ç«¯å£ä¸º8000ã€‚æ³¨æ„ä¿®æ”¹å‘½ä»¤ä¸­<code>--directory</code>ä¹‹åçš„è·¯å¾„ä¸ºä½ ç”µè„‘ä¸Š<code>simple-tool</code>çš„æ­£ç¡®è·¯å¾„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uv run \</span><br><span class="line">    --directory mcp-python-sdk/examples/servers/simple-tool \</span><br><span class="line">    mcp-simple-tool \</span><br><span class="line">    --transport sse --port 8000</span><br></pre></td></tr></table></figure><p>ç„¶åå†åœ¨wiresharké‡Œé¢ç›‘å¬<strong>æœ¬åœ°å›ç¯</strong>åœ°å€ï¼Œä½¿ç”¨è¿‡æ»¤å™¨<code>tcp.port==8000</code>ç­›é€‰å‡ºæ‰€æœ‰å’Œ8000ç«¯å£æœ‰å…³çš„è¯·æ±‚ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/960acbb8a0e910ffcaf90cfba3a6a669.webp" alt="image.png"></p><p>ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼Œè¿è¡Œä¸€æ¬¡QwenAgentï¼Œè°ƒç”¨mcpå·¥å…·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> qwen_agent.agents <span class="keyword">import</span> Assistant</span><br><span class="line"><span class="comment"># DEBUGæ¨¡å¼ï¼Œåˆ—å‡ºè¯¦ç»†å¤„ç†æ—¥å¿—</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(level=logging.DEBUG, </span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(levelname)s - %(message)s&#x27;</span>, </span><br><span class="line">                    filename=<span class="string">&#x27;app.log&#x27;</span>, </span><br><span class="line">                    filemode=<span class="string">&#x27;a&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_agent_service</span>():</span><br><span class="line">    llm_cfg = &#123;</span><br><span class="line">        <span class="string">&#x27;model&#x27;</span>: <span class="string">&#x27;Qwen/Qwen2.5-32B-Instruct&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;model_server&#x27;</span>: <span class="string">&#x27;https://api.siliconflow.cn/v1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;api_key&#x27;</span>: <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    system = (<span class="string">&#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚&#x27;</span>)</span><br><span class="line">    tools = [&#123;</span><br><span class="line">        <span class="string">&quot;mcpServers&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;exmaple-server&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://127.0.0.1:8000/sse&quot;</span>,</span><br><span class="line">                <span class="string">&quot;disabled&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">                <span class="string">&quot;timeout&quot;</span>: <span class="number">30</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">    bot = Assistant(</span><br><span class="line">        llm=llm_cfg,</span><br><span class="line">        name=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>,</span><br><span class="line">        description=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹&#x27;</span>,</span><br><span class="line">        system_message=system,</span><br><span class="line">        function_list=tools,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">text=<span class="string">&#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;</span></span>):</span><br><span class="line">    bot = init_agent_service()</span><br><span class="line">    messages = [&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: text&#125;]</span><br><span class="line">    <span class="comment"># è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">for</span> response <span class="keyword">in</span> bot.run(messages):</span><br><span class="line">        logging.info(<span class="string">&#x27;bot response: &#x27;</span> + <span class="built_in">str</span>(response)) <span class="comment"># è¿™é‡Œä¹Ÿç”¨loggingæ‰“å°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>MCPæœåŠ¡ç«¯æœåŠ¡ç«¯çš„æ—¥å¿—ä¸­ä¼šå‡ºç°ä¸‹é¢äº”æ¡è¯·æ±‚è®°å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â¯ uv run --directory /Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool mcp-simple-tool --transport sse --port 8000</span><br><span class="line">start server sse</span><br><span class="line">INFO:     Started server process [87086]</span><br><span class="line">INFO:     Waiting for application startup.</span><br><span class="line">INFO:     Application startup complete.</span><br><span class="line">INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)</span><br><span class="line">INFO:     127.0.0.1:49652 - &quot;GET /sse HTTP/1.1&quot; 200 OK</span><br><span class="line">INFO:     127.0.0.1:49654 - &quot;POST /?session_id=b53301ca408f4da4a12562ce2fde23de HTTP/1.1&quot; 202 Accepted</span><br><span class="line">INFO:     127.0.0.1:49656 - &quot;POST /?session_id=b53301ca408f4da4a12562ce2fde23de HTTP/1.1&quot; 202 Accepted</span><br><span class="line">INFO:     127.0.0.1:49658 - &quot;POST /?session_id=b53301ca408f4da4a12562ce2fde23de HTTP/1.1&quot; 202 Accepted</span><br><span class="line">INFO:     127.0.0.1:49668 - &quot;POST /?session_id=b53301ca408f4da4a12562ce2fde23de HTTP/1.1&quot; 202 Accepted</span><br></pre></td></tr></table></figure><h2 id="3-åˆ†æwiresharkæŠ“åŒ…ç»“æœ">3. åˆ†æwiresharkæŠ“åŒ…ç»“æœ</h2><h3 id="3-1-ç¬¬ä¸€æ¡è¯·æ±‚ï¼š-SSE">3.1. ç¬¬ä¸€æ¡è¯·æ±‚ï¼š/SSE</h3><p>é¦–å…ˆåœ¨wiresharkä¸­æ‰¾åˆ°ç¬¬ä¸€æ¡sseè¯·æ±‚ï¼Œåœ¨wiresharkä¸­èƒ½æ¸…æ™°çš„çœ‹åˆ°å®¢æˆ·ç«¯ä»49652ç«¯å£å‘8000ç«¯å£å‘èµ·<strong>TCPä¸‰æ¬¡æ¡æ‰‹</strong>çš„è®°å½•ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/69148f26b67e74bd190c98224b0e15e9.webp" alt="image.png"></p><p>å®¢æˆ·ç«¯å‘èµ·çš„<code>/sse</code>æ¥å£çš„è¯·æ±‚æŠ¥æ–‡å¦‚ä¸‹ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/sse</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>127.0.0.1:8000</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>python-httpx/0.28.1</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/event-stream</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-store</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯çš„å“åº”å¦‚ä¸‹ï¼Œè¿™ä¸€ä¸²å“åº”æ˜¯åœ¨ä¸¤ä¸ªtcpæŠ¥æ–‡ä¸­å‘å‡ºçš„ï¼Œä¸‹å›¾ä¸­ç”¨ç´«è‰²è§å…‰ç¬”æ ‡æ³¨lenä¸ä¸º0çš„å°±æ˜¯æœåŠ¡ç«¯å‘å‡ºçš„ä¸¤ä¸ªæŠ¥æ–‡ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/815180df9842b41001a215e6d4b373d2.webp" alt="image.png"></p><blockquote><p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œçš„HTTPå“åº”æŠ¥æ–‡æ˜¯ä¸€ä¸ªchunkedç±»å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€æ¡HTTPå“åº”æŠ¥æ–‡åç»­è¿˜ä¸€ç›´ä¼šæœ‰å…¶ä»–å†…å®¹ï¼ˆæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ç®¡é“ï¼‰ï¼Œç›´åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„äº¤äº’ç»“æŸäº†ï¼Œè¿™ä¸€æ¡HTTPå“åº”æŠ¥æ–‡æ‰ç®—å®Œæ•´ç»“æŸï¼</p></blockquote><p>è¿™ä¸¤ä¸ªæŠ¥æ–‡çš„å†…å®¹æ‹¼æ¥èµ·æ¥å¦‚ä¸‹ï¼Œä¸ºäº†æ›´ç›´è§‚çš„å±•ç¤ºHTTPæŠ¥æ–‡æ ¼å¼ï¼Œè¿™é‡Œå°†HTTPåè®®çš„<code>\r\n</code>æ¢è¡Œç¬¦ä¹Ÿäººå·¥æ ‡è¯†å‡ºæ¥ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK\r\n</span><br><span class="line"><span class="attribute">date</span><span class="punctuation">: </span>Sun, 20 Apr 2025 06:00:38 GMT\r\n</span><br><span class="line"><span class="attribute">server</span><span class="punctuation">: </span>uvicorn\r\n</span><br><span class="line"><span class="attribute">cache-control</span><span class="punctuation">: </span>no-cache\r\n</span><br><span class="line"><span class="attribute">connection</span><span class="punctuation">: </span>keep-alive\r\n</span><br><span class="line"><span class="attribute">x-accel-buffering</span><span class="punctuation">: </span>no\r\n</span><br><span class="line"><span class="attribute">content-type</span><span class="punctuation">: </span>text/event-stream; charset=utf-8\r\n</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked\r\n</span><br><span class="line">\r\n</span><br><span class="line">51\r\n</span><br><span class="line"><span class="attribute">event</span><span class="punctuation">: </span>endpoint\r\n</span><br><span class="line"><span class="attribute">data</span><span class="punctuation">: </span>/messages/?session_id=b53301ca408f4da4a12562ce2fde23de\r\n</span><br><span class="line">\r\n\r\n</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¾¿æ˜¯æœåŠ¡ç«¯å‘å‡ºçš„ç¬¬ä¸€ä¸ªSSEåè®®äº‹ä»¶æ•°æ®äº†ã€‚å…¶ä¸­ï¼š</p><ul><li>äº‹ä»¶å­—èŠ‚æ•°æ˜¯åå…­è¿›åˆ¶çš„51ï¼ˆåè¿›åˆ¶81ï¼Œæ˜¯ä»eventå¼€å§‹ä¸€ç›´åˆ°dataç»“æŸå…±81å­—èŠ‚ï¼‰ï¼›</li><li>äº‹ä»¶åç§°æ˜¯endpointï¼ˆå‘Šè¯‰å®¢æˆ·ç«¯åç»­éœ€è¦è¯·æ±‚çš„æ¥å£è·¯å¾„æ˜¯å•¥ï¼‰â€˜</li><li>äº‹ä»¶å†…å®¹å°±æ˜¯endpointçš„å…·ä½“å€¼äº†ã€‚</li></ul><p>åœ¨dataä¹‹åè¿˜é¢å¤–å‡ºç°äº†ä¸¤ä¸ª<code>\r\n</code>ï¼Œè¿™ä¾¿æ˜¯å•ä¸ªäº‹ä»¶çš„ç»“æŸæ ‡å¿—ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">51</span><br><span class="line"><span class="attribute">event</span><span class="punctuation">: </span>endpoint</span><br><span class="line"><span class="attribute">data</span><span class="punctuation">: </span>/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span><br><span class="line">&lt;ç©ºè¡Œ&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªendpointå“åº”å°±æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œåç»­çš„è¯·æ±‚å…¨éƒ½è¦ä½¿ç”¨<code>/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</code>è¿™ä¸ªè·¯å¾„æ¥å‘èµ·ï¼Œè¿™ä¸ªè·¯å¾„ä¸­åŒ…å«æœ¬æ¬¡ä¼šè¯çš„session idï¼Œå®¢æˆ·ç«¯ä½¿ç”¨è¿™ä¸ªè·¯å¾„ï¼ŒæœåŠ¡ç«¯å°±èƒ½å¤ŸçŸ¥é“è¦åœ¨å“ªä¸€ä¸ªç®¡é“é‡Œé¢å‘å®¢æˆ·ç«¯å‘å›ç»“æœã€‚</p><p>åœ¨QwenAgentçš„debugæ—¥å¿—ä¸­ï¼ˆåº•å±‚mcpäº¤äº’ç”¨çš„æ˜¯httpxåº“ï¼‰ä¹Ÿèƒ½è§‚å¯Ÿåˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡ç«¯æä¾›çš„endpoint URLã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 14:32:01,570 - INFO - HTTP Request: GET http://127.0.0.1:8000/sse &quot;HTTP/1.1 200 OK&quot;</span><br><span class="line">2025-04-20 14:32:01,570 - DEBUG - SSE connection established</span><br><span class="line">2025-04-20 14:32:01,570 - DEBUG - receive_response_body.started request=&lt;Request [b&#x27;GET&#x27;]&gt;</span><br><span class="line">2025-04-20 14:32:01,570 - DEBUG - Received SSE event: endpoint</span><br><span class="line">2025-04-20 14:32:01,570 - INFO - Received endpoint URL: http://127.0.0.1:8000/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span><br></pre></td></tr></table></figure><h3 id="3-2-ç¬¬äºŒæ¡è¯·æ±‚ï¼šåˆå§‹åŒ–">3.2. ç¬¬äºŒæ¡è¯·æ±‚ï¼šåˆå§‹åŒ–</h3><p>ç¬¬äºŒæ¡å®¢æˆ·ç«¯çš„è¯·æ±‚å¦‚ä¸‹ï¼Œè¿™é‡Œå·²ç»å¼€å§‹ä½¿ç”¨æœåŠ¡ç«¯åˆšåˆšè¿”å›çš„endpointäº†ã€‚è¯·æ±‚ä½“éƒ¨åˆ†æ˜¯jsonæ ¼å¼çš„å†…å®¹ï¼Œinitializeä»£è¡¨æ˜¯åˆå§‹åŒ–MCPå®¢æˆ·ç«¯ï¼Œå‘Šè¯‰æœåŠ¡ç«¯å½“å‰å®¢æˆ·ç«¯ä½¿ç”¨çš„åè®®ç‰ˆæœ¬protocolVersionã€æ”¯æŒçš„èƒ½åŠ›capabilitiesã€jsonrpcç‰ˆæœ¬ç­‰ç­‰ä¿¡æ¯</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>127.0.0.1:8000</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>python-httpx/0.28.1</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>194</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/event-stream</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line"><span class="language-json"><span class="punctuation">&#123;</span><span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;initialize&quot;</span><span class="punctuation">,</span><span class="attr">&quot;params&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;protocolVersion&quot;</span><span class="punctuation">:</span><span class="string">&quot;2024-11-05&quot;</span><span class="punctuation">,</span><span class="attr">&quot;capabilities&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;sampling&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;roots&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;listChanged&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;clientInfo&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;mcp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;version&quot;</span><span class="punctuation">:</span><span class="string">&quot;0.1.0&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;jsonrpc&quot;</span><span class="punctuation">:</span><span class="string">&quot;2.0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span></span></span><br></pre></td></tr></table></figure><p>é’ˆå¯¹è¿™æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å‘å›çš„å“åº”å°±æ¯”è¾ƒç®€å•äº†ï¼Œä¸€ä¸ªAcceptedå‘Šè¯‰å®¢æˆ·ç«¯ä»–çš„è¯·æ±‚å·²ç»è¢«æ¥å—äº†ï¼Œå¹¶æ²¡æœ‰è¿”å›å®é™…æ€§çš„å†…å®¹ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">202</span> Accepted</span><br><span class="line"><span class="attribute">date</span><span class="punctuation">: </span>Sun, 20 Apr 2025 06:00:38 GMT</span><br><span class="line"><span class="attribute">server</span><span class="punctuation">: </span>uvicorn</span><br><span class="line"><span class="attribute">content-length</span><span class="punctuation">: </span>8</span><br><span class="line"></span><br><span class="line"><span class="language-ebnf"><span class="attribute">Accepted</span></span></span><br></pre></td></tr></table></figure><p>è¿™æ­£æ˜¯å‰æ–‡æåˆ°è¿‡çš„SSEåè®®çš„ç‰¹æ€§ï¼ŒæœåŠ¡ç«¯ä¼ å›çš„æ•°æ®ä¸ä¼šä½¿ç”¨HTTPå“åº”ç›´æ¥ä¼ å›ï¼Œ<strong>è€Œæ˜¯ä¼šåœ¨ç¬¬ä¸€æ¬¡/sseè¯·æ±‚åå»ºç«‹çš„é•¿è¿æ¥ç®¡é“é‡Œé¢ä¼ å›</strong>ï¼ä¸Šè¿°å“åº”åªæ˜¯é’ˆå¯¹å®¢æˆ·ç«¯çš„POSTè¯·æ±‚ï¼Œä¾ç…§HTTPåè®®çš„è¦æ±‚å‘å‡ºçš„è€Œå·²ï¼ˆHTTPè¦æ±‚æ¯ä¸€ä¸ªreqéƒ½éœ€è¦æœ‰ä¸€ä¸ªresï¼‰</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨æœåŠ¡ç«¯è¿”å›Acceptedå“åº”ä¹‹åï¼Œå°±èƒ½è§‚å¯Ÿåˆ°ä¸€ä¸ªæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘å‡ºçš„lenä¸ä¸º0çš„TCPæŠ¥æ–‡ï¼Œè¿™ä¸ªæŠ¥æ–‡ä¸­å°±åŒ…å«äº†æœåŠ¡ç«¯é’ˆå¯¹å®¢æˆ·ç«¯è¿™æ¬¡å‘èµ·çš„åˆå§‹åŒ–è¯·æ±‚çš„å®é™…äº‹ä»¶å“åº”ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/7a567ad3ca62c706b0d93587ea3212a9.webp" alt="image.png"></p><p>è¿™ä¸ªæŠ¥æ–‡çš„å†…å®¹å¦‚ä¸‹ï¼Œe9æ˜¯å½“å‰æ¶ˆæ¯çš„é•¿åº¦ï¼ˆåè¿›åˆ¶233ï¼‰ï¼Œeventäº‹ä»¶åç§°æ˜¯ä¸€ä¸ªmessageï¼Œdataä¸­å°±åŒ…å«äº†æœåŠ¡ç«¯å¯¹è¿™æ¬¡åˆå§‹åŒ–è¯·æ±‚çš„å“åº”ï¼Œè¿”å›äº†æœåŠ¡ç«¯çš„jsonrpcç‰ˆæœ¬ã€æ”¯æŒçš„åè®®ç‰ˆæœ¬protocolVersionã€æ”¯æŒçš„èƒ½åŠ›capabilitiesã€æœåŠ¡ç«¯çš„ä¿¡æ¯serverInfoã€‚</p><p>åŒæ ·çš„ï¼Œè¿™é‡Œä¹Ÿæ˜¯é¢å¤–å‡ºç°äº†ä¸¤ä¸ª<code>\r\n</code>ä½œä¸ºäº‹ä»¶ç»“æŸæ ‡å¿—ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">e9\r\n</span><br><span class="line"><span class="attribute">event</span><span class="punctuation">: </span>message\r\n</span><br><span class="line"><span class="attribute">data</span><span class="punctuation">: </span>&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;result&quot;:&#123;&quot;protocolVersion&quot;:&quot;2024-11-05&quot;,&quot;capabilities&quot;:&#123;&quot;experimental&quot;:&#123;&#125;,&quot;tools&quot;:&#123;&quot;listChanged&quot;:false&#125;&#125;,&quot;serverInfo&quot;:&#123;&quot;name&quot;:&quot;mcp-website-fetcher&quot;,&quot;version&quot;:&quot;1.6.1.dev14+babb477&quot;&#125;&#125;&#125;\r\n</span><br><span class="line">\r\n\r\n</span><br></pre></td></tr></table></figure><h3 id="3-3-ç¬¬ä¸‰æ¡è¯·æ±‚ï¼šåˆå§‹åŒ–æˆåŠŸå‘ŠçŸ¥">3.3. ç¬¬ä¸‰æ¡è¯·æ±‚ï¼šåˆå§‹åŒ–æˆåŠŸå‘ŠçŸ¥</h3><p>ç¬¬ä¸‰æ¡è¯·æ±‚å°±æ˜¯å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯è‡ªå·±å·²ç»å‡†å¤‡å¥½äº†ï¼Œåˆå§‹åŒ–æˆåŠŸinitializedã€‚åŒæ ·ä¼šæœ‰ä¸€å¯¹POSTå’ŒAcceptedçš„HTTPè¯·æ±‚ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>127.0.0.1:8000</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>python-httpx/0.28.1</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>54</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/event-stream</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line"><span class="language-json"><span class="punctuation">&#123;</span><span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;notifications/initialized&quot;</span><span class="punctuation">,</span><span class="attr">&quot;jsonrpc&quot;</span><span class="punctuation">:</span><span class="string">&quot;2.0&quot;</span><span class="punctuation">&#125;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">202</span> Accepted</span><br><span class="line"><span class="attribute">date</span><span class="punctuation">: </span>Sun, 20 Apr 2025 06:00:38 GMT</span><br><span class="line"><span class="attribute">server</span><span class="punctuation">: </span>uvicorn</span><br><span class="line"><span class="attribute">content-length</span><span class="punctuation">: </span>8</span><br><span class="line"></span><br><span class="line"><span class="language-ebnf"><span class="attribute">Accepted</span></span></span><br></pre></td></tr></table></figure><p>ä»æŠ“åŒ…ç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸€æ¡è¯·æ±‚åˆ°ä¸‹ä¸€æ¡è¯·æ±‚ä¹‹é—´æ²¡æœ‰æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘å‡ºlenä¸ä¸º0çš„TCPæŠ¥æ–‡ï¼Œå› ä¸ºè¿™ä¸€æ¬¡è¯·æ±‚åªæ˜¯å®¢æˆ·ç«¯å‘ŠçŸ¥æœåŠ¡ç«¯è‡ªå·±å·²ç»å‡†å¤‡å¥½äº†ï¼ŒæœåŠ¡ç«¯æ²¡å¿…è¦é¢å¤–è¿”å›ä»»ä½•ä¿¡æ¯ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/7629117d0ef69dbcbf91511e93b6d3dc.webp" alt="image.png"></p><h3 id="3-4-ç¬¬å››æ¡è¯·æ±‚ï¼šè¯·æ±‚å·¥å…·åˆ—è¡¨">3.4. ç¬¬å››æ¡è¯·æ±‚ï¼šè¯·æ±‚å·¥å…·åˆ—è¡¨</h3><p>ç¬¬å››æ¡è¯·æ±‚å°±æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚æœåŠ¡ç«¯æä¾›çš„å·¥å…·åˆ—è¡¨äº†</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>127.0.0.1:8000</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>python-httpx/0.28.1</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>46</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/event-stream</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line"><span class="language-json"><span class="punctuation">&#123;</span><span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;tools/list&quot;</span><span class="punctuation">,</span><span class="attr">&quot;jsonrpc&quot;</span><span class="punctuation">:</span><span class="string">&quot;2.0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">&#125;</span></span></span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯ç…§å¸¸è¿›è¡Œäº†Acceptedå“åº”</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">202</span> Accepted</span><br><span class="line"><span class="attribute">date</span><span class="punctuation">: </span>Sun, 20 Apr 2025 06:00:38 GMT</span><br><span class="line"><span class="attribute">server</span><span class="punctuation">: </span>uvicorn</span><br><span class="line"><span class="attribute">content-length</span><span class="punctuation">: </span>8</span><br><span class="line"></span><br><span class="line"><span class="language-ebnf"><span class="attribute">Accepted</span></span></span><br></pre></td></tr></table></figure><p>éšååœ¨ç®¡é“é‡Œé¢å‘å‡ºçš„TCPæŠ¥æ–‡ä¸­ï¼Œå°±åŒ…å«äº†æœåŠ¡ç«¯å½“å‰æ”¯æŒçš„å·¥å…·ï¼Œä»¥åŠå·¥å…·çš„å‚æ•°å’Œå‚æ•°çš„ç±»å‹ä¸é‡Šä¹‰ã€‚è¿™é‡Œç¬¬ä¸€è¡Œä¾æ—§æ˜¯æ¶ˆæ¯çš„åå…­è¿›åˆ¶å­—èŠ‚æ•°ï¼Œ109å¯¹åº”åè¿›åˆ¶265ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">109\r\n</span><br><span class="line"><span class="attribute">event</span><span class="punctuation">: </span>message\r\n</span><br><span class="line"><span class="attribute">data</span><span class="punctuation">: </span>&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;result&quot;:&#123;&quot;tools&quot;:[&#123;&quot;name&quot;:&quot;fetch&quot;,&quot;description&quot;:&quot;Fetches a website and returns its content&quot;,&quot;inputSchema&quot;:&#123;&quot;type&quot;:&quot;object&quot;,&quot;required&quot;:[&quot;url&quot;],&quot;properties&quot;:&#123;&quot;url&quot;:&#123;&quot;type&quot;:&quot;string&quot;,&quot;description&quot;:&quot;URL to fetch&quot;&#125;&#125;&#125;&#125;]&#125;&#125;\r\n</span><br><span class="line">\r\n\r\n</span><br></pre></td></tr></table></figure><p>ä»æ—¥å¿—ä¸­çœ‹ï¼ŒQwenAgentä¼šæŠŠè¿™éƒ¨åˆ†å†…å®¹è½¬æ¢ä¸ºpromptå‘é€ç»™AIï¼Œè®©AIæ¥è°ƒç”¨è¿™ä¸ªå·¥å…·ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 14:32:01,637 - DEBUG - Request options: &#123;&#x27;method&#x27;: &#x27;post&#x27;, &#x27;url&#x27;: &#x27;/chat/completions&#x27;, &#x27;files&#x27;: None, &#x27;json_data&#x27;: &#123;&#x27;messages&#x27;: [&#123;&#x27;role&#x27;: &#x27;system&#x27;, &#x27;content&#x27;: &#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚\n\n# Tools\n\nYou may call one or more functions to assist with the user query.\n\nYou are provided with function signatures within &lt;tools&gt;&lt;/tools&gt; XML tags:\n&lt;tools&gt;\n&#123;&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: &#123;&quot;name&quot;: &quot;exmaple-server-fetch&quot;, &quot;description&quot;: &quot;Fetches a website and returns its content&quot;, &quot;parameters&quot;: &#123;&quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: &#123;&quot;url&quot;: &#123;&quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;URL to fetch&quot;&#125;&#125;, &quot;required&quot;: [&quot;url&quot;]&#125;&#125;&#125;\n&lt;/tools&gt;\n\nFor each function call, return a json object with function name and arguments within &lt;tool_call&gt;&lt;/tool_call&gt; XML tags:\n&lt;tool_call&gt;\n&#123;&quot;name&quot;: &lt;function-name&gt;, &quot;arguments&quot;: &lt;args-json-object&gt;&#125;\n&lt;/tool_call&gt;&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;user&#x27;, &#x27;content&#x27;: &#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;&#125;], &#x27;model&#x27;: &#x27;Qwen/Qwen2.5-32B-Instruct&#x27;, &#x27;seed&#x27;: 44742000, &#x27;stream&#x27;: True&#125;&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä¸Šä¸‹æ–‡ä¿¡æ¯å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨function callçš„è¯·æ±‚æ ¼å¼ï¼Œè€Œæ˜¯ç›´æ¥åœ¨systemçš„prompté‡ŒæŠŠå·¥å…·ç›¸å…³ä¿¡æ¯ä»¥XMLæ ¼å¼å‘é€ç»™AIäº†ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x27;messages&#x27;<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">        &#x27;role&#x27;<span class="punctuation">:</span></span><br><span class="line">        &#x27;system&#x27;<span class="punctuation">,</span></span><br><span class="line">        &#x27;content&#x27;<span class="punctuation">:</span></span><br><span class="line">        &#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚\n\n# Tools\n\nYou may call one or more functions to assist with the user query.\n\nYou are provided with function signatures within &lt;tools&gt;&lt;/tools&gt; XML tags<span class="punctuation">:</span>\n&lt;tools&gt;\n<span class="punctuation">&#123;</span><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;function&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;exmaple-server-fetch&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Fetches a website and returns its content&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;parameters&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;URL to fetch&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span> <span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;url&quot;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span>\n&lt;/tools&gt;\n\nFor each function call<span class="punctuation">,</span> return a json object with function name and arguments within &lt;tool_call&gt;&lt;/tool_call&gt; XML tags<span class="punctuation">:</span>\n&lt;tool_call&gt;\n<span class="punctuation">&#123;</span><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> &lt;function-name&gt;<span class="punctuation">,</span> <span class="attr">&quot;arguments&quot;</span><span class="punctuation">:</span> &lt;args-json-object&gt;<span class="punctuation">&#125;</span>\n&lt;/tool_call&gt;&#x27;</span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span> <span class="punctuation">&#123;</span></span><br><span class="line">        &#x27;role&#x27;<span class="punctuation">:</span> &#x27;user&#x27;<span class="punctuation">,</span></span><br><span class="line">        &#x27;content&#x27;<span class="punctuation">:</span> &#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps<span class="punctuation">:</span><span class="comment">//blog.musnow.top/&#x27;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>åœ¨è¾“å‡ºçš„bot responseä¸­ï¼Œèƒ½çœ‹åˆ°AIé’ˆå¯¹è¿™ä¸ªtoolsç”Ÿæˆäº†è¯·æ±‚å‚æ•°ï¼Œurlå‚æ•°çš„å€¼ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼Œå’Œæˆ‘ä»¬æå‡ºçš„é—®é¢˜ä¿æŒäº†ä¸€è‡´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">t = [&#123;</span><br><span class="line">    <span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;assistant&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;reasoning_content&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;function_call&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;exmaple-server-fetch&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;arguments&#x27;</span>: <span class="string">&#x27;&#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><h3 id="3-5-ç¬¬äº”æ¡è¯·æ±‚ï¼šè°ƒç”¨å·¥å…·">3.5. ç¬¬äº”æ¡è¯·æ±‚ï¼šè°ƒç”¨å·¥å…·</h3><p>åœ¨æ—¥å¿—ä¸­èƒ½è§‚å¯Ÿåˆ°ï¼Œåœ¨AIç”Ÿæˆäº†åŒ…å«function_callçš„å“åº”ä¹‹åï¼ŒQwenAgentçš„SDKå°±å¼€å§‹å‡†å¤‡è°ƒç”¨è¿œç¨‹MCPå·¥å…·äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 15:32:49,370 - INFO - bot response: [&#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;, &#x27;function_call&#x27;: &#123;&#x27;name&#x27;: &#x27;exmaple-server-fetch&#x27;, &#x27;arguments&#x27;: &#x27;&#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#x27;&#125;&#125;]</span><br><span class="line">2025-04-20 15:32:49,370 - DEBUG - receive_response_body.complete</span><br><span class="line">2025-04-20 15:32:49,371 - DEBUG - response_closed.started</span><br><span class="line">2025-04-20 15:32:49,371 - DEBUG - response_closed.complete</span><br><span class="line">2025-04-20 15:32:49,373 - DEBUG - Sending client message: root=JSONRPCRequest(method=&#x27;tools/call&#x27;, params=&#123;&#x27;name&#x27;: &#x27;fetch&#x27;, &#x27;arguments&#x27;: &#123;&#x27;url&#x27;: &#x27;https://blog.musnow.top/&#x27;&#125;&#125;, jsonrpc=&#x27;2.0&#x27;, id=2)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å‘èµ·çš„è¯·æ±‚å¦‚ä¸‹ï¼Œè¯·æ±‚ä½“ä¸­åŒ…å«äº†éœ€è¦è¯·æ±‚çš„å·¥å…·åç§°fetchï¼Œä»¥åŠä¼ è¾“è¿‡æ¥çš„å‚æ•°arguments</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/messages/?session_id=b53301ca408f4da4a12562ce2fde23de</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>127.0.0.1:8000</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>python-httpx/0.28.1</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>119</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/event-stream</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line"><span class="language-json"><span class="punctuation">&#123;</span><span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;tools/call&quot;</span><span class="punctuation">,</span><span class="attr">&quot;params&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;fetch&quot;</span><span class="punctuation">,</span><span class="attr">&quot;arguments&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;url&quot;</span><span class="punctuation">:</span><span class="string">&quot;https://blog.musnow.top/&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;jsonrpc&quot;</span><span class="punctuation">:</span><span class="string">&quot;2.0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">2</span><span class="punctuation">&#125;</span></span></span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è¿˜æ˜¯ä¼šè¿”å›ä¸€ä¸ªaccpetå“åº”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 202 Accepted</span><br><span class="line">date: Sun, 20 Apr 2025 06:00:39 GMT</span><br><span class="line">server: uvicorn</span><br><span class="line">content-length: 8</span><br><span class="line"></span><br><span class="line">Accepted</span><br></pre></td></tr></table></figure><p>éšåï¼ŒMCPæœåŠ¡ç«¯ä¼šæ ¹æ®è¿™ä¸ªè¯·æ±‚ï¼Œè°ƒç”¨å®é™…çš„å·¥å…·ï¼Œå¹¶æœ€ç»ˆè¿”å›ç»“æœã€‚ç”±äºè¿™ä¸ªè¯·æ±‚ç»“æœçš„contentæ˜¯æ…•é›ªä¸ªäººåšå®¢é¦–é¡µçš„htmlæºç ï¼Œæ‰€ä»¥å†…å®¹éå¸¸ä¹‹å¤§ï¼Œè¿™é‡Œå°±ä¸è´´å‡ºæ¥å®Œæ•´çš„äº‹ä»¶dataäº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f0bd</span><br><span class="line">event: message</span><br><span class="line">data: &#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:2,&quot;result&quot;:&#123;&quot;content&quot;:[&#123;&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;&lt;!DOCTYPE html&gt;&lt;html lang=\&quot;zh-CN\&quot; data-theme=\&quot;light\&quot;&gt;&lt;head&gt;&lt;meta charset=\&quot;UTF-8\&quot;&gt;&lt;meta http-equiv=\&quot;X-UA-Compatible\&quot; content=\&quot;IE=edge\&quot;&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0,viewport-fit=cover\&quot;&gt;&lt;title&gt;æ…•é›ªçš„å¯’èˆ - é›ªä¸‹äº†ä¸€å¤œ&lt;/title&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡ç«¯é€šè¿‡ä¸‰æ¬¡TCPæŠ¥æ–‡æ‰æŠŠæ•´ä¸ªé¦–é¡µçš„htmlå®Œæ•´ä¼ è¾“ç»™å®¢æˆ·ç«¯ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/a529e0c2bae9294ce4903ef635dc112e.webp" alt="image.png"></p><p>åˆ°è¿™é‡Œï¼Œé’ˆå¯¹<code>/sse</code>æ¥å£çš„HTTPå“åº”å°±å®Œæ•´ç»“æŸäº†ï¼ŒMCPæœåŠ¡ç«¯ä»¥toolsè°ƒç”¨ç»“æœè¿”å›ä¸ºæ ‡å¿—æ¥ç»“æŸHTTPå“åº”ã€‚</p><p>åœ¨wiresharkæ‹¼æ¥å‡ºæ¥çš„å®Œæ•´HTTPå“åº”ä¸­å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œtoolsè°ƒç”¨ç»“æœçš„jsonå®Œæ•´ç»“æŸäº†ï¼Œè¿™ä¸ªHTTPå“åº”å°±æ˜¯ç»“æŸäº†ï¼Œ<strong>éšåä¾¿å‡ºç°äº†TCPå››æ¬¡æŒ¥æ‰‹çš„æŠ¥æ–‡</strong>ã€‚å…¶ä¸­è°ƒç”¨å·¥å…·çš„å“åº”jsonæœ«å°¾ä¼šåŒ…å«ä¸€ä¸ªå­—æ®µ<code>&quot;isErr&quot;</code>ï¼Œåº”è¯¥æ˜¯ç”¨äºæ ‡è¯†æœ¬æ¬¡mcpå·¥å…·è°ƒç”¨æ˜¯å¦æˆåŠŸçš„ï¼Œä¸ºfalseä»£è¡¨è°ƒç”¨æˆåŠŸã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/9d00d0ef699833554e935274a84bb4fb.webp" alt="image.png"></p><h3 id="3-6-å·¥å…·è°ƒç”¨ç»“æœäº¤ä»˜AIå¤„ç†">3.6. å·¥å…·è°ƒç”¨ç»“æœäº¤ä»˜AIå¤„ç†</h3><p>åœ¨æ”¶åˆ°å·¥å…·è°ƒç”¨ç»“æœä¹‹åï¼Œæ—¥å¿—ä¸­å°±èƒ½å¤Ÿè§‚å¯Ÿåˆ°QwenAgentå°†è¿™ä¸ªå·¥å…·è°ƒç”¨ç»“æœæ‹¼æ¥åœ¨prompté‡Œé¢å‘é€ç»™AIäº†ã€‚è¿™é‡Œæˆ‘æŠŠhtmlæ–‡æ¡£çš„å†…å®¹å…¨éƒ¨åˆ æ‰äº†ï¼Œæ”¹æˆäº†â€œé¦–é¡µHTMLå†…å®¹â€ï¼Œä¿ç•™äº†å…¶ä»–å­—æ®µã€‚</p><p>é¦–å…ˆè¿™é‡Œèƒ½çœ‹åˆ°å®Œæ•´çš„MCPæœåŠ¡ç«¯å·¥å…·è°ƒç”¨ç»“æœçš„å“åº”ï¼ŒåŒ…å«jsonrpcå­—æ®µã€idå­—æ®µã€resultå­—æ®µã€isErrorå­—æ®µã€‚å…¶ä¸­å·¥å…·è°ƒç”¨ç»“æœæ˜¯åœ¨result/contenté‡Œé¢è¿”å›çš„ã€‚</p><p>QwenAgentçš„SDKä¾æ—§æ˜¯åœ¨æ¶ˆæ¯ä¸Šä¸‹æ–‡é‡Œé¢å°†MCPå·¥å…·çš„å“åº”ç»“æœé€šè¿‡<code>&lt;tool_response&gt;\né¦–é¡µHTMLå†…å®¹\n&lt;/tool_response&gt;</code>çš„æ‹¼æ¥äº†èµ·æ¥ï¼Œä»¥userèº«ä»½å‘é€ç»™äº†AIã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 14:33:18,289 - DEBUG - Received SSE event: message</span><br><span class="line">2025-04-20 14:33:18,291 - DEBUG - Received server message: root=JSONRPCResponse(jsonrpc=&#x27;2.0&#x27;, id=2, result=&#123;&#x27;content&#x27;: [&#123;&#x27;type&#x27;: &#x27;text&#x27;, &#x27;text&#x27;: &#x27;é¦–é¡µHTMLå†…å®¹&#x27;&#125;], &#x27;isError&#x27;: False&#125;)</span><br><span class="line">2025-04-20 14:33:18,330 - DEBUG - Request options: &#123;&#x27;method&#x27;: &#x27;post&#x27;, &#x27;url&#x27;: &#x27;/chat/completions&#x27;, &#x27;files&#x27;: None, &#x27;json_data&#x27;: &#123;&#x27;messages&#x27;: [&#123;&#x27;role&#x27;: &#x27;system&#x27;, &#x27;content&#x27;: &#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚\n\n# Tools\n\nYou may call one or more functions to assist with the user query.\n\nYou are provided with function signatures within &lt;tools&gt;&lt;/tools&gt; XML tags:\n&lt;tools&gt;\n&#123;&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: &#123;&quot;name&quot;: &quot;exmaple-server-fetch&quot;, &quot;description&quot;: &quot;Fetches a website and returns its content&quot;, &quot;parameters&quot;: &#123;&quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: &#123;&quot;url&quot;: &#123;&quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;URL to fetch&quot;&#125;&#125;, &quot;required&quot;: [&quot;url&quot;]&#125;&#125;&#125;\n&lt;/tools&gt;\n\nFor each function call, return a json object with function name and arguments within &lt;tool_call&gt;&lt;/tool_call&gt; XML tags:\n&lt;tool_call&gt;\n&#123;&quot;name&quot;: &lt;function-name&gt;, &quot;arguments&quot;: &lt;args-json-object&gt;&#125;\n&lt;/tool_call&gt;&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;user&#x27;, &#x27;content&#x27;: &#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;&lt;tool_call&gt;\n&#123;&quot;name&quot;: &quot;exmaple-server-fetch&quot;, &quot;arguments&quot;: &#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#125;\n&lt;/tool_call&gt;&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;user&#x27;, &#x27;content&#x27;: &#x27;&lt;tool_response&gt;\né¦–é¡µHTMLå†…å®¹\n&lt;/tool_response&gt;&#x27;&#125;], &#x27;model&#x27;: &#x27;Qwen/Qwen2.5-32B-Instruct&#x27;, &#x27;seed&#x27;: 181793637, &#x27;stream&#x27;: True&#125;&#125;</span><br><span class="line">2025-04-20 14:33:18,330 - DEBUG - Sending HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆï¼ŒAIç†è§£å¹¶å¤„ç†â€œé¦–é¡µHTMLå†…å®¹â€ï¼Œè¾“å‡ºäº†å›ç­”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;è¯¥ç½‘ç«™åä¸º&quot;æ…•é›ªçš„å¯’èˆ - é›ªä¸‹äº†ä¸€å¤œ&quot;ï¼Œç”±ä½œè€…&quot;æ…•é›ªå¹´å&quot;åˆ›å»ºã€‚è¯¥ç½‘ç«™çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ï¼ŒåŒ…å«äº†å„ç§ç±»å‹çš„æ–‡ç« ï¼Œä¾‹å¦‚ç¼–ç¨‹å­¦ä¹ ã€åšå®¢å»ºç«™ç­‰ã€‚ç½‘ç«™ä¸­çš„æ–‡ç« åŒ…å«äº†ä¸åŒçš„ä¸»é¢˜ï¼Œå¦‚ä½¿ç”¨Pythonç®¡ç†è™šæ‹Ÿç¯å¢ƒã€MCPåè®®çš„ç†è§£å’Œä½¿ç”¨ç­‰ã€‚æ­¤å¤–ï¼Œç½‘ç«™é¡¶éƒ¨å’Œåº•éƒ¨åˆ—å‡ºäº†ä½œè€…çš„ä¸€äº›ç¤¾äº¤é“¾æ¥å’Œå…¶ä»–ç½‘ç«™ã€‚&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡ï¼Œè¿™é‡Œæ—¥å¿—ä¸­å‡ºç°äº†ä¸€ä¸ªå¥‡æ€ªçš„åœ°æ–¹ï¼Œé‚£å°±æ˜¯ä»£ç é‡Œé¢æ‰“å°çš„bot responseä¸Šä¸‹æ–‡ä¸­çš„å·¥å…·è°ƒç”¨æ ¼å¼åˆå˜æˆäº†<code>function_call</code>ï¼Œ<strong>è¿™é‡Œåº”è¯¥æ˜¯QwenAgent SDKé’ˆå¯¹mcpå·¥å…·åœ¨å¯¹å¤–è¾“å‡ºçš„responseé‡Œé¢åšçš„é¢å¤–è§£æå¤„ç†</strong>ï¼Œå¹¶æ²¡æœ‰æŠŠå†…éƒ¨é€šè¿‡promptè®©AIè°ƒç”¨MCPå·¥å…·çš„æ ¼å¼è¾“å‡ºå‡ºæ¥ï¼Œåœ¨æœ€ç»ˆè¾“å‡ºçš„æ—¶å€™è¿˜æ˜¯ä¼šä½¿ç”¨<code>function_call</code>çš„æ ¼å¼æ¥æ ‡è¯†AIå’ŒMCPå·¥å…·çš„è°ƒç”¨ï¼Œæ–¹ä¾¿ç”¨æˆ·è§£æã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 15:32:57,549 - INFO - bot response: [&#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;, &#x27;function_call&#x27;: &#123;&#x27;name&#x27;: &#x27;exmaple-server-fetch&#x27;, &#x27;arguments&#x27;: &#x27;&#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#x27;&#125;&#125;, &#123;&#x27;role&#x27;: &#x27;function&#x27;, &#x27;content&#x27;: &#x27;é¦–é¡µHTMLå†…å®¹&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;exmaple-server-fetch&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;è¯¥ç½‘ç«™åä¸º&quot;æ…•é›ªçš„å¯’èˆ - é›ªä¸‹äº†ä¸€å¤œ&quot;ï¼Œç”±ä½œè€…&quot;æ…•é›ªå¹´å&quot;åˆ›å»ºã€‚è¯¥ç½‘ç«™çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ï¼ŒåŒ…å«äº†å„ç§ç±»å‹çš„æ–‡ç« ï¼Œä¾‹å¦‚ç¼–ç¨‹å­¦ä¹ ã€åšå®¢å»ºç«™ç­‰ã€‚ç½‘ç«™ä¸­çš„æ–‡ç« åŒ…å«äº†ä¸åŒçš„ä¸»é¢˜ï¼Œå¦‚ä½¿ç”¨Pythonç®¡ç†è™šæ‹Ÿç¯å¢ƒã€MCPåè®®çš„ç†è§£å’Œä½¿ç”¨ç­‰ã€‚æ­¤å¤–ï¼Œç½‘ç«™é¡¶éƒ¨å’Œåº•éƒ¨åˆ—å‡ºäº†ä½œè€…çš„ä¸€äº›ç¤¾äº¤é“¾æ¥å’Œå…¶ä»–ç½‘ç«™ã€‚&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;&#125;]</span><br></pre></td></tr></table></figure><p>ä»å‰æ–‡çš„æ—¥å¿—åˆ†æä¸­æˆ‘ä»¬å·²ç»èƒ½å¤Ÿç¡®å®šQwenAgentåœ¨è°ƒç”¨å·¥å…·çš„æ—¶å€™æ˜¯ç›´æ¥é€šè¿‡promptçš„æ–¹å¼è®©AIè¯†åˆ«mcpå·¥å…·çš„ã€‚åœ¨ä¹‹å‰çš„åšå®¢ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œè¿™æ˜¯MCPå·¥å…·é›†æˆåœ¨Agentä¸­çš„ä¸¤ç§æ–¹å¼ä¹‹ä¸€ï¼ˆå¦å¤–ä¸€ä¸ªæ–¹å¼å°±æ˜¯ç›´æ¥ä½¿ç”¨AIçš„function callåŠŸèƒ½æ¥è°ƒç”¨ï¼‰ï¼Œä¸¤ç§æ–¹å¼å¹¶æ²¡æœ‰å¥½åä¹‹åˆ†ï¼Œåªæ˜¯å°†MCPé›†æˆåˆ°Agentä¸­çš„ä¸åŒçš„å®ç°æ–¹å¼è€Œå·²ã€‚</p><hr><p>æˆ‘é¡ºå¸¦æµ‹è¯•äº†ä¸€ä¸‹QwenAgentçš„è‡ªå®šä¹‰å·¥å…·æ˜¯å¦ä¹Ÿæ˜¯ç”¨promptæ–¹å¼çš„ï¼Œæœä¸å…¶ç„¶ï¼Œé€šè¿‡QwenAgentæä¾›çš„<code>@register_tool</code>æ³¨å†Œçš„è‡ªå®šä¹‰å·¥å…·ä¹Ÿæ˜¯é€šè¿‡promptæ–¹å¼è®©AIæ¥è°ƒç”¨çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯è¿è¡Œ<code>Qwen-Agent/examples/assistant_add_custom_tool.py</code>æ—¶DEBUGæ—¥å¿—ä¸­promptå†…å®¹ï¼Œè¿™é‡Œä¹Ÿæ˜¯é€šè¿‡promptè®©AIäº†è§£äº†è‡ªå®šä¹‰å·¥å…·<code>my_image_gen</code>çš„è°ƒç”¨æ–¹å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2025-04-20 16:17:52,865 - DEBUG - Request options: &#123;&#x27;method&#x27;: &#x27;post&#x27;, &#x27;url&#x27;: &#x27;/chat/completions&#x27;, &#x27;files&#x27;: None, &#x27;json_data&#x27;: &#123;&#x27;messages&#x27;: [&#123;&#x27;role&#x27;: &#x27;system&#x27;, &#x27;content&#x27;: &#x27;According to the user\&#x27;s request, you first draw a picture and then automatically run code to download the picture and select an image operation from the given document to process the image\n\n# çŸ¥è¯†åº“\n\n## æ¥è‡ª [æ–‡ä»¶](doc.pdf) çš„å†…å®¹ï¼š\n\n```\n# Python Image Processing Tutorial: Downloading Images and Performing Flip Operations \n\nIn  this  tutorial,  we  will  learn  how  to  download  images  using  Python  and  perform  basic  image \noperations such as flipping and rotating using the Pillow library. \n ## Prerequisites \n Before we begin, make sure you have the following libraries installed in your Python environment: \n\n- `requests`: for downloading images \n- `Pillow`: for image processing \n If you haven\&#x27;t installed these libraries yet, you can install them using pip: \n\n```bash \npip install requests Pillow \n``` \n ## Step 1: Downloading an Image \n First, we need to download an image. We will use the `requests` library to accomplish this task. \n\n``` \nimport requests \n\ndef download_image(url, filename): \n\tresponse = requests.get(url) \n\tif response.status_code == 200: \n\twith open(filename, \&#x27;wb\&#x27;) as file: \n\tfile.write(response.content) \n\telse: \n\tprint(f&quot;Error: Failed to download image from &#123;url&#125;&quot;) \n\n# Example usage \nimage_url = &quot;https://example.com/image.jpg&quot;    # Replace with the URL of the image you want to \ndownload \nfilename = &quot;downloaded_image.jpg&quot; \ndownload_image(image_url, filename) \n``` \n ## Step 2: Opening and Displaying the Image \n Next, we will use the `Pillow` library to open and display the image we just downloaded. \n\n``` \nfrom PIL import Image \n\ndef open_and_show_image(filename): \n\timage = Image.open(filename) \n\timage.show() \n\n# Example usage \nopen_and_show_image(filename) \n``` \n ## Step 3: Flipping and Rotating the Image \n\nNow we can perform flip and rotate operations on the image. The `Pillow` library provides several \nmethods for image manipulation. \n\n``` \ndef flip_image(filename, mode=\&#x27;horizontal\&#x27;): \n\timage = Image.open(filename) \n\tif mode == \&#x27;horizontal\&#x27;: \n\tflipped_image = image.transpose(Image.FLIP_LEFT_RIGHT) \n\telif mode == \&#x27;vertical\&#x27;: \n\tflipped_image = image.transpose(Image.FLIP_TOP_BOTTOM) \n\telse: \n\tprint(&quot;Error: Mode should be \&#x27;horizontal\&#x27; or \&#x27;vertical\&#x27;&quot;) \n\treturn \n\tflipped_image.show() \n\treturn flipped_image \n\ndef rotate_image(filename, degrees): \n\timage = Image.open(filename) \n\trotated_image = image.rotate(degrees) \n\trotated_image.show() \n\treturn rotated_image \n\n# Example usage \nflipped_image = flip_image(filename, mode=\&#x27;horizontal\&#x27;)    # Horizontally flip \nflipped_image.save(&quot;flipped_horizontal.jpg&quot;)    # Save the horizontally flipped image \n\nflipped_image = flip_image(filename, mode=\&#x27;vertical\&#x27;)    # Vertically flip \nflipped_image.save(&quot;flipped_vertical.jpg&quot;)    # Save the vertically flipped image \n\nrotated_image = rotate_image(filename, 90)    # Rotate by 90 degrees \nrotated_image.save(&quot;rotated_90.jpg&quot;)    # Save the rotated image \n\n``` \n ## Step 4: Saving the Modified Image \n\nIn the examples above, we have seen how to save flipped and rotated images. You can use the \n`save` method to save any modified image. \n\n``` \n# Save the image \ndef save_image(image, filename): \n\timage.save(filename) \n\n# Example usage \nsave_image(flipped_image, &quot;flipped_image.jpg&quot;) \nsave_image(rotated_image, &quot;rotated_image.jpg&quot;) \n``` \n\nBy  now,  you  have  learned  how  to  download  images  using  Python  and  perform  basic  image \noperations using the Pillow library. You can extend these basics to implement more complex image \nprocessing functions as needed. \n\n```\n\n# Tools\n\nYou may call one or more functions to assist with the user query.\n\nYou are provided with function signatures within &lt;tools&gt;&lt;/tools&gt; XML tags:\n&lt;tools&gt;\n&#123;&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: &#123;&quot;name&quot;: &quot;my_image_gen&quot;, &quot;description&quot;: &quot;AI painting (image generation) service, input text description, and return the image URL drawn based on text information.&quot;, &quot;parameters&quot;: [&#123;&quot;name&quot;: &quot;prompt&quot;, &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;Detailed description of the desired image content, in English&quot;, &quot;required&quot;: true&#125;]&#125;&#125;\n&#123;&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: &#123;&quot;name&quot;: &quot;code_interpreter&quot;, &quot;description&quot;: &quot;Python code sandbox, which can be used to execute Python code.&quot;, &quot;parameters&quot;: [&#123;&quot;name&quot;: &quot;code&quot;, &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;The python code.&quot;, &quot;required&quot;: true&#125;]&#125;&#125;\n&lt;/tools&gt;\n\nFor each function call, return a json object with function name and arguments within &lt;tool_call&gt;&lt;/tool_call&gt; XML tags:\n&lt;tool_call&gt;\n&#123;&quot;name&quot;: &lt;function-name&gt;, &quot;arguments&quot;: &lt;args-json-object&gt;&#125;\n&lt;/tool_call&gt;&#x27;&#125;, &#123;&#x27;role&#x27;: &#x27;user&#x27;, &#x27;content&#x27;: &#x27;ç”»ä¸€åªçŒ«çš„å›¾ç‰‡&#x27;&#125;], &#x27;model&#x27;: &#x27;Qwen/Qwen2.5-32B-Instruct&#x27;, &#x27;seed&#x27;: 652077296, &#x27;stream&#x27;: True&#125;&#125;</span><br><span class="line">2025-04-20 16:17:52,865 - DEBUG - Sending HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions</span><br></pre></td></tr></table></figure><h2 id="4-The-end">4. The end</h2><p>ä»Šå¤©å¿ƒè¡€æ¥æ½®ï¼Œé€šè¿‡æŠ“åŒ…çœ‹äº†ä¸€ä¸‹MCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ°åº•æ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Œä¹Ÿç®—æ˜¯å­¦åˆ°äº†ä¸å°‘æ–°çŸ¥è¯†ï¼ŒSSEåè®®ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å¬è¯´ã€‚å¦‚æœå¯¹MCPæˆ–SSEæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºè®¨è®ºã€‚</p><p>è¿™æ¬¡æµ‹è¯•ä¹Ÿå€Ÿæœºäº†è§£äº†QwenAgent SDKåº•å±‚æ˜¯å¦‚ä½•è®©Qwenå¤§æ¨¡å‹å»å¤„ç†toolsçš„ï¼Œé‡‡ç”¨çš„æ˜¯promptæ–¹æ¡ˆã€‚æ‰€ä»¥QwenAgentåœ¨å¯¹æ¥å…¶ä»–<strong>éQwenå¤§æ¨¡å‹</strong>çš„æ—¶å€™<strong>åŸºæœ¬ä¸å¯ç”¨</strong>ï¼Œæ¯”å¦‚æˆ‘å°è¯•äº†ç¡…åŸºæµåŠ¨çš„<code>THUDM/GLM-4-9B-0414</code>å’Œ<code>deepseek-ai/DeepSeek-V3</code>ï¼Œéƒ½æ²¡åŠæ³•æ­£å¸¸å¤„ç†QwenAgentæä¾›çš„promptï¼Œå…¶ä¸­GLM-4-9B-0414å°è¯•è¾“å‡ºå·¥å…·è°ƒç”¨å‚æ•°ï¼Œä½†å¹¶ä¸ç¬¦åˆQwenAgentçš„éœ€è¦ï¼Œæ²¡æœ‰åŠæ³•è¢«SDKè¯†åˆ«ï¼Œç¨‹åºç›´æ¥åœæ­¢è¿è¡Œäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># THUDM/chatglm3-6b è¾“å‡ºï¼Œå·¥å…·è°ƒç”¨æ–¹å¼ä¸æ­£ç¡®</span></span><br><span class="line">[&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;assistant&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;mcp-simple-tool-fetch\n&#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#x27;</span>, <span class="string">&#x27;reasoning_content&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>&#125;] </span><br></pre></td></tr></table></figure><p>DeepSeek-V3å°è¯•äº†å¤šæ¬¡ï¼Œä¹Ÿæ˜¯ä¼šå‡ºç°<strong>æ— æ³•æ­£å¸¸è¾“å‡ºå·¥å…·è°ƒç”¨å‚æ•°</strong>çš„é—®é¢˜ï¼Œå‹‰å¼ºèƒ½æˆåŠŸä¸€ä¸¤æ¬¡ã€‚è¿™é‡Œç»™å‡ºDeepSeekæˆåŠŸå¤„ç†çš„ä¸Šä¸‹æ–‡ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯·æ±‚ä½“ï¼ŒåŒ…å«å·¥å…·prompt</span></span><br><span class="line">&#123;<span class="string">&#x27;method&#x27;</span>: <span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;url&#x27;</span>: <span class="string">&#x27;/chat/completions&#x27;</span>, <span class="string">&#x27;files&#x27;</span>: <span class="literal">None</span>, <span class="string">&#x27;json_data&#x27;</span>: &#123;<span class="string">&#x27;messages&#x27;</span>: [&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;system&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚\n\n# Tools\n\nYou may call one or more functions to assist with the user query.\n\nYou are provided with function signatures within &lt;tools&gt;&lt;/tools&gt; XML tags:\n&lt;tools&gt;\n&#123;&quot;type&quot;: &quot;function&quot;, &quot;function&quot;: &#123;&quot;name&quot;: &quot;mcp-simple-tool-fetch&quot;, &quot;description&quot;: &quot;Fetches a website and returns its content&quot;, &quot;parameters&quot;: &#123;&quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: &#123;&quot;url&quot;: &#123;&quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;URL to fetch&quot;&#125;&#125;, &quot;required&quot;: [&quot;url&quot;]&#125;&#125;&#125;\n&lt;/tools&gt;\n\nFor each function call, return a json object with function name and arguments within &lt;tool_call&gt;&lt;/tool_call&gt; XML tags:\n&lt;tool_call&gt;\n&#123;&quot;name&quot;: &lt;function-name&gt;, &quot;arguments&quot;: &lt;args-json-object&gt;&#125;\n&lt;/tool_call&gt;&#x27;</span>&#125;, &#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;</span>&#125;], <span class="string">&#x27;model&#x27;</span>: <span class="string">&#x27;deepseek-ai/DeepSeek-V3&#x27;</span>, <span class="string">&#x27;seed&#x27;</span>: <span class="number">832221696</span>, <span class="string">&#x27;stream&#x27;</span>: <span class="literal">True</span>&#125;&#125;</span><br><span class="line"><span class="comment"># deepseek æˆåŠŸè¾“å‡ºå·¥å…·è°ƒç”¨å‚æ•°</span></span><br><span class="line">[&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;assistant&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;reasoning_content&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>, <span class="string">&#x27;function_call&#x27;</span>: &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;mcp-simple-tool-fetch&#x27;</span>, <span class="string">&#x27;arguments&#x27;</span>: <span class="string">&#x27;&#123;&quot;url&quot;: &quot;https://blog.musnow.top/&quot;&#125;&#x27;</span>&#125;&#125;]</span><br><span class="line"><span class="comment"># deepseek ä¹Ÿæ­£å¸¸è¯†åˆ«å‡ºäº†å·¥å…·è¿”å›ç»“æœï¼Œå¹¶è¾“å‡ºäº†æ€»ç»“</span></span><br><span class="line">&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;assistant&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;è¿™ä¸ªç½‘ç«™æ˜¯â€œæ…•é›ªçš„å¯’èˆâ€ï¼Œæ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ç½‘ç«™ï¼Œç”±â€œæ…•é›ªå¹´åâ€ç»´æŠ¤ã€‚åšå®¢ä¸»è¦æ¶µç›–äº†ç¼–ç¨‹å­¦ä¹ ã€æŠ€æœ¯æ•™ç¨‹ã€é¡¹ç›®å¼€å‘è®°å½•ç­‰å†…å®¹ï¼ŒåŒ…æ‹¬Pythonã€SLAMï¼ˆå®æ—¶å®šä½ä¸åœ°å›¾æ„å»ºï¼‰ã€å›¾åºŠå·¥å…·ã€ROSï¼ˆæœºå™¨äººæ“ä½œç³»ç»Ÿï¼‰ç­‰æŠ€æœ¯æ–¹å‘çš„æ–‡ç« ã€‚æ­¤å¤–ï¼Œåšå®¢è¿˜å±•ç¤ºäº†ä½œè€…çš„ä¹¦å½±è¯„ä»·ã€ä¸ªäººç”Ÿæ´»è®°å½•ç­‰å†…å®¹ã€‚\n\nä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®ä¿¡æ¯ï¼š\n- **åšå®¢åç§°**ï¼šæ…•é›ªçš„å¯’èˆ  \n- **ä½œè€…**ï¼šæ…•é›ªå¹´å  \n- **ç®€ä»‹**ï¼šçˆ±æŠ˜è…¾çš„ä»£ç åˆå­¦è€…  \n- **å†…å®¹åˆ†ç±»**ï¼šç¼–ç¨‹å­¦ä¹ ã€åšå®¢å»ºç«™ã€å·¥å…·æ¨èç­‰  \n- **æ–‡ç« æ•°é‡**ï¼š441ç¯‡  \n- **æ ‡ç­¾**ï¼šHexoã€Linuxã€Pythonã€Cè¯­è¨€ç­‰  \n\næ­¤å¤–ï¼Œåšå®¢è¿˜æä¾›äº†å‹é“¾ã€å…³äºé¡µé¢ã€ç•™è¨€åŠŸèƒ½ç­‰ç¤¾äº¤äº’åŠ¨æ¨¡å—ã€‚å¦‚æœä½ å¯¹æŠ€æœ¯ç±»å†…å®¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢è¯¥åšå®¢çš„è¯¦ç»†å†…å®¹ã€‚&#x27;</span>, <span class="string">&#x27;reasoning_content&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><p>æ€»è€Œè¨€ä¹‹ï¼ŒQwenAgentçš„è¿™ä¸ªpromptåªæœ‰åœ¨ä½¿ç”¨Qwenè‡ªå®¶æ¨¡å‹çš„æ—¶å€™è¯†åˆ«åº¦æ‰å¥½ï¼Œä½¿ç”¨å…¶ä»–å®¶æ¨¡å‹çš„æ—¶å€™éå¸¸å®¹æ˜“å‡ºç°toolsæ— æ³•æ­£å¸¸è¯†åˆ«çš„æƒ…å†µã€‚ä¸è¿‡è¿™ä¹Ÿæ˜¯æ„æ–™ä¹‹ä¸­äº†ï¼Œæ¯•ç«Ÿäººå®¶éƒ½å«QwenAgent SDKäº†ï¼Œæœ¬æ¥å°±ä¸æ˜¯é¢å‘æ‰€æœ‰å¤§æ¨¡å‹çš„é€šç”¨SDKã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†è¿œç¨‹MCPä½¿ç”¨çš„SSEåè®®ï¼Œé€šè¿‡wiresharkæŠ“åŒ…çš„æ–¹å¼äº†è§£MCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´é€šè¿‡SSEåè®®äº¤äº’æ¶‰åŠåˆ°çš„è¯·æ±‚ä¸å“åº”ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Python" scheme="https://blog.musnow.top/tags/Python/"/>
    
    <category term="MCP" scheme="https://blog.musnow.top/tags/MCP/"/>
    
  </entry>
  
  <entry>
    <title>ã€MCPã€‘è¯¦ç»†äº†è§£MCPåè®®ï¼šå’Œfunction callçš„åŒºåˆ«ä½•åœ¨ï¼Ÿå¦‚ä½•ä½¿ç”¨MCPï¼Ÿ</title>
    <link href="https://blog.musnow.top/posts/2831928244/"/>
    <id>https://blog.musnow.top/posts/2831928244/</id>
    <published>2025-04-19T00:56:01.000Z</published>
    <updated>2025-09-14T01:07:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†MCPå¤§æ¨¡å‹ä¸Šä¸‹æ–‡åè®®çš„çš„æ¦‚å¿µï¼Œå¹¶å¯¹æ¯”äº†MCPåè®®å’Œfunction callçš„åŒºåˆ«ï¼ŒåŒæ—¶ç”¨python sdkä¸ºä¾‹ä»‹ç»äº†mcpçš„ä½¿ç”¨æ–¹å¼ã€‚</p><h2 id="1-ä»€ä¹ˆæ˜¯MCPï¼Ÿ">1. ä»€ä¹ˆæ˜¯MCPï¼Ÿ</h2><blockquote><p>å®˜ç½‘ï¼š<a href="https://modelcontextprotocol.io/introduction">https://modelcontextprotocol.io/introduction</a></p></blockquote><p>2025å¹´ï¼ŒAnthropicæå‡ºäº†MCPåè®®ã€‚MCPå…¨ç§°ä¸ºModel Context Protocolï¼Œç¿»è¯‘è¿‡æ¥æ˜¯å¤§æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ã€‚è¿™ä¸ªåè®®çš„ä¸»è¦ä¸º<strong>AIå¤§æ¨¡å‹å’Œå¤–éƒ¨å·¥å…·</strong>ï¼ˆæ¯”å¦‚è®©AIå»æŸ¥è¯¢ä¿¡æ¯ï¼Œæˆ–è€…è®©AIæ“ä½œæœ¬åœ°æ–‡ä»¶ï¼‰ä¹‹é—´çš„äº¤äº’æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„å¤„ç†åè®®ã€‚æˆ‘ä»¬å¸¸ç”¨çš„USB TypeCæ¥å£ï¼ˆUSB-Cï¼‰ç»Ÿä¸€äº†USBæ¥å£çš„æ ·å¼ï¼ŒMCPåè®®å°±å¥½æ¯”AIå¤§æ¨¡å‹ä¸­çš„USB-Cï¼Œç»Ÿä¸€äº†å¤§æ¨¡å‹ä¸å·¥å…·çš„å¯¹æ¥æ–¹å¼ã€‚</p><p>MCPåè®®é‡‡ç”¨äº†C/Sæ¶æ„ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç«¯ã€å®¢æˆ·ç«¯æ¶æ„ï¼Œèƒ½æ”¯æŒåœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šè°ƒç”¨è¿œç¨‹Serveræä¾›çš„æœåŠ¡ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒstdioæµå¼ä¼ è¾“æ¨¡å¼ï¼Œ<strong>ä¹Ÿå°±æ˜¯åœ¨å®¢æˆ·ç«¯æœ¬åœ°å¯åŠ¨mcpæœåŠ¡ç«¯</strong>ã€‚åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ–°å¢MCPæœåŠ¡ç«¯ï¼Œå°±èƒ½ç”¨ä¸Šè¿™ä¸ªMCPæœåŠ¡å™¨æä¾›çš„å„ç§å·¥å…·ï¼Œå¤§å¤§æé«˜äº†å¤§æ¨¡å‹ä½¿ç”¨å¤–éƒ¨å·¥å…·çš„ä¾¿æ·æ€§ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/fef69c3cdacdc7927b494ed945c9210a.webp" alt="image.png"></p><p>MCPæ˜¯å¼€æºåè®®ï¼Œèƒ½è®©æ‰€æœ‰AIå‚å•†ã€AIå·¥å…·éƒ½å°†MCPé›†æˆåˆ°è‡ªå·±çš„å®¢æˆ·ç«¯ä¸­ï¼Œä»è€Œæ‰©å¤§MCPçš„å¯ç”¨é¢ã€‚æ¯•ç«Ÿåªæœ‰ç”¨çš„äººè¶Šå¤šï¼Œåè®®æ‰èƒ½ä¸æ–­å‘å±•ï¼Œä¸æ–­å˜å¾—æ›´å¥½ã€‚</p><h2 id="2-äº†è§£function-call">2. äº†è§£function call</h2><p>åœ¨MCPæ²¡æœ‰å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬çš„AI Agentå¼€å‘å¦‚æœæƒ³è°ƒç”¨å¤–éƒ¨å·¥å…·éœ€è¦é’ˆå¯¹ä¸åŒçš„AIå¤§æ¨¡å‹SDKç¼–å†™ä¸åŒçš„ä»£ç ï¼Œå…¶ä¸­æœ€ä¸ºå¸¸ç”¨çš„æ˜¯openaiæä¾›çš„function callçš„å¤„ç†é€»è¾‘ã€‚</p><p>æœ¬å°èŠ‚å‚è€ƒåšå®¢ï¼š</p><ul><li><a href="https://www.cnblogs.com/ruipeng/p/18216610">æ·±å…¥æ¢è®¨Function Callingï¼šå®ç°å¤–éƒ¨å‡½æ•°è°ƒç”¨çš„å·¥ä½œåŸç†</a>ï¼›</li><li><a href="https://www.cnblogs.com/mingupupu/p/18385274">æ¥è‡ªOpenAIå®˜ç½‘çš„Function callingä»‹ç»ä¸æœ€ä½³å®è·µ</a></li></ul><h3 id="2-1-function-call-demo">2.1. function call demo</h3><h4 id="2-1-1-é…ç½®å·¥å…·ï¼ŒAIæä¾›å‚æ•°">2.1.1. é…ç½®å·¥å…·ï¼ŒAIæä¾›å‚æ•°</h4><p>å½“æˆ‘ä»¬è°ƒç”¨ OpenAI Chat Completions æ¥å£æ—¶ï¼Œå¯ä»¥é€šè¿‡toolså‚æ•°ä¼ å…¥å¯ä¾›ä½¿ç”¨çš„å¤–éƒ¨å·¥å…·ã€‚è¿™ä¸ªå·¥å…·çš„è°ƒç”¨ä¸­å°±åŒ…å«äº†å·¥å…·çš„ä½œç”¨ï¼Œå·¥å…·éœ€è¦ä¼ å…¥çš„å‚æ•°ï¼Œä»¥åŠå‚æ•°çš„é‡Šä¹‰ã€‚å…¶ä¸­<code>tool_choice</code>å­—æ®µè®¾ç½®ä¸ºautoä»£è¡¨è®©å¤§æ¨¡å‹è‡ªåŠ¨é€‰æ‹©toolsï¼Œè®¾ç½®ä¸ºnoneæ—¶ä¸ä¼šè°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;tool_choice&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;messages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢åŠ©æ‰‹&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¸®æˆ‘æŸ¥è¯¢ä¸Šæµ·çš„å¤©æ°”&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tools&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;function&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;get_weather&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;parameters&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;åŸå¸‚å&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;city&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„python openaiä»£ç å¦‚ä¸‹ï¼Œæˆ‘ä»¬å°†toolséƒ¨åˆ†æ”¾å…¥ä¸€ä¸ªåŒ…å«dictçš„listï¼Œä½œä¸ºcreateå‡½æ•°çš„toolså‚æ•°å³å¯ã€‚åŒæ—¶tool_choiceä¼ å…¥autoä»£è¡¨è‡ªåŠ¨é€‰æ‹©å·¥å…·ã€‚è¿™é‡Œæˆ‘ç”¨äº†ç¡…åŸºæµåŠ¨æä¾›çš„Qwen2.5æ¨¡å‹ä½œä¸ºæ¼”ç¤ºï¼Œè¿è¡Œä¸‹é¢è¿™ä¸ªä»£ç éœ€è¦ä¿®æ”¹api_keyä¸ºæ­£ç¡®å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openai <span class="comment"># 1.75.0</span></span><br><span class="line"><span class="keyword">import</span> json <span class="comment"># åç»­ä¼šç”¨åˆ°json</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    client = openai.OpenAI(</span><br><span class="line">        api_key=<span class="string">&quot;xxxxx&quot;</span>,</span><br><span class="line">        base_url=<span class="string">&quot;https://api.siliconflow.cn/v1&quot;</span>)</span><br><span class="line">    tools = [&#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;function&quot;</span>,</span><br><span class="line">        <span class="string">&quot;function&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;get_weather&quot;</span>,</span><br><span class="line">            <span class="string">&quot;description&quot;</span>: <span class="string">&quot;è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”&quot;</span>,</span><br><span class="line">            <span class="string">&quot;parameters&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">                <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;city&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;åŸå¸‚å&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;required&quot;</span>: [<span class="string">&quot;city&quot;</span>],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">    res = client.chat.completions.create(model=<span class="string">&quot;Qwen/Qwen2.5-32B-Instruct&quot;</span>,</span><br><span class="line">                                         messages=[&#123;</span><br><span class="line">                                             <span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">                                             <span class="string">&quot;content&quot;</span>: <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢åŠ©æ‰‹&quot;</span></span><br><span class="line">                                         &#125;, &#123;</span><br><span class="line">                                             <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">                                             <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å¸®æˆ‘æŸ¥è¯¢ä¸Šæµ·çš„å¤©æ°”&quot;</span></span><br><span class="line">                                         &#125;],</span><br><span class="line">                                         tools=tools,</span><br><span class="line">                                         tool_choice=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;content:&quot;</span>,res.choices[<span class="number">0</span>].message.content)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;tools:&quot;</span>,res.choices[<span class="number">0</span>].message.tool_calls)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;message:&quot;</span>, res.choices[<span class="number">0</span>].message.to_dict())</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºï¼Œå‘å‡ºè¯·æ±‚åï¼Œå¤§æ¨¡å‹å°±ä¼šæ ¹æ®ç”¨æˆ·æå‡ºçš„é—®é¢˜å’Œæä¾›çš„toolsï¼Œæ¥ä¸ºè¿™ä¸ªtoolsç¼–å†™éœ€è¦æä¾›çš„å‚æ•°ã€‚æ­¤æ—¶contentä¼šæ˜¯ç©ºï¼Œä¸ä¼šè¾“å‡ºå†…å®¹ï¼Œtool_callsä¸­ä¼šåŒ…å«è°ƒç”¨çš„å·¥å…·å’Œå‚æ•°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ uv run main.py</span><br><span class="line">content: </span><br><span class="line">tools: [ChatCompletionMessageToolCall(id=&#x27;01964be6e485603d6a2a0acbbc7eba91&#x27;, function=Function(arguments=&#x27;&#123;&quot;city&quot;: &quot;ä¸Šæµ·&quot;&#125;&#x27;, name=&#x27;get_weather&#x27;), type=&#x27;function&#x27;)]</span><br><span class="line">message: &#123;&#x27;content&#x27;: &#x27;&#x27;, &#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;tool_calls&#x27;: [&#123;&#x27;id&#x27;: &#x27;01964be6e485603d6a2a0acbbc7eba91&#x27;, &#x27;function&#x27;: &#123;&#x27;arguments&#x27;: &#x27;&#123;&quot;city&quot;: &quot;ä¸Šæµ·&quot;&#125;&#x27;, &#x27;name&#x27;: &#x27;get_weather&#x27;&#125;, &#x27;type&#x27;: &#x27;function&#x27;&#125;]&#125;</span><br></pre></td></tr></table></figure><p>å¯¹åº”å¦‚ä¸‹jsonæ ¼å¼å“åº”ï¼ŒåŒ…å«äº†æˆ‘ä»¬çš„å‚æ•°</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tool_calls&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;01964be6e485603d6a2a0acbbc7eba91&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;function&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;get_weather&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;arguments&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\n  \&quot;city\&quot;: \&quot;ä¸Šæµ·\&quot;\n&#125;&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-1-2-è°ƒç”¨å·¥å…·å¹¶è®©AIäºŒæ¬¡å¤„ç†">2.1.2. è°ƒç”¨å·¥å…·å¹¶è®©AIäºŒæ¬¡å¤„ç†</h4><p>éšåï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ªå¤§æ¨¡å‹è¿”å›çš„å‚æ•°æ¥è°ƒç”¨æˆ‘ä»¬çš„å‡½æ•°ï¼Œå¹¶å¾—åˆ°å‡½æ•°çš„è¿”å›ç»“æœï¼Œå†æ¬¡ä¸å¤§æ¨¡å‹è¿›è¡Œå¯¹è¯ã€‚æ­¤æ—¶éœ€è¦æŒ‰ä¸‹é¢çš„æ–¹å¼ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œé¦–å…ˆéœ€è¦å°†ç¬¬ä¸€æ¬¡è¯·æ±‚AIè¿”å›çš„ç»“æœæ’å…¥åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼ˆ<code>&quot;role&quot;: &quot;assistant&quot;</code>çš„jsonå­—ç¬¦ä¸²ï¼‰ï¼Œç„¶åå†æ’å…¥å·¥å…·è°ƒç”¨çš„æ•°æ®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tool&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å·¥å…·è°ƒç”¨ç»“æœ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tool_call_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;aiè°ƒç”¨å·¥å…·æ—¶è¿”å›çš„id&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­contentä»£è¡¨å·¥å…·è°ƒç”¨çš„ç»“æœï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼Œå†…å®¹å¯ä»¥æ˜¯jsonï¼‰ï¼Œå¹¶ä¸”éœ€è¦ç”¨<code>tool_call_id</code>æ¥æ ‡è¯†è¿™æ˜¯å“ªä¸€ä¸ªå·¥å…·è°ƒç”¨çš„è¯·æ±‚ï¼Œå¿…é¡»è¦å’Œ<code>&quot;role&quot;: &quot;assistant&quot;</code>å“åº”ä¸­çš„idå¯¹åº”ã€‚</p><p>äºŒæ¬¡AIäº¤äº’å¯¹åº”pythonä»£ç å¦‚ä¸‹ï¼Œåœ¨ä¸Šæ–‡æä¾›çš„pythonä»£ç ä¹‹åè¿½åŠ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ’å…¥ç»“æœï¼Œå†æ¬¡å¯¹è¯</span></span><br><span class="line">messages.append(res.choices[<span class="number">0</span>].message.to_dict()) <span class="comment"># aiç¬¬ä¸€æ¬¡è¿”å›çš„æ•°æ®</span></span><br><span class="line"><span class="comment"># å·¥å…·è°ƒç”¨çš„å‚æ•°</span></span><br><span class="line">tool_call = res.choices[<span class="number">0</span>].message.tool_calls[<span class="number">0</span>]</span><br><span class="line">arguments = json.loads(tool_call.function.arguments)</span><br><span class="line">messages.append(&#123;</span><br><span class="line">    <span class="string">&quot;role&quot;</span>: <span class="string">&quot;tool&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content&quot;</span>: get_weather(arguments[<span class="string">&#x27;city&#x27;</span>]),</span><br><span class="line">    <span class="string">&quot;tool_call_id&quot;</span>: tool_call.<span class="built_in">id</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment"># äºŒæ¬¡è¯·æ±‚</span></span><br><span class="line">res = client.chat.completions.create(model=model,</span><br><span class="line">                                     messages=messages,</span><br><span class="line">                                     tools=tools,</span><br><span class="line">                                     tool_choice=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;content:&quot;</span>, res.choices[<span class="number">0</span>].message.content)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;tools:&quot;</span>, res.choices[<span class="number">0</span>].message.tool_calls)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;message:&quot;</span>, res.choices[<span class="number">0</span>].message.to_dict())</span><br></pre></td></tr></table></figure><p>å…¶ä¸­get_weatherå‡½æ•°å¦‚ä¸‹ï¼Œä¸ºäº†æµ‹è¯•æ˜¯å†™æ­»çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªjsonå­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_weather</span>(<span class="params">location</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#123;&quot;Celsius&quot;: 27, &quot;type&quot;: &quot;sunny&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>æœ€ç»ˆè¿è¡Œç»“æœï¼ŒAIæˆåŠŸæ ¹æ®æˆ‘ä»¬å·¥å…·è°ƒç”¨çš„è¿”å›å€¼æ¥è¾“å‡ºäº†å¯¹è¯æ–¹å¼çš„å¤©æ°”æƒ…å†µï¼ŒåŒ…æ‹¬æ¸©åº¦å’Œæ™´å¤©ã€‚è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªå®Œæ•´çš„toolsè°ƒç”¨å’ŒAIå†å¤„ç†çš„è¿‡ç¨‹äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â¯ uv run main.py</span><br><span class="line">content: </span><br><span class="line">tools: [ChatCompletionMessageToolCall(id=&#x27;01964be6e485603d6a2a0acbbc7eba91&#x27;, function=Function(arguments=&#x27;&#123;&quot;city&quot;: &quot;ä¸Šæµ·&quot;&#125;&#x27;, name=&#x27;get_weather&#x27;), type=&#x27;function&#x27;)]</span><br><span class="line">message: &#123;&#x27;content&#x27;: &#x27;&#x27;, &#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;tool_calls&#x27;: [&#123;&#x27;id&#x27;: &#x27;01964be6e485603d6a2a0acbbc7eba91&#x27;, &#x27;function&#x27;: &#123;&#x27;arguments&#x27;: &#x27;&#123;&quot;city&quot;: &quot;ä¸Šæµ·&quot;&#125;&#x27;, &#x27;name&#x27;: &#x27;get_weather&#x27;&#125;, &#x27;type&#x27;: &#x27;function&#x27;&#125;]&#125;</span><br><span class="line">-------------------</span><br><span class="line">content: ä¸Šæµ·å½“å‰çš„å¤©æ°”æ˜¯æ™´å¤©ï¼Œæ¸©åº¦æ˜¯27æ‘„æ°åº¦ã€‚</span><br><span class="line">tools: None</span><br><span class="line">message: &#123;&#x27;content&#x27;: &#x27;ä¸Šæµ·å½“å‰çš„å¤©æ°”æ˜¯æ™´å¤©ï¼Œæ¸©åº¦æ˜¯27æ‘„æ°åº¦ã€‚&#x27;, &#x27;role&#x27;: &#x27;assistant&#x27;&#125;</span><br></pre></td></tr></table></figure><details class="toggle" ><summary class="toggle-button" style="">æœ¬æ¬¡function callçš„å®Œæ•´ä¸Šä¸‹æ–‡å’Œä»£ç </summary><div class="toggle-content"><p>å®Œæ•´jsonä¸Šä¸‹æ–‡ä¿¡æ¯</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;system&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢åŠ©æ‰‹&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¸®æˆ‘æŸ¥è¯¢ä¸Šæµ·çš„å¤©æ°”&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;tool_calls&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;01964beeb9ee27098b74149d86560b35&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;arguments&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\&quot;city\&quot;: \&quot;ä¸Šæµ·\&quot;&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;get_weather&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;function&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tool&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\&quot;Celsius\&quot;: 27, \&quot;type\&quot;: \&quot;sunny\&quot;&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;tool_call_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;01964beeb9ee27098b74149d86560b35&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸Šæµ·å½“å‰çš„å¤©æ°”æ˜¯æ™´å¤©ï¼Œæ¸©åº¦æ˜¯27æ‘„æ°åº¦ã€‚&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openai <span class="comment"># 1.75.0</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_weather</span>(<span class="params">location</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#123;&quot;Celsius&quot;: 27, &quot;type&quot;: &quot;sunny&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">model=<span class="string">&quot;Qwen/Qwen2.5-32B-Instruct&quot;</span></span>):</span><br><span class="line">    client = openai.OpenAI(</span><br><span class="line">        api_key=<span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">        base_url=<span class="string">&quot;https://api.siliconflow.cn/v1&quot;</span>)</span><br><span class="line">    tools = [&#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;function&quot;</span>,</span><br><span class="line">        <span class="string">&quot;function&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;get_weather&quot;</span>,</span><br><span class="line">            <span class="string">&quot;description&quot;</span>: <span class="string">&quot;è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”&quot;</span>,</span><br><span class="line">            <span class="string">&quot;parameters&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">                <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;city&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;åŸå¸‚å&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;required&quot;</span>: [<span class="string">&quot;city&quot;</span>],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">    messages = [&#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢åŠ©æ‰‹&quot;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;å¸®æˆ‘æŸ¥è¯¢ä¸Šæµ·çš„å¤©æ°”&quot;</span></span><br><span class="line">    &#125;]</span><br><span class="line">    res = client.chat.completions.create(model=model,</span><br><span class="line">                                         messages=messages,</span><br><span class="line">                                         tools=tools,</span><br><span class="line">                                         tool_choice=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;content:&quot;</span>, res.choices[<span class="number">0</span>].message.content)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;tools:&quot;</span>, res.choices[<span class="number">0</span>].message.tool_calls)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;message:&quot;</span>, res.choices[<span class="number">0</span>].message.to_dict())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ’å…¥ç»“æœï¼Œå†æ¬¡å¯¹è¯</span></span><br><span class="line">    messages.append(res.choices[<span class="number">0</span>].message.to_dict())</span><br><span class="line">    tool_call = res.choices[<span class="number">0</span>].message.tool_calls[<span class="number">0</span>]</span><br><span class="line">    arguments = json.loads(tool_call.function.arguments)</span><br><span class="line">    messages.append(&#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;tool&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: get_weather(arguments[<span class="string">&#x27;city&#x27;</span>]),</span><br><span class="line">        <span class="string">&quot;tool_call_id&quot;</span>: tool_call.<span class="built_in">id</span></span><br><span class="line">    &#125;)</span><br><span class="line">    res = client.chat.completions.create(model=model,</span><br><span class="line">                                         messages=messages,</span><br><span class="line">                                         tools=tools,</span><br><span class="line">                                         tool_choice=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;content:&quot;</span>, res.choices[<span class="number">0</span>].message.content)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;tools:&quot;</span>, res.choices[<span class="number">0</span>].message.tool_calls)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;message:&quot;</span>, res.choices[<span class="number">0</span>].message.to_dict())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></div></details><h4 id="2-1-3-tool-choiceè®¾ç½®ä¸ºnone">2.1.3. tool_choiceè®¾ç½®ä¸ºnone</h4><p>è¿™é‡Œä¹Ÿæµ‹è¯•ä¸€ä¸‹æŠŠ<code>tool_choice</code>è®¾ç½®ä¸º<strong>none</strong>çš„æƒ…å†µï¼Œæ­¤æ—¶å³ä¾¿ä¼ å…¥äº†toolsï¼ŒAIä¹Ÿä¸ä¼šè®¤ä¸ºæœ‰å¤–éƒ¨å·¥å…·ï¼Œä¼šç›´æ¥è¿”å›æ–‡å­—è¯´æ˜ã€‚<code>tool_choice</code>è¿˜æœ‰å¦å¤–ä¸€ä¸ªå¯é€‰å€¼æ˜¯requiredï¼Œä¹Ÿå°±æ˜¯å¿…é¡»è¦è°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ uv run main.py</span><br><span class="line">content: æˆ‘æ— æ³•æä¾›å®æ—¶æ•°æ®æˆ–å³æ—¶æŸ¥è¯¢æœåŠ¡ï¼Œå› ä¸ºæˆ‘å½“å‰çš„åŠŸèƒ½ä¸åŒ…æ‹¬è®¿é—®äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯ã€‚ä½ å¯ä»¥é€šè¿‡æŸ¥è¯¢å„ç±»å¤©æ°”åº”ç”¨æŸ¥çœ‹ä¸Šæµ·æœ€æ–°çš„å¤©æ°”æƒ…å†µï¼Œæˆ–è€…æä¾›å…·ä½“æ—¥æœŸï¼Œæˆ‘å¯ä»¥æ•™ä½ å¦‚ä½•æ ¹æ®è¿™äº›ä¿¡æ¯æ¥åˆ¤æ–­å’Œç†è§£å¤©æ°”çŠ¶å†µã€‚å¦‚æœä½ æœ‰ä»»ä½•å…³äºå¤©æ°”çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œæˆ–éœ€è¦äº†è§£æŸäº›å¤©æ°”æ¡ä»¶çš„å½±å“ï¼Œä¹Ÿæ¬¢è¿å‘æˆ‘è¯¢é—®ã€‚</span><br><span class="line">tools: None</span><br><span class="line">message: &#123;&#x27;content&#x27;: &#x27;æˆ‘æ— æ³•æä¾›å®æ—¶æ•°æ®æˆ–å³æ—¶æŸ¥è¯¢æœåŠ¡ï¼Œå› ä¸ºæˆ‘å½“å‰çš„åŠŸèƒ½ä¸åŒ…æ‹¬è®¿é—®äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯ã€‚ä½ å¯ä»¥é€šè¿‡æŸ¥è¯¢å„ç±»å¤©æ°”åº”ç”¨æŸ¥çœ‹ä¸Šæµ·æœ€æ–°çš„å¤©æ°”æƒ…å†µï¼Œæˆ–è€…æä¾›å…·ä½“æ—¥æœŸï¼Œæˆ‘å¯ä»¥æ•™ä½ å¦‚ä½•æ ¹æ®è¿™äº›ä¿¡æ¯æ¥åˆ¤æ–­å’Œç†è§£å¤©æ°”çŠ¶å†µã€‚å¦‚æœä½ æœ‰ä»»ä½•å…³äºå¤©æ°”çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œæˆ–éœ€è¦äº†è§£æŸäº›å¤©æ°”æ¡ä»¶çš„å½±å“ï¼Œä¹Ÿæ¬¢è¿å‘æˆ‘è¯¢é—®ã€‚&#x27;, &#x27;role&#x27;: &#x27;assistant&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2-function-callçš„é—®é¢˜">2.2. function callçš„é—®é¢˜</h3><p>å¦‚ä¸‹æ˜¯ä¸€æ¬¡function callçš„æµç¨‹å›¾</p><pre><code class="highlight mermaid">graph TD    A[ç¼–å†™toolsï¼Œå¹¶æä¾›toolså‚æ•°é…ç½®] --&gt; |è°ƒç”¨OpenAI Chat Completionsæ¥å£ï¼Œæä¾›tools|C[AIç†è§£toolsçš„ä½œç”¨å’Œå‚æ•°ï¼Œå¹¶è¿”å›è°ƒç”¨å‚æ•°]    C --&gt; |è„šæœ¬å¤„ç†AIè¿”å›çš„å‚æ•°ï¼Œè°ƒç”¨toolsï¼Œè·å–ç»“æœ|E[AIè·å–toolsç»“æœï¼Œè§£æå¹¶ç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”]</code></pre><p>ç»è¿‡è¿™ä¸ªæµç¨‹ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå³ä¾¿æ˜¯ç®€å•çš„è°ƒç”¨ä¸€ä¸ªåªæœ‰å•å‚æ•°çš„è·å–å¤©æ°”çš„å‡½æ•°ï¼Œåœ¨ä½¿ç”¨openaiè¿™ä¸ªç¬¬ä¸‰æ–¹åº“çš„æƒ…å†µä¸‹éƒ½éœ€è¦è´¹å¾ˆå¤§åŠ²ï¼Œ<strong>ä¸»è¦æ˜¯toolsçš„è°ƒç”¨æ“ä½œéœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™è„šæœ¬å®ç°</strong>ï¼Œå¦‚æœæˆ‘ä»¬æ•´ä¸ªAIå¤„ç†æµç¨‹æ¶‰åŠåˆ°æ›´å¤štoolså‡½æ•°çš„æ—¶å€™ï¼Œå°±å¾ˆéš¾å¤„ç†äº†ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œopenaiåœ¨2025å¹´æ–°å¼€æºçš„<a href="https://github.com/openai/openai-agents-python/">OpenAI Agent SDK</a>ä¸­æä¾›äº†æ›´åŠ ä¾¿æ·çš„toolså·¥å…·è°ƒç”¨çš„å¤„ç†ï¼Œåªéœ€è¦ç¼–å†™ä¸€ä¸ªå·¥å…·ç±»ï¼Œåœ¨Agentåˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥ï¼ŒAgentå°±èƒ½è‡ªåŠ¨è¯†åˆ«è¿™ä¸ªå·¥å…·ç±»ä¸­çš„æ–¹æ³•å¹¶è°ƒç”¨å·¥å…·ï¼ˆè‡ªåŠ¨ç»™æœ¬åœ°çš„å‡½æ•°ä¼ å…¥å‚æ•°ï¼‰ã€‚ç¤ºä¾‹ä»£ç å¯ä»¥å‚è€ƒå¼€æºä»“åº“ä¸­çš„<a href="https://github.com/openai/openai-agents-python/blob/main/examples/tools/web_search.py">example</a>ã€‚</p><p>ä¸è¿‡è¿™è¿˜æ˜¯æ²¡æœ‰è§£å†³ä¸€ä¸ªæœ€æ ¹æœ¬çš„é—®é¢˜ï¼Œ<strong>é‚£å°±æ˜¯å¤–éƒ¨å·¥å…·è°ƒç”¨æ–¹å¼çš„ä¸ç»Ÿä¸€</strong>ã€‚å…‰æ˜¯æˆ‘ç°åœ¨çŸ¥é“çš„Agentå¼€å‘SDKå°±æœ‰ä¸‰ä¸ªï¼ˆOpenAIã€QwenAgentã€è°·æ­ŒADKï¼‰ï¼Œè¿™ä¸‰ä¸ªSDKéƒ½ä¼šæœ‰ä¸€å¥—è‡ªå·±çš„toolsè°ƒç”¨é€»è¾‘ï¼Œè€Œä¸”openaiå’Œqwençš„SDKæ›´æ˜¯åªæ”¯æŒè‡ªå®¶çš„æ¨¡å‹ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å³ä¾¿æ˜¯åŒä¸€ä¸ªtoolsï¼Œåœ¨ä½¿ç”¨ä¸åŒçš„SDKçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦é’ˆå¯¹è¿™ä¸ªSDKå»é‡æ–°ç¼–å†™ä¸€å¥—toolsçš„è°ƒç”¨é€»è¾‘ï¼Œå¾ˆæ˜¯éº»çƒ¦ã€‚</p><p>äº†è§£äº†è¿™ä¸ªèƒŒæ™¯ä¹‹åï¼Œæƒ³å¿…ä½ èƒ½ç†è§£MCPåè®®çš„é‡è¦æ€§äº†ï¼Œå®ƒè§„èŒƒäº†toolsçš„è°ƒç”¨æ–¹å¼ï¼ŒåŒä¸€ä¸ªtoolsæˆ‘ä»¬åªéœ€è¦ç¼–å†™ä¸€æ¬¡MCP Serverï¼Œå°±èƒ½å¤Ÿåœ¨ä¼—å¤šæ”¯æŒmcpçš„AI Agenté‡Œé¢è¢«è°ƒç”¨ï¼Œè§£å†³äº†é’ˆå¯¹ä¸åŒAIæ¨¡å‹æˆ–SDKå¯¹toolsè¿›è¡Œå•ç‹¬é€‚é…çš„ç—›ç‚¹ï¼</p><h2 id="3-MCPåè®®è¯¦è§£">3. MCPåè®®è¯¦è§£</h2><p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬ç®€å•äº†è§£ä¸€ä¸‹MCPåè®®æ˜¯æ€ä¹ˆæä¾›ç»Ÿä¸€çš„toolsè°ƒç”¨æ–¹å¼çš„ã€‚åœ¨è¿™ä¹‹å‰ï¼Œéœ€è¦å…ˆæ³¨æ˜å‡ ä¸ªåè¯</p><ul><li>MCP Hostsï¼šå¦‚ Claude Desktopã€IDE æˆ– AI å·¥å…·ï¼Œå¸Œæœ›é€šè¿‡ MCP è®¿é—®æ•°æ®çš„ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯AI Agentç¨‹åºï¼‰</li><li>MCP Clientsï¼šç”¨äºç»´æŠ¤å’ŒæœåŠ¡å™¨é“¾æ¥çš„ä¸€å¯¹ä¸€å·¥å…·</li><li>MCP Serversï¼šé€šè¿‡MCPåè®®æä¾›ç‰¹å®šèƒ½åŠ›</li><li>æœ¬åœ°æ•°æ®æºï¼šMCPæœåŠ¡å™¨å¯ä»¥å®‰è£…è®¿é—®æœ¬åœ°çš„æ–‡ä»¶ã€æ•°æ®åº“å’ŒæœåŠ¡</li><li>è¿œç¨‹æœåŠ¡ï¼šMCPæœåŠ¡å™¨å¯é€šè¿‡å„ç±»APIé“¾æ¥äº’è”ç½‘ä¸Šçš„å¤–éƒ¨ç³»ç»Ÿ</li></ul><p>å…¶ä¸­è¦æ³¨æ„MCP Hostså’ŒClientsçš„åŒºåˆ«ï¼Œä¸ºäº†æ›´å¥½çš„åŒºåˆ†ï¼Œåæ–‡ä¼šç”¨AIæ¥æŒ‡ä»£MCP Hostsï¼Œæ¯•ç«ŸMCPå·¥å…·çš„è¾“å‡ºç»“æœéƒ½æ˜¯ä¼šè®©AIæ¥å¤„ç†çš„ã€‚</p><h3 id="3-1-MCP-Server">3.1. MCP Server</h3><h4 id="3-1-1-tools">3.1.1. tools</h4><p>ä»¥å®˜æ–¹çš„<a href="https://github.com/modelcontextprotocol/python-sdk/tree/main/examples/servers/simple-tool">MCP Server Demo</a>ä¸ºä¾‹ï¼Œåœ¨toolsæ¨¡å¼ä¸‹ï¼ŒServerä¸»è¦æä¾›çš„æ˜¯ä¸¤ä¸ªèƒ½åŠ›ï¼Œä¸€ä¸ªæ˜¯è·å–å½“å‰æœåŠ¡å™¨æ”¯æŒçš„toolsï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯call toolè°ƒç”¨å·¥å…·çš„èƒ½åŠ›ã€‚</p><p>å…¶ä¸­ï¼Œè·å–å½“å‰æ”¯æŒçš„toolsä¼šè¿”å›toolsåˆ—è¡¨ã€æ¯ä¸ªtoolsçš„inputSchemaå‚æ•°å’Œå‚æ•°çš„type/descriptioné‡Šä¹‰ã€‚è¿™ä¸€ç‚¹å’Œfunction callæ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡mcpçš„sdkå°†å…¶åŒ…è£…æˆäº†ä¸€ä¸ªtypes.Toolç±»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.list_tools()</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">list_tools</span>() -&gt; <span class="built_in">list</span>[types.Tool]:</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        types.Tool(</span><br><span class="line">            name=<span class="string">&quot;fetch&quot;</span>,</span><br><span class="line">            description=<span class="string">&quot;Fetches a website and returns its content&quot;</span>,</span><br><span class="line">            inputSchema=&#123;</span><br><span class="line">                <span class="string">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">                <span class="string">&quot;required&quot;</span>: [<span class="string">&quot;url&quot;</span>],</span><br><span class="line">                <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;url&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;URL to fetch&quot;</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        )</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure><p>é™¤äº†äººå·¥ç¼–å†™è¿™éƒ¨åˆ†å‚æ•°åˆ—è¡¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å‚è€ƒ<a href="https://github.com/modelcontextprotocol/servers/blob/main/src/git/src/mcp_server_git/server.py">mcp_server_git</a>çš„å®ç°ï¼Œå€ŸåŠ©pydanticæ¥å®šä¹‰æ¯ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨<code>schema()</code>è‡ªåŠ¨è·å–å‚æ•°é‡Šä¹‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Tool(</span><br><span class="line">    name=GitTools.DIFF_STAGED,</span><br><span class="line">    description=<span class="string">&quot;Shows changes that are staged for commit&quot;</span>,</span><br><span class="line">    inputSchema=GitDiffStaged.schema(),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¿è¡Œä¸‹é¢çš„ä»£ç ï¼Œå¯ä»¥å¾—åˆ°GitStatusè¿™ä¸ªç±»å®šä¹‰çš„ä¸¤ä¸ªå…¥å‚çš„åç§°ã€ç±»å‹å’Œè¯´æ˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GitStatus</span>(<span class="title class_ inherited__">BaseModel</span>):</span><br><span class="line">    repo_path: <span class="built_in">str</span></span><br><span class="line">    hello_text: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œä¼šæç¤ºschemaå‡½æ•°å·²ç»å¼ƒç”¨ï¼Œå»ºè®®ä½¿ç”¨model_json_schemaæ›¿ä»£</span></span><br><span class="line"><span class="built_in">print</span>(GitStatus.model_json_schema())</span><br><span class="line"><span class="comment"># è¾“å‡ºå¦‚ä¸‹</span></span><br><span class="line"><span class="comment"># &#123;&#x27;properties&#x27;: &#123;&#x27;repo_path&#x27;: &#123;&#x27;title&#x27;: &#x27;Repo Path&#x27;, &#x27;type&#x27;: &#x27;string&#x27;&#125;, &#x27;hello_text&#x27;: &#123;&#x27;title&#x27;: &#x27;Hello Text&#x27;, &#x27;type&#x27;: &#x27;string&#x27;&#125;&#125;, &#x27;required&#x27;: [&#x27;repo_path&#x27;, &#x27;hello_text&#x27;], &#x27;title&#x27;: &#x27;GitStatus&#x27;, &#x27;type&#x27;: &#x27;object&#x27;&#125;</span></span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œè·å–åˆ°çš„titleé‡Šä¹‰æ˜¯ç›´æ¥æ ¹æ®<strong>å‚æ•°åç§°</strong>æ¥çš„ï¼Œå¹¶æ²¡æœ‰äººå·¥ç¼–å†™çš„descriptioné‚£ä¹ˆå‡†ç¡®ã€‚æ‰€ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ä¼ å…¥inputSchemaçš„æ—¶å€™ï¼Œéœ€è¦æˆ‘ä»¬å°½å¯èƒ½åœ°æ ‡å‡†å‘½åå‚æ•°åç§°ï¼Œ<strong>è®©AIèƒ½é€šè¿‡å‚æ•°åç§°ç›´æ¥æ¨æ–­å‡ºè¿™ä¸ªå‚æ•°è¦ä¼ å…¥ä»€ä¹ˆå†…å®¹</strong>ã€‚</p><p>è°ƒç”¨å‡½æ•°çš„æ“ä½œå°±å’Œfunction callç±»ä¼¼äº†ï¼ŒMCPåè®®ä¼ å…¥çš„åŒæ ·ä¹Ÿæ˜¯argumentsåˆ—è¡¨ï¼Œéœ€è¦æˆ‘ä»¬å°†å…¶è§£æå¹¶è°ƒç”¨æˆ‘ä»¬å®é™…ç¼–å†™çš„å‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.call_tool()</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">fetch_tool</span>(<span class="params"></span></span><br><span class="line"><span class="params">    name: <span class="built_in">str</span>, arguments: <span class="built_in">dict</span></span></span><br><span class="line"><span class="params"></span>) -&gt; <span class="built_in">list</span>[types.TextContent | types.ImageContent | types.EmbeddedResource]:</span><br><span class="line">    <span class="keyword">if</span> name != <span class="string">&quot;fetch&quot;</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">f&quot;Unknown tool: <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;url&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> arguments:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;Missing required argument &#x27;url&#x27;&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> fetch_website(arguments[<span class="string">&quot;url&quot;</span>]) <span class="comment"># è°ƒç”¨å®é™…å‡½æ•°</span></span><br></pre></td></tr></table></figure><p>é™¤äº†è¿™ç§å¤æ‚çš„æ–¹å¼ï¼Œmcp sdkè¿˜æä¾›äº†ä¸€ä¸ª<a href="https://github.com/modelcontextprotocol/python-sdk/blob/main/examples/fastmcp/desktop.py">FastMcp</a>ï¼Œåªéœ€è¦æˆ‘ä»¬åœ¨ç¼–å†™çš„å‡½æ•°ä¸ŠåŠ ä¸€ä¸ª<code>@mcp.tool()</code>è£…é¥°å™¨ï¼Œå°±èƒ½ç«‹é©¬æŠŠæˆ‘ä»¬çš„æ™®é€šå‡½æ•°å˜æˆmcp toolsï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</span><br><span class="line">mcp = FastMCP(<span class="string">&quot;Demo&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">int</span>, b: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Add two numbers&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line">mcp.run() <span class="comment"># è¿è¡Œserver</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ç§æ–¹å¼å¯¹æ—¶å€™ï¼Œè£…é¥°å™¨ä¼šè‡ªåŠ¨å»è·å–æˆ‘ä»¬å‡½æ•°çš„å‚æ•°ä»¥åŠå‚æ•°çš„ç±»å‹ï¼Œå¹¶ç”Ÿæˆ<code>types.Tool</code>è¿”å›ç»™å®¢æˆ·ç«¯ã€‚è¿™ä¸ªè£…é¥°å™¨æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œnameåœ¨ä¸ä¼ å…¥çš„æ—¶å€™é»˜è®¤ä¸ºå‡½æ•°åç§°ï¼Œdescriptionåœ¨ä¸ä¼ å…¥çš„æ—¶å€™é»˜è®¤ä¸ºå‡½æ•°çš„docstringï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°ä¸‹çš„<code>&quot;&quot;&quot;</code>æ³¨é‡Šï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name: Optional name for the tool (defaults to function name)</span><br><span class="line">description: Optional description of what the tool does</span><br></pre></td></tr></table></figure><p>ä»SDKçš„æºç ä¸­å¯ä»¥æ‰¾åˆ°ï¼Œè£…é¥°å™¨ä¼šè°ƒç”¨<code>Tool.from_function</code>æ¥ç”Ÿæˆ<code>types.Tool</code>ç±»å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_tool</span>(<span class="params"></span></span><br><span class="line"><span class="params">    self,</span></span><br><span class="line"><span class="params">    fn: <span class="type">Callable</span>[..., <span class="type">Any</span>],</span></span><br><span class="line"><span class="params">    name: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    description: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span>) -&gt; Tool:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Add a tool to the server.&quot;&quot;&quot;</span></span><br><span class="line">    tool = Tool.from_function(fn, name=name, description=description)</span><br><span class="line">    existing = <span class="variable language_">self</span>._tools.get(tool.name) <span class="comment"># åˆ¤æ–­æ˜¯å¦æœ‰åŒåå‡½æ•°å·²ç»è¢«æ³¨å†Œè¿‡äº†</span></span><br><span class="line">    <span class="keyword">if</span> existing:</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.warn_on_duplicate_tools:</span><br><span class="line">            logger.warning(<span class="string">f&quot;Tool already exists: <span class="subst">&#123;tool.name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> existing <span class="comment"># ç›´æ¥è¿”å›å·²æ³¨å†Œçš„åŒåå‡½æ•°ï¼Œä¸è¿”å›æœ¬æ¬¡æ–°æ³¨å†Œçš„å‡½æ•°</span></span><br><span class="line">    <span class="comment"># æ–°æ³¨å†Œå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">self</span>._tools[tool.name] = tool</span><br><span class="line">    <span class="keyword">return</span> tool</span><br></pre></td></tr></table></figure><p>åœ¨<code>Tool.from_function</code>å‡½æ•°ä¸­ä¼šæ³¨å†Œnameå’Œdescription</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func_name = name <span class="keyword">or</span> fn.__name__</span><br><span class="line"><span class="keyword">if</span> func_name == <span class="string">&quot;&lt;lambda&gt;&quot;</span>: <span class="comment"># lambdaè¡¨è¾¾å¼æ²¡æœ‰å‡½æ•°åï¼Œå¿…é¡»ä¼ å…¥nameå‚æ•°</span></span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">&quot;You must provide a name for lambda functions&quot;</span>)</span><br><span class="line">func_doc = description <span class="keyword">or</span> fn.__doc__ <span class="keyword">or</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h4 id="3-1-2-promptså’Œresources">3.1.2. promptså’Œresources</h4><p>é™¤äº†æœ€å¸¸ç”¨çš„toolsï¼Œmcpè¿˜æä¾›äº†promptså’Œresourcesä¸¤ç§æœåŠ¡æ–¹å¼ï¼Œå…¶ä¸­promptæ˜¯ç”¨äºå®šä¹‰ä¸€äº›å¸¸ç”¨æ“ä½œçš„æç¤ºè¯ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥å»è·å–è¿™äº›æç¤ºè¯å’Œaiäº¤äº’ï¼Œé¿å…æˆ‘ä»¬é’ˆå¯¹æŸä¸€ä¸ªæµç¨‹é‡å¤ç¼–å†™æç¤ºè¯ï¼›resourcesæ˜¯å®šä¹‰ä¸€ä¸ªurlæ ¼å¼ï¼Œå½“æˆ‘ä»¬çš„äº¤æµä¸­å‡ºç°è¿™ä¸ªurlæ ¼å¼çš„æ—¶å€™ï¼Œaiå°±å¯ä»¥è°ƒç”¨è¿™ä¸ªå·¥å…·å»åšä¸€äº›ç‰¹å®šæ“ä½œï¼Œæ¯”å¦‚è¯·æ±‚æŸä¸ªapiæˆ–è€…æ“ä½œæ•°æ®åº“ã€‚</p><p>ä½†å¾ˆä¸å¹¸çš„æ˜¯ï¼Œä»¥ä¸Šéƒ½æ˜¯æ…•é›ªçš„ä¸ªäººç®€å•ç†è§£ï¼Œç”±äºpromptå’Œresourceså®åœ¨æ²¡æœ‰æ‰¾åˆ°å¯ä»¥å‚è€ƒçš„åšå®¢æˆ–å¦‚ä½•ä½¿ç”¨çš„demoï¼Œæˆ‘å¹¶ä¸æ˜¯å¾ˆç†è§£å®ƒä»¬åœ¨AIå·¥å…·ä¸­æ˜¯æ€ä¹ˆè¢«ä½¿ç”¨ä»¥åŠæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è¢«ä½¿ç”¨çš„ã€‚ç½‘ä¸Šé’ˆå¯¹MCPçš„æ•™ç¨‹ä¹Ÿä¸»è¦é›†ä¸­äºtoolså±‚é¢ã€‚</p><p>åç»­å¦‚æœå¯¹è¿™ä¿©æœ‰æ›´å¤šäº†è§£äº†ï¼Œå†å›æ¥è¡¥å……æœ¬æ–‡ã€‚</p><h3 id="3-2-å®¢æˆ·ç«¯é…ç½®æœ¬åœ°å’Œè¿œç¨‹MCP-Server">3.2. å®¢æˆ·ç«¯é…ç½®æœ¬åœ°å’Œè¿œç¨‹MCP Server</h3><p>åœ¨MCP SDKä¸­ä¸»è¦æä¾›äº†ä¸¤ç§serverå¯åŠ¨çš„æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯stdioæµå¼ä¼ è¾“ï¼ˆæœ¬åœ°ï¼‰çš„æ–¹å¼ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯sseè¿œç¨‹APIçš„æ–¹å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRANSPORTS = <span class="type">Literal</span>[<span class="string">&quot;stdio&quot;</span>, <span class="string">&quot;sse&quot;</span>]</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ç§æ–¹å¼åˆ†åˆ«å¯¹åº”äº†ä¸¤ç§æœåŠ¡å™¨çš„é…ç½®æ–¹å¼ã€‚å¦‚æœæ˜¯æœ¬åœ°çš„mcpæœåŠ¡å™¨ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤æ¥æŒ‡å®šmcpæœåŠ¡å™¨ä»£ç æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œå¹¶å¯åŠ¨å®ƒã€‚è¿™ä¸ªä»£ç å¯ä»¥æ˜¯githubä¸Šå…‹éš†çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šè¿‡npmæˆ–å…¶ä»–æ–¹å¼å®‰è£…åˆ°æœ¬åœ°çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><h4 id="3-2-1-æœ¬åœ°ï¼ˆstdioï¼‰">3.2.1. æœ¬åœ°ï¼ˆstdioï¼‰</h4><p>ä»¥pythonç¼–å†™çš„MCP Serverä¸ºä¾‹ï¼Œéœ€è¦é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯åŠ¨æŸä¸€ä¸ªMCP Serverï¼Œå…¶ä¸­<code>--directory</code>æŒ‡å®šçš„å·¥ä½œè·¯å¾„ï¼Œå¿…é¡»æŒ‡å®šè¿™ä¸ªå·¥ä½œè·¯å¾„æ‰èƒ½æ‰¾åˆ°<code>mcp-simple-tool</code>çš„ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®˜æ–¹ mcp-simple-tool demo</span></span><br><span class="line">uv run --directory /Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool mcp-simple-tool</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æ˜¯é‡‡ç”¨stdioæ–¹å¼å¯åŠ¨çš„serverï¼Œå¯¹åº”é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼ˆå¯ä¾›Agent SDKè°ƒç”¨ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;mcp-simple-tool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uv&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;run&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;--directory&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;mcp-simple-tool&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å½“å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨è¿™ä¸ªMCP Serverçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ ¹æ®æˆ‘ä»¬é…ç½®çš„å‘½ä»¤å»å°è¯•åœ¨æœ¬åœ°å¯åŠ¨è¿™ä¸ªmcpæœåŠ¡ç«¯ï¼Œç„¶åå’Œå®ƒäº¤äº’ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½¿ç”¨stdioæ¥é…ç½®MCP Serverä½†æœ¬åœ°å´æ²¡æœ‰uvç¯å¢ƒçš„æ—¶å€™ï¼Œç¨‹åºæ˜¯æ— æ³•å¯åŠ¨çš„ã€‚</p><p>ä»¥CherryStudioä¸ºä¾‹ï¼Œåœ¨mcpé…ç½®ä¸­ï¼Œä»¥stdioæ ¼å¼æ·»åŠ æˆ‘ä»¬è¿™ä¸ªé…ç½®ï¼Œç‚¹å‡»å³ä¸Šè§’ä¿å­˜ï¼Œä¿å­˜æˆåŠŸåˆ™ä»£è¡¨é…ç½®æ­£å¸¸ã€‚ä¿å­˜å¤±è´¥åˆ™éœ€è¦æ£€æŸ¥é…ç½®çš„å‘½ä»¤å’Œè·¯å¾„æ˜¯å¦å‡ºé”™</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/08b84f73e3c9751178714d6dbce3b404.webp" alt="image.png"></p><p>æ­¤æ—¶å‹¾é€‰åº•éƒ¨çš„MCPæœåŠ¡å™¨ï¼Œå’ŒAIå¯¹è¯ï¼Œç»™å‡ºä¸€ä¸ªURLï¼Œä»–ä¼šè‡ªåŠ¨è°ƒç”¨å·¥å…·å»ä¸‹è½½è¿™ä¸ªURLçš„htmlæ–‡ä»¶ï¼Œå¹¶è§£æå’Œè¾“å‡ºä»–å¯¹è¿™ä¸ªHTMLæ–‡ä»¶çš„ç†è§£ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/d1d1d4c8e51a89067a001cb918f8f457.webp" alt="image.png"></p><p>éœ€è¦æ³¨æ„çš„æ˜¯CherryStudioçš„mcpServers jsoné…ç½®æ–‡ä»¶å¹¶ä¸æ˜¯æ ‡å‡†mcpServersçš„æ ¼å¼ï¼Œå¤šäº†ä¸€äº›å­—æ®µï¼Œä¼°è®¡æ˜¯æ–¹ä¾¿å‰ç«¯è®¾è®¡ã€‚åœ¨AIçš„åˆæ¬¡è¾“å‡ºä¸­ä¹Ÿä¼šæŠŠGdTGt4qMFpnyYqBxaqTrMè¾“å‡ºå‡ºæ¥ï¼Œå› ä¸ºåœ¨æ ‡å‡†mcpServersé…ç½®ä¸­GdTGt4qMFpnyYqBxaqTrMå­—æ®µå°±æ˜¯mcpæœåŠ¡ç«¯çš„åç§°ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;GdTGt4qMFpnyYqBxaqTrM&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;isActive&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç½‘é¡µè·å–&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stdio&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;é€šè¿‡urlè·å–ç½‘é¡µå†…å®¹&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;registryUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uv&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;run&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;--directory&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;/Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;mcp-simple-tool&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ ‡å‡†çš„mcpServersçš„æ ¼å¼å¹¶ä¸éœ€è¦é‚£äº›é¢å¤–å­—æ®µï¼Œåªéœ€è¦æˆ‘åœ¨å‰æ–‡ç»™å‡ºçš„åŸºç¡€mspServersé…ç½®å°±å¯ä»¥äº†ã€‚ä»¥Qwen-Agentä¸ºä¾‹ï¼Œåªéœ€è¦æŠŠjsonå¡«å…¥toolsä¸­å°±å¯ä»¥è°ƒç”¨mcpæœåŠ¡å™¨äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> qwen_agent.agents <span class="keyword">import</span> Assistant</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_agent_service</span>():</span><br><span class="line">    llm_cfg = &#123;</span><br><span class="line">        <span class="string">&#x27;model&#x27;</span>: <span class="string">&#x27;Qwen/Qwen2.5-32B-Instruct&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;model_server&#x27;</span>: <span class="string">&#x27;https://api.siliconflow.cn/v1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;api_key&#x27;</span>: <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    system = (<span class="string">&#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚&#x27;</span>)</span><br><span class="line">    tools = [&#123;</span><br><span class="line">        <span class="string">&quot;mcpServers&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;mcp-simple-tool&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;command&quot;</span>:</span><br><span class="line">                <span class="string">&quot;uv&quot;</span>,</span><br><span class="line">                <span class="string">&quot;args&quot;</span>: [</span><br><span class="line">                    <span class="string">&quot;run&quot;</span>, <span class="string">&quot;--directory&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;/Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;mcp-simple-tool&quot;</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">    bot = Assistant(</span><br><span class="line">        llm=llm_cfg,</span><br><span class="line">        name=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>,</span><br><span class="line">        description=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹&#x27;</span>,</span><br><span class="line">        system_message=system,</span><br><span class="line">        function_list=tools,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">text=<span class="string">&#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;</span></span>):</span><br><span class="line">    bot = init_agent_service()</span><br><span class="line">    messages = [&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: text&#125;]</span><br><span class="line">    <span class="comment"># è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">for</span> response <span class="keyword">in</span> bot.run(messages):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;bot response:&#x27;</span>, response)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>Qwenæœ€ç»ˆçš„è¾“å‡ºå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;è¿™ä¸ªç½‘å€æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ç«™ç‚¹ï¼Œåå­—å«åšâ€œæ…•é›ªçš„å¯’èˆâ€ã€‚ç«™ç‚¹æè¿°è‡ªå·±ä¸ºâ€œçˆ±æŠ˜è…¾çš„ä»£ç åˆå­¦è€…â€ã€‚\n\nåšå®¢ä¸»è¦å†…å®¹åŒ…å«äº†ç¼–ç¨‹å­¦ä¹ ï¼ˆå¦‚Pythonã€Cã€ROSç­‰ï¼‰ã€åšå®¢å»ºç«™çš„ç›¸å…³çŸ¥è¯†ä»¥åŠä¸€äº›ç¼–ç¨‹ç›¸å…³çš„é¡¹ç›®å¼€å‘è®°å½•ã€‚\n\nç½‘ç«™é¦–é¡µè¿˜å±•ç¤ºäº†è¿‘æœŸå‘è¡¨çš„æ–‡ç« ã€å…¬å‘Šã€åˆ†ç±»å’Œæ ‡ç­¾ç­‰ä¿¡æ¯æ–¹ä¾¿ç”¨æˆ·æŸ¥æ‰¾å’Œæµè§ˆã€‚\n\næ€»ä¹‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«äº†ç¼–ç¨‹å­¦ä¹ å’Œé¡¹ç›®å¼€å‘è®°å½•å†…å®¹çš„ä¸ªäººæŠ€æœ¯åšå®¢ã€‚&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-2-è¿œç¨‹ï¼ˆsseï¼‰">3.2.2. è¿œç¨‹ï¼ˆsseï¼‰</h4><p>è¿œç¨‹è°ƒç”¨çš„é…ç½®å°±éœ€è¦æœåŠ¡å™¨çš„urläº†ã€‚é¦–å…ˆé€šè¿‡å¦‚ä¸‹æ–¹å¼å¯åŠ¨demoï¼Œæä¾›å‘½ä»¤è¡Œå‚æ•°sseä»¥è¿œç¨‹æ–¹å¼å¯åŠ¨ï¼ŒportæŒ‡å®šç«¯å£8000</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv run --directory /Users/mothra/data/code/python/openai/mcp-python-sdk/examples/servers/simple-tool mcp-simple-tool --transport sse --port 8000</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ç»ˆç«¯ä¼šè¾“å‡ºå½“å‰è¿›ç¨‹PIDä»¥åŠæœåŠ¡ç«¯çš„url</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INFO:     Started server process [17058]</span><br><span class="line">INFO:     Waiting for application startup.</span><br><span class="line">INFO:     Application startup complete.</span><br><span class="line">INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)</span><br></pre></td></tr></table></figure><p>å¯¹åº”mcpServersé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­<strong>disabled</strong>æ˜¯å½“å‰serveræ˜¯å¦è¢«ç¦ç”¨ï¼Œè®¾ç½®falseä¸ºå¯ç”¨è¿™ä¸ªserverï¼Œ<strong>timeout</strong>æ˜¯é“¾æ¥æœåŠ¡ç«¯çš„è¶…æ—¶æ—¶é—´ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;exampleServer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://127.0.0.1:8000/sse&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;disabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">30</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨cherrystudioä¸­å¡«å†™ <code>http://0.0.0.0:8000/sse</code>ä½œä¸ºsseæœåŠ¡åœ°å€</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/58c071e226b752b3071a8677e574ef02.webp" alt="image.png"></p><p>åŒæ ·å¯ä»¥æ­£å¸¸è°ƒç”¨ï¼Œè¾“å‡ºç»“æœ</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/0587057a2eb1b032ab58cd848f0b82e5.webp" alt="image.png"></p><p>æ³¨æ„ï¼Œåœ¨QwenAgent SDKä¸­å¿…é¡»ä½¿ç”¨<code>http://127.0.0.1:8000/sse</code>æ‰èƒ½æ­£å¸¸è¿æ¥è¿™ä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼Œä¸èƒ½ä½¿ç”¨<code>http://0.0.0.0:8000/sse</code>ï¼Œå¦åˆ™ä¼šå‡ºç°502 Bad Gatewayé”™è¯¯ï¼Œè¯¦è§<a href="https://github.com/QwenLM/Qwen-Agent/issues/501">issue</a>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">INFO:mcp.client.sse:Connecting to SSE endpoint: http://0.0.0.0:8000/sse/</span><br><span class="line">DEBUG:httpcore.connection:connect_tcp.started host=&#x27;127.0.0.1&#x27; port=7897 local_address=None timeout=5 socket_options=None</span><br><span class="line">DEBUG:httpcore.connection:connect_tcp.complete return_value=&lt;httpcore._backends.anyio.AnyIOStream object at 0x1075a3c70&gt;</span><br><span class="line">DEBUG:httpcore.http11:send_request_headers.started request=&lt;Request [b&#x27;GET&#x27;]&gt;</span><br><span class="line">DEBUG:httpcore.http11:send_request_headers.complete</span><br><span class="line">DEBUG:httpcore.http11:send_request_body.started request=&lt;Request [b&#x27;GET&#x27;]&gt;</span><br><span class="line">DEBUG:httpcore.http11:send_request_body.complete</span><br><span class="line">DEBUG:httpcore.http11:receive_response_headers.started request=&lt;Request [b&#x27;GET&#x27;]&gt;</span><br><span class="line">DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b&#x27;HTTP/1.1&#x27;, 502, b&#x27;Bad Gateway&#x27;, [(b&#x27;Connection&#x27;, b&#x27;close&#x27;), (b&#x27;Content-Length&#x27;, b&#x27;0&#x27;)])</span><br><span class="line">INFO:httpx:HTTP Request: GET http://0.0.0.0:8000/sse/ &quot;HTTP/1.1 502 Bad Gateway&quot;</span><br><span class="line">DEBUG:httpcore.http11:response_closed.started</span><br><span class="line">DEBUG:httpcore.http11:response_closed.complete</span><br><span class="line">2025-04-19 15:51:29,240 - mcp_manager.py - 206 - INFO - Failed to connect to server: unhandled errors in a TaskGroup (1 sub-exception)</span><br><span class="line">INFO:qwen_agent_logger:Failed to connect to server: unhandled errors in a TaskGroup (1 sub-exception)</span><br><span class="line">2025-04-19 15:51:29,247 - mcp_manager.py - 91 - INFO - Error executing function: &#x27;NoneType&#x27; object is not iterable</span><br><span class="line">INFO:qwen_agent_logger:Error executing function: &#x27;NoneType&#x27; object is not iterable</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹äº†toolsçš„é…ç½®ä¸ºè¿œç¨‹urlï¼Œå…¶ä»–ä»£ç ä¿æŒä¸å˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> qwen_agent.agents <span class="keyword">import</span> Assistant</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(level=logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_agent_service</span>():</span><br><span class="line">    llm_cfg = &#123;</span><br><span class="line">        <span class="string">&#x27;model&#x27;</span>: <span class="string">&#x27;Qwen/Qwen2.5-32B-Instruct&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;model_server&#x27;</span>: <span class="string">&#x27;https://api.siliconflow.cn/v1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;api_key&#x27;</span>: <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    system = (<span class="string">&#x27;ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¤„ç†é—®é¢˜ã€‚&#x27;</span>)</span><br><span class="line">    tools = [&#123;</span><br><span class="line">        <span class="string">&quot;mcpServers&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;exmaple-server&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://127.0.0.1:8000/sse&quot;</span>,</span><br><span class="line">                <span class="string">&quot;disabled&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">                <span class="string">&quot;timeout&quot;</span>: <span class="number">30</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">    bot = Assistant(</span><br><span class="line">        llm=llm_cfg,</span><br><span class="line">        name=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;</span>,</span><br><span class="line">        description=<span class="string">&#x27;ç½‘é¡µæŸ¥çœ‹&#x27;</span>,</span><br><span class="line">        system_message=system,</span><br><span class="line">        function_list=tools,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">text=<span class="string">&#x27;è¿™ä¸ªç½‘ç«™æ˜¯ä»€ä¹ˆï¼Ÿhttps://blog.musnow.top/&#x27;</span></span>):</span><br><span class="line">    bot = init_agent_service()</span><br><span class="line">    messages = [&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: text&#125;]</span><br><span class="line">    <span class="comment"># è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">for</span> response <span class="keyword">in</span> bot.run(messages):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;bot response:&#x27;</span>, response)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>QwenAgentæ­£å¸¸è°ƒç”¨å·¥å…·å¹¶è¿”å›ç½‘é¡µçš„ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: &#x27;è¿™æ˜¯ä¸€ä¸ªåä¸º&quot;æ…•é›ªçš„å¯’èˆ&quot;çš„åšå®¢ç½‘ç«™ã€‚åšå®¢çš„ä½œè€…æ˜¯æ…•é›ªå¹´åã€‚ç½‘ç«™ä¸Šæœ‰å¾ˆå¤šå…³äºç¼–ç¨‹å­¦ä¹ ã€æŠ€æœ¯åˆ†äº«çš„æ–‡ç« ï¼ŒåŒæ—¶ï¼Œåšå®¢è¿˜æä¾›äº†åˆ†ç±»ã€æ ‡ç­¾ã€å½’æ¡£ç­‰åŠŸèƒ½æ¥å¸®åŠ©è¯»è€…æŸ¥æ‰¾ä¿¡æ¯ã€‚å®ƒçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªä¸ªäººçš„æŠ€æœ¯åšå®¢ã€‚&#x27;, &#x27;reasoning_content&#x27;: &#x27;&#x27;, &#x27;name&#x27;: &#x27;ç½‘é¡µæŸ¥çœ‹åŠ©æ‰‹&#x27;&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/04/508dbaded94578dec7febdb6858fe7de.webp" alt="image.png"></p><h3 id="3-3-ä½¿ç”¨MCPåè®®åçš„toolsè°ƒç”¨æµç¨‹å›¾">3.3. ä½¿ç”¨MCPåè®®åçš„toolsè°ƒç”¨æµç¨‹å›¾</h3><p>ä½¿ç”¨MCPåè®®åï¼Œæµç¨‹å›¾å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼Œæ­¤æ—¶aiå·¥å…·å°±ä»toolsä¸­è§£æ”¾äº†å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°æ·»åŠ ä»»ä½•æˆ‘ä»¬éœ€è¦çš„MCP Serveré…ç½®ï¼Œæœ€ç»ˆaièƒ½è‡ªåŠ¨è°ƒç”¨è¿™äº›å¤–éƒ¨å·¥å…·å¹¶å¤„ç†ä»–ä»¬çš„ç»“æœï¼Œä¸å†éœ€è¦åƒfunction callä¸€æ ·äººå·¥ç¼–å†™è„šæœ¬å¤„ç†å¤§æ¨¡å‹ç”Ÿæˆçš„å‚æ•°ï¼Œä¹Ÿä¸éœ€è¦åœ¨ä¸åŒAgent SDKä¸­ç‹¬ç«‹ä¸ºtoolsç¼–å†™é€‚é…ä»£ç äº†ã€‚</p><pre><code class="highlight mermaid">graph TD;    A[aiå·¥å…·åŠ è½½mcpé…ç½®] --&gt; |å¯åŠ¨å’Œè¿æ¥mcpæœåŠ¡å™¨|B    B[mcp client] --&gt; |é“¾æ¥æœåŠ¡å™¨ï¼Œè·å–å·²æœ‰å·¥å…·ï¼Œè°ƒç”¨å·¥å…·|C[MCP Server]     C --&gt;|è¿”å›å·²æœ‰å·¥å…·ï¼Œè¿”å›å·¥å…·è°ƒç”¨ç»“æœ|B</code></pre><p>åœ¨è®©AIè°ƒç”¨å¤–éƒ¨å·¥å…·çš„æ–¹é¢ï¼ŒMCPåè®®è¿˜æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMCPå’Œfunction callå¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„å…³ç³»ã€‚ç›®å‰MCP Hostä¸­æ¥å…¥MCPå·¥å…·æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯promptçš„æ–¹å¼ï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯function callæ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨éƒ¨åˆ†aiå·¥å…·ä¸­ï¼Œ<strong>ä¼šç›´æ¥ä½¿ç”¨function callåŠŸèƒ½æ¥è®©aiè¯†åˆ«MCPå·¥å…·å¹¶è°ƒç”¨</strong>ã€‚MCPä¸»è¦çš„åŠ©åŠ›åœ¨äºç»Ÿä¸€äº†è°ƒç”¨è¿™äº›å¤–éƒ¨å·¥å…·çš„é…ç½®é¡¹å’ŒæœåŠ¡ç«¯çš„å®ç°æ–¹å¼ï¼Œè®©æˆ‘ä»¬ç¼–å†™çš„å¤–éƒ¨å·¥å…·èƒ½åšåˆ°ä¸€æ¬¡ç¼–å†™å¤šå¤„ä½¿ç”¨ã€‚</p><h2 id="5-The-end">5. The end</h2><p>å…³äºMCPåè®®çš„ä»‹ç»åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œä¸»è¦ä»‹ç»çš„è¿˜æ˜¯MCP TOOLSæ–¹é¢çš„å†…å®¹ï¼Œæœ‰ä»»ä½•é—®é¢˜æ¬¢è¿è¯„è®ºåŒºè®¨è®ºã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»äº†MCPå¤§æ¨¡å‹ä¸Šä¸‹æ–‡åè®®çš„çš„æ¦‚å¿µï¼Œå¹¶å¯¹æ¯”äº†MCPåè®®å’Œfunction callçš„åŒºåˆ«ï¼ŒåŒæ—¶ç”¨python sdkä¸ºä¾‹ä»‹ç»äº†mcpçš„ä½¿ç”¨æ–¹å¼ã€‚</summary>
    
    
    
    <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Agentæ™ºèƒ½ä½“å¼€å‘" scheme="https://blog.musnow.top/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/Agent%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="AI" scheme="https://blog.musnow.top/tags/AI/"/>
    
    <category term="Python" scheme="https://blog.musnow.top/tags/Python/"/>
    
    <category term="MCP" scheme="https://blog.musnow.top/tags/MCP/"/>
    
  </entry>
  
  <entry>
    <title>ã€vuepressã€‘æ›´æ–°vuepress-theme-vdoingç«™ç‚¹è¯„è®ºé‡åˆ°ERR_OSSL_EVP_UNSUPPORTEDæŠ¥é”™è§£å†³</title>
    <link href="https://blog.musnow.top/posts/1719748062/"/>
    <id>https://blog.musnow.top/posts/1719748062/</id>
    <published>2025-04-15T02:13:03.000Z</published>
    <updated>2025-09-21T01:43:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡è®°å½•äº†å°†vuepress-theme-vdoingæ›´æ–°ç«™ç‚¹è¯„è®ºartalkç‰ˆæœ¬åˆ°2.9.1æ—¶é‡åˆ°çš„<code>ERR_OSSL_EVP_UNSUPPORTED</code>ç¼–è¯‘æŠ¥é”™ä»¥åŠè§£å†³åŠæ³•</p><h2 id="1-è¯´æ˜">1. è¯´æ˜</h2><p>è¿™æ¬¡æ›´æ–°hexo butterflyä¸»é¢˜çš„æ—¶å€™ï¼Œé¡ºå¸¦æ›´æ–°äº†artalkè¯„è®ºç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚ç›®å‰æˆ‘çš„artalkè¯„è®ºç³»ç»Ÿè¿˜æœ‰å¦å¤–ä¸€ä¸ªç«™ç‚¹åœ¨ç”¨ï¼Œä¹Ÿå°±æ˜¯KOOKè¯­éŸ³è½¯ä»¶æœºå™¨äººSDK <code>khl.py</code>çš„æ–‡æ¡£ç«™ç‚¹ï¼š</p><ul><li>æ–‡æ¡£ç«™ç‚¹é“¾æ¥ï¼š<a href="https://khl-py.eu.org/">https://khl-py.eu.org/</a></li><li>æ–‡æ¡£ä»“åº“é“¾æ¥ï¼š<a href="https://github.com/musnows/khl.py.docs">https://github.com/musnows/khl.py.docs</a></li><li>SDKä»“åº“é“¾æ¥ï¼š<a href="https://github.com/TWT233/khl.py">https://github.com/TWT233/khl.py</a></li></ul><p><a href="https://khl-py.eu.org/">https://khl-py.eu.org/</a>ä½¿ç”¨çš„æ˜¯vuepress-theme-vdoingæ¡†æ¶ï¼Œä¸ºäº†è®©æ›´æ–°åçš„artalkè¯„è®ºç³»ç»Ÿåœ¨è¿™ä¸ªç«™ç‚¹ä¸Šä¾æ—§å¯ç”¨ï¼Œéœ€è¦æ›´æ–°vuepressä½¿ç”¨çš„è¯„è®ºç³»ç»Ÿç‰ˆæœ¬ã€‚</p><h2 id="2-æ›´æ–°">2. æ›´æ–°</h2><p>ç”±äºç«™ç‚¹æœ¬èº«å¹¶ä¸éœ€è¦æ›´æ–°ï¼Œåªæ˜¯éœ€è¦å¼•å…¥æ–°ç‰ˆæœ¬çš„è¯„è®ºç³»ç»Ÿæ’ä»¶ï¼Œæ‰€ä»¥åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹packages.jsoné‡Œé¢çš„vuepress-plugin-vdoing-commentæ’ä»¶ç‰ˆæœ¬å°±å¯ä»¥äº†ï¼Œå‡çº§åˆ°æœ€æ–°çš„1.3.0</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;vuepress-plugin-vdoing-comment&quot;: &quot;^1.3.0&quot;</span><br></pre></td></tr></table></figure><p>å‡çº§äº†ä¹‹åï¼Œåˆ é™¤æœ¬åœ°<code>node_modules</code>å’Œ<code>packages-lock.json</code>æ–‡ä»¶ï¼Œé‡æ–°å®‰è£…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf node_modules packages-lock.json</span><br><span class="line">npm install --save</span><br></pre></td></tr></table></figure><p>å®‰è£…è‡ªç„¶æ˜¯æˆåŠŸçš„ï¼Œæ²¡æœ‰å‡ºç°é—®é¢˜ã€‚</p><h2 id="3-æŠ¥é”™å’Œè§£å†³">3. æŠ¥é”™å’Œè§£å†³</h2><h3 id="3-1-æŠ¥é”™">3.1. æŠ¥é”™</h3><p>ä½¿ç”¨npm run devå¼€å¯é¢„è§ˆçš„æ—¶å€™ï¼Œå‡ºç°äº†ç¼–è¯‘æŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">â— Client â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ compiling (0%)  </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">â„¹ ï½¢wdsï½£: Project is running at http://0.0.0.0:8080/</span><br><span class="line">â„¹ ï½¢wdsï½£: webpack output is served from /</span><br><span class="line">â„¹ ï½¢wdsï½£: Content not from webpack is served from /Users/mothra/data/hexo/khl.py.docs/docs/.vuepress/public</span><br><span class="line">â„¹ ï½¢wdsï½£: 404s will fallback to /index.html</span><br><span class="line">Error: error:0308010C:digital envelope routines::unsupported</span><br><span class="line">    at new Hash (node:internal/crypto/hash:79:19)</span><br><span class="line">    at Object.createHash (node:crypto:139:10)</span><br><span class="line">    at module.exports (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/util/createHash.js:135:53)</span><br><span class="line">    at NormalModule._initBuildHash (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:417:16)</span><br><span class="line">    at handleParseError (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:471:10)</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:503:5</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:358:12</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:373:3</span><br><span class="line">    at iterateNormalLoaders (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:214:10)</span><br><span class="line">    at iterateNormalLoaders (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:221:10)</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:236:3</span><br><span class="line">    at runSyncOrAsync (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:130:11)</span><br><span class="line">    at iterateNormalLoaders (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:232:2)</span><br><span class="line">    at Array.&lt;anonymous&gt; (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:205:4)</span><br><span class="line">    at Storage.finished (/Users/mothra/data/hexo/khl.py.docs/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9</span><br><span class="line">node:internal/crypto/hash:79</span><br><span class="line">  this[kHandle] = new _Hash(algorithm, xofLen, algorithmId, getHashCache());</span><br><span class="line">                  ^</span><br><span class="line"></span><br><span class="line">Error: error:0308010C:digital envelope routines::unsupported</span><br><span class="line">    at new Hash (node:internal/crypto/hash:79:19)</span><br><span class="line">    at Object.createHash (node:crypto:139:10)</span><br><span class="line">    at module.exports (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/util/createHash.js:135:53)</span><br><span class="line">    at NormalModule._initBuildHash (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:417:16)</span><br><span class="line">    at handleParseError (/Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:471:10)</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:503:5</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/webpack/lib/NormalModule.js:358:12</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:373:3</span><br><span class="line">    at iterateNormalLoaders (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:214:10)</span><br><span class="line">    at Array.&lt;anonymous&gt; (/Users/mothra/data/hexo/khl.py.docs/node_modules/loader-runner/lib/LoaderRunner.js:205:4)</span><br><span class="line">    at Storage.finished (/Users/mothra/data/hexo/khl.py.docs/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9</span><br><span class="line">    at /Users/mothra/data/hexo/khl.py.docs/node_modules/graceful-fs/graceful-fs.js:123:16</span><br><span class="line">    at FSReqCallback.readFileAfterClose [as oncomplete] (node:internal/fs/read/context:68:3) &#123;</span><br><span class="line">  opensslErrorStack: [</span><br><span class="line">    &#x27;error:03000086:digital envelope routines::initialization error&#x27;,</span><br><span class="line">    &#x27;error:0308010C:digital envelope routines::unsupported&#x27;</span><br><span class="line">  ],</span><br><span class="line">  library: &#x27;digital envelope routines&#x27;,</span><br><span class="line">  reason: &#x27;unsupported&#x27;,</span><br><span class="line">  code: &#x27;ERR_OSSL_EVP_UNSUPPORTED&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node.js v20.18.0</span><br></pre></td></tr></table></figure><h3 id="3-2-è§£å†³">3.2. è§£å†³</h3><p>æŠ¥é”™çš„ç›´æ¥åŸå› æ˜¯<code>ERR_OSSL_EVP_UNSUPPORTED</code>ï¼Œé—®äº†AIï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºæ–°ç‰ˆæœ¬çš„npmä¸æ”¯æŒè€ç‰ˆæœ¬çš„opensslï¼Œéœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ç»•è¿‡è¿™å±‚æ£€æŸ¥ï¼Œæ‰å¯ä»¥æ­£å¸¸éƒ¨ç½²ã€‚</p><p>éœ€è¦ä¿®æ”¹packages.jsoné‡Œé¢çš„scriptséƒ¨åˆ†ï¼Œåœ¨åŸæœ¬çš„devå‘½ä»¤ä¹‹å‰ï¼Œéƒ½åŠ ä¸Šä¸€ä¸ª<code>export NODE_OPTIONS=--openssl-legacy-provider</code>ç¯å¢ƒå˜é‡è®¾ç½®çš„æ“ä½œï¼Œè®©npmä½¿ç”¨è€ç‰ˆæœ¬çš„opensslå…¼å®¹æœºåˆ¶ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°é—®é¢˜äº†ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;export NODE_OPTIONS=--openssl-legacy-provider &amp;&amp; vuepress dev&quot;</span><span class="punctuation">,</span>  <span class="comment">// Mac/Linux</span></span><br><span class="line">  <span class="attr">&quot;dev:win&quot;</span><span class="punctuation">:</span> <span class="string">&quot;set NODE_OPTIONS=--openssl-legacy-provider &amp;&amp; vuepress dev&quot;</span> <span class="comment">// Windows</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¹‹åï¼Œå†æ¬¡è¿è¡Œnpm run devï¼Œç«™ç‚¹é¢„è§ˆæ­£å¸¸ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/636c9281e2f49381b1274c70f248992d.webp" alt="image.png"></p><h3 id="3-3-æé†’ï¼šæŒ‰éœ€æ·»åŠ ">3.3. æé†’ï¼šæŒ‰éœ€æ·»åŠ </h3><p>æ³¨æ„ï¼Œè¿™ä¸ªç¯å¢ƒå˜é‡åªæœ‰åœ¨å‡ºç°äº†<code>ERR_OSSL_EVP_UNSUPPORTED</code>é—®é¢˜çš„æ—¶å€™æ‰éœ€è¦æ·»åŠ ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨Netlifyæˆ–è€…Verceléƒ¨ç½²ä½ çš„ç«™ç‚¹ï¼Œå¯èƒ½ä¸ä¼šæœ‰è¿™ä¸ªæŠ¥é”™ï¼Œæ­¤æ—¶ä¸è¦æ·»åŠ è¿™ä¸ªç¯å¢ƒå˜é‡ï¼</p><p>æ¯”å¦‚ä¸‹å›¾ï¼Œä½¿ç”¨Netlifyéƒ¨ç½²çš„æ—¶å€™æ·»åŠ äº†è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œæç¤ºä¸æ”¯æŒ<code>--openssl-legacy-provider</code>è¿™ä¸ªé€‰é¡¹ã€‚ä¸æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œåè€Œèƒ½æ­£å¸¸æ„å»ºéƒ¨ç½²ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://img.musnow.top/i/2025/09/39ce4715125e5d963782a56abd297691.webp" alt="image.png"></p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡è®°å½•äº†å°†vuepress-theme-vdoingæ›´æ–°ç«™ç‚¹è¯„è®ºartalkç‰ˆæœ¬åˆ°2.9.1æ—¶é‡åˆ°çš„ERR_OSSL_EVP_UNSUPPORTEDç¼–è¯‘æŠ¥é”™ä»¥åŠè§£å†³åŠæ³•</summary>
    
    
    
    <category term="å·®ç”Ÿæ–‡å…·å¤š" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/"/>
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/categories/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    
    <category term="åšå®¢å»ºç«™" scheme="https://blog.musnow.top/tags/%E5%8D%9A%E5%AE%A2%E5%BB%BA%E7%AB%99/"/>
    
    <category term="Hexo" scheme="https://blog.musnow.top/tags/Hexo/"/>
    
  </entry>
  
</feed>
